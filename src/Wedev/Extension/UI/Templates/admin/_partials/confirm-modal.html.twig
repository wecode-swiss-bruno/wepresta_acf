{#
 # =============================================================================
 # WEDEV UI - Modal de Confirmation
 # =============================================================================
 # Utilisation: Inclure ce template une seule fois dans le layout principal.
 #
 # {% include '@WedevUI/admin/_partials/confirm-modal.html.twig' %}
 #
 # Puis dÃ©clencher via JavaScript:
 # window.dispatchEvent(new CustomEvent('wedev-confirm', {
 #     detail: {
 #         title: 'Delete item?',
 #         message: 'This action cannot be undone.',
 #         confirmLabel: 'Delete',
 #         dangerous: true,
 #         onConfirm: () => { /* action */ }
 #     }
 # }));
 #
 # Ou via les helpers JS:
 # const confirmed = await Wedev.confirm({ title: 'Delete?', dangerous: true });
 # =============================================================================
 #}

<div x-data="wedevConfirm()"
     x-show="open"
     x-cloak
     @wedev-confirm.window="show($event.detail)"
     @keydown.escape.window="cancel()"
     class="modal fade"
     :class="{ 'show': open }"
     :style="open ? 'display: block; background: rgba(0,0,0,0.5);' : 'display: none;'"
     tabindex="-1"
     role="dialog"
     aria-modal="true">

    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content"
             x-show="open"
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 transform scale-95"
             x-transition:enter-end="opacity-100 transform scale-100"
             x-transition:leave="transition ease-in duration-150"
             x-transition:leave-start="opacity-100 transform scale-100"
             x-transition:leave-end="opacity-0 transform scale-95">

            {# Header #}
            <div class="modal-header">
                <h5 class="modal-title" x-text="title"></h5>
                <button type="button"
                        class="close"
                        @click="cancel()"
                        aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            {# Body #}
            <div class="modal-body">
                <p x-text="message" class="mb-0"></p>
            </div>

            {# Footer #}
            <div class="modal-footer">
                <button type="button"
                        class="btn btn-outline-secondary"
                        @click="cancel()"
                        x-text="cancelLabel">
                </button>
                <button type="button"
                        class="btn"
                        :class="confirmClass"
                        @click="confirm()"
                        x-text="confirmLabel">
                </button>
            </div>
        </div>
    </div>
</div>

{# Style pour x-cloak (cacher avant initialisation Alpine) #}
<style>
    [x-cloak] { display: none !important; }
</style>




