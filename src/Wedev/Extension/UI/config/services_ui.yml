# =============================================================================
# WEDEV UI Extension - Services Configuration
# =============================================================================
# À inclure dans le fichier config/services.yml du module principal :
#
# imports:
#     - { resource: '../src/Extension/UI/config/services_ui.yml' }
# =============================================================================

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    # -------------------------------------------------------------------------
    # Twig Extension
    # -------------------------------------------------------------------------
    # IMPORTANT: Twig extensions are cached by Symfony container.
    # During module uninstall, the container cache must be cleared AFTER
    # the uninstall process to avoid "class not found" errors.
    WeprestaAcf\Wedev\Extension\UI\Twig\UiExtension:
        class: WeprestaAcf\Wedev\Extension\UI\Twig\UiExtension
        tags: ['twig.extension']
        # Lazy loading prevents instantiation until actually used
        lazy: true

    # -------------------------------------------------------------------------
    # Alias pour utilisation simplifiée
    # -------------------------------------------------------------------------
    wedev.ui.twig_extension:
        alias: WeprestaAcf\Wedev\Extension\UI\Twig\UiExtension
        public: true





