import{e as Gl,r as R,m as Bl,i as $o,h as wo,a as ct,b as ae,c as Hl,t as xo,g as ko,o as Co,w as ee,n as Ze,d as jl,f as z,j as le,k as b,l as F,p as g,q as ne,s as e,u as m,_ as he,v as Ke,x as f,F as X,y as te,z as _e,A,B as Ce,C as So,D as ml,E as zl,G,H as q,I as Nt,J as To,K as Pt,L as ke,M as Do,N as ft,O as Ve,P as yt,Q as Io,R as Eo,S as Mo,T as Ro,U as Fo,V as Ao}from"./acf-AcfFieldRenderer.vue_vue_type_script_setup_true_lang.js";/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ql;const Yt=t=>ql=t,Yl=Symbol();function al(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var _t;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(_t||(_t={}));function Uo(){const t=Gl(!0),s=t.run(()=>R({}));let l=[],o=[];const a=Bl({install(i){Yt(a),a._a=i,i.provide(Yl,a),i.config.globalProperties.$pinia=a,o.forEach(r=>l.push(r)),o=[]},use(i){return this._a?l.push(i):o.push(i),this},_p:l,_a:null,_e:t,_s:new Map,state:s});return a}const Wl=()=>{};function yl(t,s,l,o=Wl){t.push(s);const a=()=>{const i=t.indexOf(s);i>-1&&(t.splice(i,1),o())};return!l&&ko()&&Co(a),a}function st(t,...s){t.slice().forEach(l=>{l(...s)})}const Lo=t=>t(),_l=Symbol(),Xt=Symbol();function il(t,s){t instanceof Map&&s instanceof Map?s.forEach((l,o)=>t.set(o,l)):t instanceof Set&&s instanceof Set&&s.forEach(t.add,t);for(const l in s){if(!s.hasOwnProperty(l))continue;const o=s[l],a=t[l];al(a)&&al(o)&&t.hasOwnProperty(l)&&!ae(o)&&!Hl(o)?t[l]=il(a,o):t[l]=o}return t}const Vo=Symbol();function Oo(t){return!al(t)||!t.hasOwnProperty(Vo)}const{assign:We}=Object;function No(t){return!!(ae(t)&&t.effect)}function Po(t,s,l,o){const{state:a,actions:i,getters:r}=s,c=l.state.value[t];let p;function u(){c||(l.state.value[t]=a?a():{});const n=jl(l.state.value[t]);return We(n,i,Object.keys(r||{}).reduce((d,h)=>(d[h]=Bl(z(()=>{Yt(l);const v=l._s.get(t);return r[h].call(v,v)})),d),{}))}return p=Xl(t,u,s,l,o,!0),p}function Xl(t,s,l={},o,a,i){let r;const c=We({actions:{}},l),p={deep:!0};let u,n,d=[],h=[],v;const _=o.state.value[t];!i&&!_&&(o.state.value[t]={}),R({});let w;function $(S){let x;u=n=!1,typeof S=="function"?(S(o.state.value[t]),x={type:_t.patchFunction,storeId:t,events:v}):(il(o.state.value[t],S),x={type:_t.patchObject,payload:S,storeId:t,events:v});const M=w=Symbol();Ze().then(()=>{w===M&&(u=!0)}),n=!0,st(d,x,o.state.value[t])}const I=i?function(){const{state:x}=l,M=x?x():{};this.$patch(T=>{We(T,M)})}:Wl;function D(){r.stop(),d=[],h=[],o._s.delete(t)}const C=(S,x="")=>{if(_l in S)return S[Xt]=x,S;const M=function(){Yt(o);const T=Array.from(arguments),y=[],k=[];function B(ie){y.push(ie)}function oe(ie){k.push(ie)}st(h,{args:T,name:M[Xt],store:U,after:B,onError:oe});let P;try{P=S.apply(this&&this.$id===t?this:U,T)}catch(ie){throw st(k,ie),ie}return P instanceof Promise?P.then(ie=>(st(y,ie),ie)).catch(ie=>(st(k,ie),Promise.reject(ie))):(st(y,P),P)};return M[_l]=!0,M[Xt]=x,M},E={_p:o,$id:t,$onAction:yl.bind(null,h),$patch:$,$reset:I,$subscribe(S,x={}){const M=yl(d,S,x.detached,()=>T()),T=r.run(()=>ee(()=>o.state.value[t],y=>{(x.flush==="sync"?n:u)&&S({storeId:t,type:_t.direct,events:v},y)},We({},p,x)));return M},$dispose:D},U=ct(E);o._s.set(t,U);const L=(o._a&&o._a.runWithContext||Lo)(()=>o._e.run(()=>(r=Gl()).run(()=>s({action:C}))));for(const S in L){const x=L[S];if(ae(x)&&!No(x)||Hl(x))i||(_&&Oo(x)&&(ae(x)?x.value=_[S]:il(x,_[S])),o.state.value[t][S]=x);else if(typeof x=="function"){const M=C(x,S);L[S]=M,c.actions[S]=x}}return We(U,L),We(xo(U),L),Object.defineProperty(U,"$state",{get:()=>o.state.value[t],set:S=>{$(x=>{We(x,S)})}}),o._p.forEach(S=>{We(U,r.run(()=>S({store:U,app:o._a,pinia:o,options:c})))}),_&&i&&l.hydrate&&l.hydrate(U.$state,_),u=!0,n=!0,U}/*! #__NO_SIDE_EFFECTS__ */function Jl(t,s,l){let o,a;const i=typeof s=="function";typeof t=="string"?(o=t,a=i?l:s):(a=t,o=t.id);function r(c,p){const u=wo();return c=c||(u?$o(Yl,null):null),c&&Yt(c),c=ql,c._s.has(o)||(i?Xl(o,s,a,c):Po(o,a,c)),c._s.get(o)}return r.$id=o,r}function mt(){const t=window.acfConfig;async function s($,I={}){const D=$.startsWith("/")?$:`/${$}`;let E=`${t.apiUrl.endsWith("/")?t.apiUrl.slice(0,-1):t.apiUrl}${D}`;const U=E.includes("?")?"&":"?";E=`${E}${U}_token=${t.token}`;const O=new AbortController,L=setTimeout(()=>O.abort(),1e4);let S;try{S=await fetch(E,{...I,headers:{"Content-Type":"application/json",...I.headers},signal:O.signal}),clearTimeout(L)}catch(M){throw clearTimeout(L),M.name==="AbortError"?new Error("Request timeout - API server may be unavailable"):M}const x=await S.json();if(!S.ok||x.success===!1)throw new Error(x.error||x.message||"API request failed");return x}async function l(){return(await s("/groups")).data||[]}async function o($){const I=await s(`/groups/${$}`);if(!I.data)throw new Error("Group not found");return I.data}async function a($){const I=await s("/groups",{method:"POST",body:JSON.stringify($)});if(!I.data)throw new Error("Failed to create group");return I.data}async function i($,I){const D=await s(`/groups/${$}`,{method:"PUT",body:JSON.stringify(I)});if(!D.data)throw new Error("Failed to update group");return D.data}async function r($){await s(`/groups/${$}`,{method:"DELETE"})}async function c($){const I=await s(`/groups/${$}/duplicate`,{method:"POST"});if(!I.data)throw new Error("Failed to duplicate group");return I.data}async function p($,I){const D=await s(`/groups/${$}/fields`,{method:"POST",body:JSON.stringify(I)});if(!D.data)throw new Error("Failed to create field");return D.data}async function u($,I){const D=await s(`/fields/${$}`,{method:"PUT",body:JSON.stringify(I)});if(!D.data)throw new Error("Failed to update field");return D.data}async function n($){await s(`/fields/${$}`,{method:"DELETE"})}async function d($,I){await s(`/groups/${$}/fields/reorder`,{method:"POST",body:JSON.stringify({order:I})})}async function h($){var D;return((D=(await s("/slugify",{method:"POST",body:JSON.stringify({text:$})})).data)==null?void 0:D.slug)||""}async function v($){return(await s(`/groups/${$}/global-values`)).data}async function _($,I){await s(`/groups/${$}/global-values`,{method:"POST",body:JSON.stringify({values:I})})}async function w($,I={}){return s($,I)}return{getGroups:l,getGroup:o,createGroup:a,updateGroup:i,deleteGroup:r,duplicateGroup:c,getGlobalValues:v,saveGlobalValues:_,createField:p,updateField:u,deleteField:n,reorderFields:d,slugify:h,fetchJson:w}}function It(t){return{...t,boOptions:Array.isArray(t.boOptions)?{}:t.boOptions||{}}}const He=Jl("builder",()=>{var Ne,$e;const t=mt(),s=R([]),l=R(null),o=R(null),a=R("list"),i=R(!1),r=R(!1),c=R(null),p=R(null),u=R(parseInt(((Ne=window.acfConfig)==null?void 0:Ne.currentLangId)||(($e=window.weprestaAcfConfig)==null?void 0:$e.currentLangId))||1);function n(V){u.value=V}const d=z(()=>s.value.filter(V=>V.active)),h=z(()=>{var V;return((V=l.value)==null?void 0:V.fields)||[]}),v=z(()=>{var V;return((V=window.acfConfig)==null?void 0:V.fieldTypes)||[]}),_=z(()=>l.value?!l.value.id&&l.value.title?!0:(l.value.fields||[]).some(j=>!j.id&&j.title.trim()):!1);async function w(){i.value=!0,c.value=null;try{const V=await t.getGroups();s.value=V.map(It)}catch(V){c.value=V.message||"Failed to load groups"}finally{i.value=!1}}async function $(V){i.value=!0,c.value=null;try{const j=await t.getGroup(V);l.value=It(j),a.value="edit"}catch(j){c.value=j.message}finally{i.value=!1}}function I(){l.value={uuid:crypto.randomUUID(),title:"",slug:"",description:null,locationRules:[],placementTab:"extra",placementPosition:null,priority:10,boOptions:{},active:!0,fields:[]},o.value=null,a.value="edit"}async function D(){var j,Z;if(!l.value)return;if(!((j=l.value.title)!=null&&j.trim())){c.value="❌ Group title is required. Please fill the group title in the Settings tab.";return}const V=(l.value.fields||[]).filter(se=>{var be;return!((be=se.title)!=null&&be.trim())});if(V.length>0){c.value=`❌ ${V.length} field(s) missing title. Please fill all field titles before saving.`,V[0]&&(o.value=V[0]);return}r.value=!0,c.value=null;try{let se=l.value.id;if(se){const W=await t.updateGroup(se,l.value),ce=It(W),ve=l.value.fields||[];l.value={...ce,fields:ve};const pe=s.value.findIndex(Pe=>Pe.id===ce.id);pe!==-1&&(s.value[pe]=ce)}else{const W=await t.createGroup(l.value),ce=It(W);se=ce.id;const ve=l.value.fields||[];l.value={...ce,fields:ve},s.value.push(ce)}const be=l.value.fields||[];for(const W of be){if(!W.title.trim())continue;let ce;if(W.id)ce=await t.updateField(W.id,W);else if(se)ce=await t.createField(se,W);else continue;const ve=l.value.fields.findIndex(pe=>pe.uuid===W.uuid);if(ve!==-1){const pe=W.children||[];l.value.fields[ve]={...ce,children:pe}}if(W.type==="repeater"&&W.children&&W.children.length>0&&ce.id){const pe=[];for(const Pe of W.children){if(!Pe.title.trim())continue;const Dt={...Pe,parentId:ce.id};let vt;if(Pe.id)vt=await t.updateField(Pe.id,Dt);else if(se)vt=await t.createField(se,Dt);else continue;pe.push(vt)}ve!==-1&&(l.value.fields[ve].children=pe)}}if(o.value){const W=(Z=l.value.fields)==null?void 0:Z.find(ce=>{var ve;return ce.uuid===((ve=o.value)==null?void 0:ve.uuid)});W&&(o.value=W)}p.value="Group saved successfully",setTimeout(()=>{p.value=null},3e3)}catch(se){c.value=se.message}finally{r.value=!1}}async function C(V){var j;i.value=!0,c.value=null;try{await t.deleteGroup(V),s.value=s.value.filter(Z=>Z.id!==V),((j=l.value)==null?void 0:j.id)===V&&(l.value=null,a.value="list"),p.value="Group deleted successfully",setTimeout(()=>{p.value=null},3e3)}catch(Z){c.value=Z.message}finally{i.value=!1}}async function E(V){i.value=!0,c.value=null;try{const j=await t.duplicateGroup(V);s.value.push(j),p.value="Group duplicated successfully",setTimeout(()=>{p.value=null},3e3)}catch(j){c.value=j.message}finally{i.value=!1}}function U(){_.value&&!confirm("⚠️ You have unsaved changes. Are you sure you want to leave without saving?")||(l.value=null,o.value=null,a.value="list")}function O(V){o.value=V}function L(V,j){var W,ce,ve;const Z=((ve=(ce=(W=l.value)==null?void 0:W.fields)==null?void 0:ce.filter(pe=>pe.uuid!==j&&pe.slug))==null?void 0:ve.map(pe=>pe.slug))||[];if(!Z.includes(V))return V;const se=Z.filter(pe=>pe.startsWith(`${V}_`)).map(pe=>parseInt(pe.split("_").pop()||"0",10)).filter(pe=>!isNaN(pe)),be=se.length>0?Math.max(...se)+1:2;return`${V}_${be}`}function S(V,j){var ce,ve;if(!l.value)return;const se={text:"Text Field",textarea:"Textarea",number:"Number Field",email:"Email Field",url:"URL Field",select:"Select Field",checkbox:"Checkbox Field",radio:"Radio Field",boolean:"Toggle Field",date:"Date Field",time:"Time Field",datetime:"Datetime Field",color:"Color Picker",richtext:"Rich Text Editor",file:"File Upload",files:"Multiple Files",image:"Image Upload",gallery:"Image Gallery",video:"Video Field",relation:"Relation Field",list:"List Field",repeater:"Repeater Field"}[V]||"New Field",be=se.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),W={uuid:crypto.randomUUID(),type:V,title:se,slug:L(be),parentId:(j==null?void 0:j.id)||null,config:{},validation:{},conditions:{},wrapper:{width:"100"},position:0,translations:{},active:!0};if(j){j.children||(j.children=[]),W.position=j.children.length,j.children.push(W);const pe=(ve=(ce=l.value)==null?void 0:ce.fields)==null?void 0:ve.find(Pe=>Pe.uuid===j.uuid);pe&&(pe.children=j.children)}else l.value.fields||(l.value.fields=[]),W.position=l.value.fields.length,l.value.fields.push(W);o.value=W}function x(V){var Z;if(!((Z=l.value)!=null&&Z.fields))return;const j=l.value.fields.findIndex(se=>se.uuid===V.uuid);j!==-1&&(l.value.fields[j]={...V})}function M(V,j){S(j,V)}async function T(V,j){var se,be;if(!V.children)return;const Z=V.children.findIndex(W=>W.uuid===j.uuid);if(Z!==-1)if(j.id){r.value=!0;try{await t.deleteField(j.id),V.children.splice(Z,1),x(V),((se=o.value)==null?void 0:se.uuid)===j.uuid&&(o.value=V)}catch(W){c.value=W.message}finally{r.value=!1}}else V.children.splice(Z,1),x(V),((be=o.value)==null?void 0:be.uuid)===j.uuid&&(o.value=V)}async function y(V,j){if(V.children=j.map((Z,se)=>({...Z,position:se})),x(V),V.id){const Z=j.filter(se=>se.id!==void 0).map(se=>se.id);if(Z.length>0)try{await t.reorderFields(V.id,Z)}catch(se){c.value=se.message}}}async function k(V){var se,be;if(!l.value)return;if(!V.title.trim()){c.value="Field title is required";return}const j=l.value.fields||[],Z=j.findIndex(W=>W.uuid===V.uuid);if(Z!==-1){r.value=!0,c.value=null;try{if(V.id){const W=await t.updateField(V.id,V);j[Z]=W,((se=o.value)==null?void 0:se.uuid)===V.uuid&&(o.value=W)}else if(l.value.id){const W=await t.createField(l.value.id,V);j[Z]=W,((be=o.value)==null?void 0:be.uuid)===V.uuid&&(o.value=W)}p.value="Field saved successfully",setTimeout(()=>{p.value=null},3e3)}catch(W){c.value=W.message}finally{r.value=!1}}}function B(V){var se,be;if(!l.value)return;const j=l.value.fields||[],Z=j.findIndex(W=>W.uuid===V.uuid);if(Z!==-1){const W=j[Z].children;j[Z]={...V,children:V.children||W},((se=o.value)==null?void 0:se.uuid)===V.uuid&&(o.value={...V,children:V.children||W});return}for(const W of j)if(W.type==="repeater"&&W.children){const ce=W.children.findIndex(ve=>ve.uuid===V.uuid);if(ce!==-1){W.children[ce]={...V},((be=o.value)==null?void 0:be.uuid)===V.uuid&&(o.value={...V});return}}}async function oe(V){var se,be;if(!l.value)return;const j=l.value.fields||[],Z=j.findIndex(W=>W.uuid===V.uuid);if(Z!==-1)if(V.id){r.value=!0;try{await t.deleteField(V.id),j.splice(Z,1),((se=o.value)==null?void 0:se.uuid)===V.uuid&&(o.value=null)}catch(W){c.value=W.message}finally{r.value=!1}}else j.splice(Z,1),((be=o.value)==null?void 0:be.uuid)===V.uuid&&(o.value=null)}async function P(V){if(l.value&&(l.value.fields=V.map((j,Z)=>({...j,position:Z})),l.value.id)){const j=V.filter(Z=>Z.id!==void 0).map(Z=>Z.id);if(j.length>0)try{await t.reorderFields(l.value.id,j)}catch(Z){c.value=Z.message}}}function ie(){c.value=null}function Oe(){p.value=null}return{groups:s,currentGroup:l,selectedField:o,viewMode:a,loading:i,saving:r,error:c,successMessage:p,activeGroups:d,currentFields:h,fieldTypes:v,hasUnsavedChanges:_,loadGroups:w,loadGroup:$,createNewGroup:I,saveGroup:D,deleteGroup:C,duplicateGroup:E,goToList:U,selectField:O,addField:S,addSubfield:M,removeSubfield:T,reorderSubfields:y,saveField:k,updateFieldLocal:B,removeField:oe,reorderFields:P,clearError:ie,clearSuccess:Oe,currentUiLangId:u,setCurrentUiLangId:n}}),ot=Jl("cpt",()=>{const{fetchJson:t}=mt(),s=R([]),l=R(null),o=R([]),a=R(null),i=R("list"),r=R([]),c=R(!1),p=R([]),u=R(!1),n=R(0),d=R(50),h=R(0),v=R(null),_=R("list"),w=R(!1),$=R(null),I=R([]);async function D(Y){w.value=!0;try{const H=await t(`/cpt/relations/${Y}`);return I.value=H.data||[],I.value}catch(H){return console.error("Error fetching relations:",H),[]}finally{w.value=!1}}async function C(Y,H){if(!H)return[];try{return(await t(`/cpt/${Y}/posts?limit=20&q=${encodeURIComponent(H)}`)).data.posts}catch(re){return console.error("Error searching posts:",re),[]}}z(()=>s.value.filter(Y=>Y.active));const E=z(()=>[...s.value].sort((Y,H)=>(Y.position||0)-(H.position||0))),U=z(()=>[...o.value].sort((Y,H)=>(Y.name||"").localeCompare(H.name||"")));async function O(){w.value=!0,$.value=null;try{const Y=await t("/cpt/types");s.value=Y.data||[]}catch(Y){$.value=Y.message,console.error("Error fetching CPT types:",Y)}finally{w.value=!1}}async function L(Y){w.value=!0,$.value=null;try{const H=await t(`/cpt/types/${Y}`);return l.value=H.data,H.data}catch(H){return $.value=H.message,console.error("Error fetching CPT type:",H),null}finally{w.value=!1}}async function S(Y){w.value=!0,$.value=null;try{const H=await t("/cpt/types",{method:"POST",body:JSON.stringify(Y)});return ce(),O(),H.data}catch(H){return $.value=H.message,console.error("Error creating CPT type:",H),null}finally{w.value=!1}}async function x(Y,H){w.value=!0,$.value=null;try{return await t(`/cpt/types/${Y}`,{method:"PUT",body:JSON.stringify(H)}),ce(),O(),!0}catch(re){return $.value=re.message,console.error("Error updating CPT type:",re),!1}finally{w.value=!1}}async function M(Y){w.value=!0,$.value=null;try{return await t(`/cpt/types/${Y}`,{method:"DELETE"}),await O(),!0}catch(H){return $.value=H.message,console.error("Error deleting CPT type:",H),!1}finally{w.value=!1}}async function T(){try{const Y=await t("/cpt/taxonomies");o.value=Y.data||[]}catch(Y){console.error("Error fetching taxonomies:",Y)}}async function y(Y){try{return(await t(`/cpt/taxonomies/${Y}`)).data}catch(H){return console.error("Error fetching taxonomy:",H),null}}async function k(Y){try{return await t("/cpt/taxonomies",{method:"POST",body:JSON.stringify(Y)}),await T(),ve(),!0}catch(H){return console.error("Error creating taxonomy:",H),!1}}async function B(Y,H){try{return await t(`/cpt/taxonomies/${Y}`,{method:"PUT",body:JSON.stringify(H)}),await T(),ve(),!0}catch(re){return console.error("Error creating taxonomy:",re),!1}}async function oe(Y){try{return await t(`/cpt/taxonomies/${Y}`,{method:"DELETE"}),await T(),!0}catch(H){return console.error("Error deleting taxonomy:",H),!1}}async function P(Y){w.value=!0,$.value=null;try{const H=await t(`/cpt/taxonomies/${Y}/terms`);r.value=H.data||[]}catch(H){$.value=H.message,console.error("Error fetching terms:",H)}finally{w.value=!1}}async function ie(Y,H){w.value=!0;try{return await t(`/cpt/taxonomies/${Y}/terms`,{method:"POST",body:JSON.stringify(H)}),await P(Y),!0}catch(re){return $.value=re.message,console.error("Error creating term:",re),!1}finally{w.value=!1}}async function Oe(Y,H){var re;w.value=!0;try{await t(`/cpt/terms/${Y}`,{method:"PUT",body:JSON.stringify(H)});const je=H.taxonomy_id||((re=a.value)==null?void 0:re.id);return je&&await P(je),!0}catch(je){return $.value=je.message,console.error("Error updating term:",je),!1}finally{w.value=!1}}async function Ne(Y){var H;w.value=!0;try{return await t(`/cpt/terms/${Y}`,{method:"DELETE"}),(H=a.value)!=null&&H.id&&await P(a.value.id),!0}catch(re){return $.value=re.message,console.error("Error deleting term:",re),!1}finally{w.value=!1}}async function $e(Y,H=0){u.value=!0,$.value=null;try{const re=await t(`/cpt/${Y}/posts?offset=${H}&limit=${d.value}`);p.value=re.data.posts,n.value=re.data.total,h.value=H}catch(re){$.value=re.message,console.error("Error fetching posts:",re)}finally{u.value=!1}}async function V(Y,H){u.value=!0,$.value=null;try{await t(`/cpt/posts/${Y}`,{method:"DELETE"}),await $e(H,h.value)}catch(re){$.value=re.message,console.error("Error deleting post:",re)}finally{u.value=!1}}async function j(Y){u.value=!0,$.value=null;try{const H=await t(`/cpt/posts/${Y}`);return v.value=H.data,H.data}catch(H){$.value=H.message,console.error("Error fetching post:",H)}finally{u.value=!1}}async function Z(Y,H){u.value=!0,$.value=null;try{const re=await t(`/cpt/${Y}/posts`,{method:"POST",body:JSON.stringify(H)});return await $e(Y),re.data.id}catch(re){throw $.value=re.message,console.error("Error creating post:",re),re}finally{u.value=!1}}async function se(Y,H,re){u.value=!0,$.value=null;try{await t(`/cpt/posts/${Y}`,{method:"PUT",body:JSON.stringify(re)}),await $e(H)}catch(je){throw $.value=je.message,console.error("Error updating post:",je),je}finally{u.value=!1}}function be(){l.value=null,$.value=null,_.value="edit"}function W(Y){L(Y),_.value="edit"}function ce(){l.value=null,_.value="list"}function ve(){a.value=null,i.value="list"}function pe(Y){y(Y).then(H=>{H&&(a.value=H,i.value="edit")})}function Pe(){a.value=null,i.value="edit"}function Dt(Y){a.value=Y,i.value="terms",P(Y.id)}function vt(){s.value=[],l.value=null,o.value=[],r.value=[],a.value=null,p.value=[],_.value="list",i.value="list",w.value=!1,$.value=null}return{viewMode:_,types:s,currentType:l,sortedTypes:E,taxonomies:o,currentTaxonomy:a,taxonomyViewMode:i,sortedTaxonomies:U,terms:r,loadingTerms:c,posts:p,loadingPosts:u,postsTotal:n,postsLimit:d,postsOffset:h,currentPost:v,relations:I,loading:w,error:$,fetchTypes:O,createType:S,updateType:x,deleteType:M,fetchType:L,fetchTaxonomies:T,createTaxonomy:k,updateTaxonomy:B,deleteTaxonomy:oe,fetchTaxonomy:y,fetchTermsByTaxonomy:P,createTerm:ie,updateTerm:Oe,deleteTerm:Ne,fetchPostsByType:$e,deletePost:V,fetchPost:j,createPost:Z,updatePost:se,fetchRelations:D,searchPosts:C,createNewType:be,editType:W,goToList:ce,goToTaxonomiesList:ve,editTaxonomy:pe,createNewTaxonomy:Pe,manageTerms:Dt,$reset:vt}});function fe(){var o;const t=((o=window.acfConfig)==null?void 0:o.translations)||{};function s(a){const i=document.createElement("textarea");return i.innerHTML=a,i.value}function l(a,i){const r=t[a]||i||a;return s(r)}return{t:l}}const Go=["title"],Bo={class:"material-icons sync-status-badge__icon"},Ho={key:0,class:"sync-status-badge__label"},jo=le({__name:"SyncStatusBadge",props:{status:{},showLabel:{type:Boolean,default:!1},syncEnabled:{type:Boolean,default:!0}},setup(t){const s=t,l=z(()=>{switch(s.status){case"synced":return{label:"Synced",icon:"check_circle",color:"success"};case"modified":return{label:"Modified",icon:"edit",color:"warning"};case"need_push":return{label:"Not in theme",icon:"cloud_upload",color:"info"};case"theme_only":return{label:"Theme only",icon:"cloud_download",color:"primary"};case"conflict":return{label:"Conflict",icon:"warning",color:"danger"};case"disabled":return{label:"Sync disabled",icon:"sync_disabled",color:"secondary"};default:return{label:"Unknown",icon:"help",color:"secondary"}}});return(o,a)=>t.syncEnabled?(g(),b("span",{key:0,class:ne(["sync-status-badge",["sync-status-badge--"+l.value.color]]),title:l.value.label},[e("span",Bo,m(l.value.icon),1),t.showLabel?(g(),b("span",Ho,m(l.value.label),1)):F("",!0)],10,Go)):F("",!0)}}),$l=he(jo,[["__scopeId","data-v-7dfa9ba7"]]),zo={class:"card"},qo={class:"card-body"},Yo={key:0,class:"alert alert-info d-flex align-items-start mb-3"},Wo={class:"flex-grow-1"},Xo={class:"mt-2"},Jo={class:"ml-1"},Qo={class:"ml-2 small"},Zo=["onClick"],Ko={key:1,class:"text-center py-5"},es={class:"text-muted mb-3"},ts={class:"d-flex justify-content-center"},ls={key:2,class:"alert alert-light border d-flex align-items-center justify-content-between mb-3"},os={class:"d-flex align-items-center"},ss={class:"font-weight-semibold"},ns={class:"btn-group",role:"group"},as={type:"button",class:"btn btn-outline-primary btn-sm dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},is={class:"dropdown-menu dropdown-menu-right"},rs={key:3,class:"grid js-grid",id:"acf_group_grid","data-grid-id":"acf_group"},ds={class:"table-responsive"},us={class:"grid-table js-grid-table table",id:"acf_group_grid_table"},cs={class:"thead-default"},fs={class:"column-headers"},ps={scope:"col","data-type":"selector","data-column-id":"select",class:"text-center"},ms=["checked",".indeterminate"],vs={class:"sr-only",for:"select-all-groups"},gs={scope:"col","data-type":"data","data-column-id":"title"},hs={role:"columnheader"},bs={scope:"col","data-type":"data","data-column-id":"slug"},ys={role:"columnheader"},_s={scope:"col","data-type":"data","data-column-id":"fields",class:"text-center"},$s={role:"columnheader"},ws={scope:"col","data-type":"data","data-column-id":"tab"},xs={role:"columnheader"},ks={key:0,scope:"col","data-type":"data","data-column-id":"sync"},Cs={role:"columnheader"},Ss={scope:"col","data-type":"boolean","data-column-id":"active",class:"text-center"},Ts={role:"columnheader"},Ds={class:"selector-type column-select text-center"},Is={class:"form-check mb-0"},Es=["checked","onChange","id"],Ms=["for"],Rs={"data-identifier":"",class:"identifier-type column-id"},Fs={class:"data-type column-title text-left"},As=["onClick"],Us={class:"data-type column-slug text-left"},Ls={class:"text-muted"},Vs={class:"data-type column-fields text-center"},Os={class:"badge badge-pill badge-secondary"},Ns={class:"data-type column-tab text-left"},Ps={class:"badge badge-info"},Gs={key:0,class:"data-type column-sync text-left"},Bs={class:"boolean-type column-active text-center"},Hs={key:0,class:"text-success"},js={key:1,class:"text-danger"},zs={class:"action-type column-actions"},qs={class:"btn-group-action text-right"},Ys={class:"btn-group d-flex justify-content-end"},Ws=["data-original-title","onClick"],Xs=["data-original-title","onClick"],Js={key:0,class:"btn-group"},Qs={class:"dropdown-menu dropdown-menu-right"},Zs=["onClick"],Ks=["onClick","disabled"],en=["onClick"],tn=["data-original-title","onClick"],ln=le({__name:"GroupList",setup(t){const s=He(),{t:l}=fe(),o=mt(),a=R(new Set),i=R(!1),r=R(!1),c=R({}),p=R([]),u=z(()=>a.value.size>0),n=z(()=>a.value.size),d=z(()=>s.groups.length>0&&a.value.size===s.groups.length),h=z(()=>a.value.size>0&&a.value.size<s.groups.length);Ke(async()=>{await v()});async function v(){try{const M=await o.fetchJson("/sync/status");if(M.success&&M.data&&(r.value=M.data.enabled,M.data.groups)){const T={},y=[];for(const k of M.data.groups)k.id?T[k.id]={status:k.status}:k.status==="theme_only"&&y.push({slug:k.slug,title:k.title||k.slug});c.value=T,p.value=y}}catch(M){console.warn("Could not load sync status:",M)}}function _(M){confirm(l("confirmDeleteGroup"))&&s.deleteGroup(M)}async function w(M){try{const T=await o.fetchJson(`/sync/push/${M}`,{method:"POST"});T.success?(alert(l("groupPushedSuccess")),await v()):alert(l("syncError")+": "+(T.error||"Unknown error"))}catch(T){alert(l("syncError")+": "+T.message)}}async function $(M){if(confirm(l("confirmPullFromTheme")))try{const T=await o.fetchJson(`/sync/pull/${M}`,{method:"POST"});T.success?(alert(l("groupPulledSuccess")),await s.loadGroups(),await v()):alert(l("syncError")+": "+(T.error||"Unknown error"))}catch(T){alert(l("syncError")+": "+T.message)}}async function I(M){try{const T=await o.fetchJson(`/sync/export/${M}`);if(T.success&&T.data){const y=new Blob([JSON.stringify(T.data.content,null,2)],{type:"application/json"}),k=URL.createObjectURL(y),B=document.createElement("a");B.href=k,B.download=T.data.filename,B.click(),URL.revokeObjectURL(k)}else alert(l("exportError")+": "+(T.error||"Unknown error"))}catch(T){alert(l("exportError")+": "+T.message)}}function D(M){a.value.has(M)?a.value.delete(M):a.value.add(M),E()}function C(){d.value?a.value.clear():(a.value.clear(),s.groups.forEach(M=>{M.id&&a.value.add(M.id)})),E()}function E(){i.value=d.value}function U(){a.value.clear(),i.value=!1}async function O(M){const T=Array.from(a.value);if(T.length!==0)try{const y=await o.fetchJson("/groups/bulk-toggle-active",{method:"POST",body:JSON.stringify({groupIds:T,active:M})});y.success?(await s.loadGroups(),U(),alert(l("bulkActionSuccess"))):alert(l("bulkActionError")+": "+(y.error||"Unknown error"))}catch(y){alert(l("bulkActionError")+": "+y.message)}}function L(){const M=Array.from(a.value);if(M.length===0)return;const T=M.length===1?l("confirmDeleteGroup"):l("confirmDeleteGroups").replace("{count}",M.length.toString());confirm(T)&&S()}async function S(){const M=Array.from(a.value);if(M.length!==0)try{const T=await o.fetchJson("/groups/bulk-delete",{method:"POST",body:JSON.stringify({groupIds:M})});T.success?(await s.loadGroups(),U(),alert(l("bulkDeleteSuccess"))):alert(l("bulkDeleteError")+": "+(T.error||"Unknown error"))}catch(T){alert(l("bulkDeleteError")+": "+T.message)}}function x(M){var T;return((T=c.value[M])==null?void 0:T.status)||"unknown"}return(M,T)=>(g(),b("div",zo,[e("div",qo,[r.value&&p.value.length>0?(g(),b("div",Yo,[T[6]||(T[6]=e("i",{class:"material-icons mr-2"},"cloud_download",-1)),e("div",Wo,[e("strong",null,m(f(l)("themeOnlyGroups")),1),e("div",Xo,[(g(!0),b(X,null,te(p.value,y=>(g(),b("div",{key:y.slug,class:"d-flex align-items-center justify-content-between mb-2 p-2 bg-white border rounded"},[e("div",null,[T[4]||(T[4]=e("i",{class:"material-icons text-muted",style:{"font-size":"16px","vertical-align":"middle"}},"folder",-1)),e("strong",Jo,m(y.title),1),e("code",Qo,m(y.slug),1),_e($l,{status:"theme_only","show-label":!0,class:"ml-2"})]),e("button",{class:"btn btn-sm btn-info",onClick:k=>$(y.slug)},[T[5]||(T[5]=e("i",{class:"material-icons"},"cloud_download",-1)),A(" "+m(f(l)("import")),1)],8,Zo)]))),128))])])])):F("",!0),!f(s).loading&&f(s).groups.length===0&&p.value.length===0?(g(),b("div",Ko,[T[8]||(T[8]=e("i",{class:"material-icons text-muted mb-3",style:{"font-size":"64px"}},"widgets",-1)),e("p",es,m(f(l)("noGroups")),1),e("div",ts,[e("button",{class:"btn btn-outline-primary mr-2",onClick:T[0]||(T[0]=(...y)=>f(s).createNewGroup&&f(s).createNewGroup(...y))},[T[7]||(T[7]=e("i",{class:"material-icons"},"add",-1)),A(" "+m(f(l)("addGroup")),1)])])])):F("",!0),u.value?(g(),b("div",ls,[e("div",os,[T[9]||(T[9]=e("i",{class:"material-icons text-primary mr-2"},"check_circle",-1)),e("span",ss,m(n.value)+" "+m(n.value===1?f(l)("groupSelected"):f(l)("groupsSelected")),1)]),e("div",ns,[e("button",as,[T[10]||(T[10]=e("i",{class:"material-icons mr-1"},"settings",-1)),A(" "+m(f(l)("actions")),1)]),e("div",is,[e("button",{class:"dropdown-item",onClick:T[1]||(T[1]=y=>O(!0))},[T[11]||(T[11]=e("i",{class:"material-icons text-success mr-2"},"check_circle",-1)),A(" "+m(f(l)("activate")),1)]),e("button",{class:"dropdown-item",onClick:T[2]||(T[2]=y=>O(!1))},[T[12]||(T[12]=e("i",{class:"material-icons text-warning mr-2"},"cancel",-1)),A(" "+m(f(l)("deactivate")),1)]),T[14]||(T[14]=e("div",{class:"dropdown-divider"},null,-1)),e("button",{class:"dropdown-item text-danger",onClick:L},[T[13]||(T[13]=e("i",{class:"material-icons mr-2"},"delete",-1)),A(" "+m(f(l)("delete")),1)])])])])):F("",!0),f(s).groups.length>0?(g(),b("div",rs,[e("div",ds,[e("table",us,[e("thead",cs,[e("tr",fs,[e("th",ps,[e("input",{type:"checkbox",class:"form-check-input header-checkbox",checked:d.value,".indeterminate":h.value,onChange:C,id:"select-all-groups"},null,40,ms),e("label",vs,m(f(l)("selectAll")),1)]),T[15]||(T[15]=e("th",{scope:"col","data-type":"identifier","data-column-id":"id"},[e("span",{role:"columnheader"},"ID")],-1)),e("th",gs,[e("span",hs,m(f(l)("groupTitle")),1)]),e("th",bs,[e("span",ys,m(f(l)("groupSlug")),1)]),e("th",_s,[e("span",$s,m(f(l)("fields")),1)]),e("th",ws,[e("span",xs,m(f(l)("placementTab")),1)]),r.value?(g(),b("th",ks,[e("span",Cs,m(f(l)("sync")),1)])):F("",!0),e("th",Ss,[e("span",Ts,m(f(l)("active")),1)]),T[16]||(T[16]=e("th",{scope:"col","data-type":"action","data-column-id":"actions"},[e("div",{class:"grid-actions-header-text"},"Actions")],-1))])]),e("tbody",null,[(g(!0),b(X,null,te(f(s).groups,y=>(g(),b("tr",{key:y.id},[e("td",Ds,[e("div",Is,[e("input",{type:"checkbox",class:"form-check-input",checked:a.value.has(y.id),onChange:k=>D(y.id),id:"select-group-"+y.id},null,40,Es),e("label",{class:"form-check-label sr-only",for:"select-group-"+y.id},m(f(l)("selectGroup"))+" "+m(y.title||f(l)("untitled")),9,Ms)])]),e("td",Rs,m(y.id),1),e("td",Fs,[e("a",{href:"#",class:"text-primary font-weight-bold",onClick:Ce(k=>f(s).loadGroup(y.id),["prevent"])},m(y.title||f(l)("untitled")),9,As)]),e("td",Us,[e("code",Ls,m(y.slug),1)]),e("td",Vs,[e("span",Os,m(y.fieldCount||0),1)]),e("td",Ns,[e("span",Ps,m(y.placementTab||"extra"),1)]),r.value?(g(),b("td",Gs,[_e($l,{status:x(y.id),"sync-enabled":r.value},null,8,["status","sync-enabled"])])):F("",!0),e("td",Bs,[y.active?(g(),b("span",Hs,[...T[17]||(T[17]=[e("i",{class:"material-icons"},"check_circle",-1)])])):(g(),b("span",js,[...T[18]||(T[18]=[e("i",{class:"material-icons"},"cancel",-1)])]))]),e("td",zs,[e("div",qs,[e("div",Ys,[e("a",{href:"#",class:"btn tooltip-link dropdown-item inline-dropdown-item","data-toggle":"pstooltip","data-placement":"top","data-original-title":f(l)("edit"),onClick:Ce(k=>f(s).loadGroup(y.id),["prevent"])},[...T[19]||(T[19]=[e("i",{class:"material-icons"},"edit",-1)])],8,Ws),e("a",{href:"#",class:"btn tooltip-link dropdown-item inline-dropdown-item","data-toggle":"pstooltip","data-placement":"top","data-original-title":f(l)("duplicate"),onClick:Ce(k=>f(s).duplicateGroup(y.id),["prevent"])},[...T[20]||(T[20]=[e("i",{class:"material-icons"},"content_copy",-1)])],8,Xs),r.value?(g(),b("div",Js,[e("a",{href:"#",class:"btn tooltip-link dropdown-item inline-dropdown-item dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:T[3]||(T[3]=Ce(()=>{},["prevent"]))},[...T[21]||(T[21]=[e("i",{class:"material-icons"},"sync",-1)])]),e("div",Qs,[e("button",{class:"dropdown-item",onClick:k=>w(y.id)},[T[22]||(T[22]=e("i",{class:"material-icons"},"cloud_upload",-1)),A(" "+m(f(l)("pushToTheme")),1)],8,Zs),e("button",{class:"dropdown-item",onClick:k=>$(y.slug),disabled:x(y.id)==="need_push"},[T[23]||(T[23]=e("i",{class:"material-icons"},"cloud_download",-1)),A(" "+m(f(l)("pullFromTheme")),1)],8,Ks),T[25]||(T[25]=e("div",{class:"dropdown-divider"},null,-1)),e("button",{class:"dropdown-item",onClick:k=>I(y.id)},[T[24]||(T[24]=e("i",{class:"material-icons"},"download",-1)),A(" "+m(f(l)("exportJson")),1)],8,en)])])):F("",!0),e("a",{href:"#",class:"btn tooltip-link dropdown-item inline-dropdown-item text-danger","data-toggle":"pstooltip","data-placement":"top","data-original-title":f(l)("delete"),onClick:Ce(k=>_(y.id),["prevent"])},[...T[26]||(T[26]=[e("i",{class:"material-icons"},"delete",-1)])],8,tn)])])])]))),128))])])])])):F("",!0)])]))}}),on=he(ln,[["__scopeId","data-v-aa9501a6"]]);var sn=Object.defineProperty,Gt=Object.getOwnPropertySymbols,Ql=Object.prototype.hasOwnProperty,Zl=Object.prototype.propertyIsEnumerable,wl=(t,s,l)=>s in t?sn(t,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[s]=l,rt=(t,s)=>{for(var l in s||(s={}))Ql.call(s,l)&&wl(t,l,s[l]);if(Gt)for(var l of Gt(s))Zl.call(s,l)&&wl(t,l,s[l]);return t},Kl=(t,s)=>{var l={};for(var o in t)Ql.call(t,o)&&s.indexOf(o)<0&&(l[o]=t[o]);if(t!=null&&Gt)for(var o of Gt(t))s.indexOf(o)<0&&Zl.call(t,o)&&(l[o]=t[o]);return l};const eo="[vue-draggable-plus]: ";function nn(t){console.warn(eo+t)}function an(t){console.error(eo+t)}function xl(t,s,l){return l>=0&&l<t.length&&t.splice(l,0,t.splice(s,1)[0]),t}function rn(t){return t.replace(/-(\w)/g,(s,l)=>l?l.toUpperCase():"")}function dn(t){return Object.keys(t).reduce((s,l)=>(typeof t[l]<"u"&&(s[rn(l)]=t[l]),s),{})}function kl(t,s){return Array.isArray(t)&&t.splice(s,1),t}function Cl(t,s,l){return Array.isArray(t)&&t.splice(s,0,l),t}function un(t){return typeof t>"u"}function cn(t){return typeof t=="string"}function Sl(t,s,l){const o=t.children[l];t.insertBefore(s,o)}function Jt(t){t.parentNode&&t.parentNode.removeChild(t)}function fn(t,s=document){var l;let o=null;return typeof(s==null?void 0:s.querySelector)=="function"?o=(l=s==null?void 0:s.querySelector)==null?void 0:l.call(s,t):o=document.querySelector(t),o||nn(`Element not found: ${t}`),o}function pn(t,s,l=null){return function(...o){return t.apply(l,o),s.apply(l,o)}}function mn(t,s){const l=rt({},t);return Object.keys(s).forEach(o=>{l[o]?l[o]=pn(t[o],s[o]):l[o]=s[o]}),l}function vn(t){return t instanceof HTMLElement}function Tl(t,s){Object.keys(t).forEach(l=>{s(l,t[l])})}function gn(t){return t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97)}const hn=Object.assign;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Dl(t,s){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);s&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),l.push.apply(l,o)}return l}function Be(t){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Dl(Object(l),!0).forEach(function(o){bn(t,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):Dl(Object(l)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(l,o))})}return t}function At(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?At=function(s){return typeof s}:At=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},At(t)}function bn(t,s,l){return s in t?Object.defineProperty(t,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[s]=l,t}function qe(){return qe=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o])}return t},qe.apply(this,arguments)}function yn(t,s){if(t==null)return{};var l={},o=Object.keys(t),a,i;for(i=0;i<o.length;i++)a=o[i],!(s.indexOf(a)>=0)&&(l[a]=t[a]);return l}function _n(t,s){if(t==null)return{};var l=yn(t,s),o,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)o=i[a],!(s.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(l[o]=t[o])}return l}var $n="1.15.2";function ze(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ye=ze(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),St=ze(/Edge/i),Il=ze(/firefox/i),$t=ze(/safari/i)&&!ze(/chrome/i)&&!ze(/android/i),to=ze(/iP(ad|od|hone)/i),lo=ze(/chrome/i)&&ze(/android/i),oo={capture:!1,passive:!1};function ue(t,s,l){t.addEventListener(s,l,!Ye&&oo)}function de(t,s,l){t.removeEventListener(s,l,!Ye&&oo)}function Bt(t,s){if(s){if(s[0]===">"&&(s=s.substring(1)),t)try{if(t.matches)return t.matches(s);if(t.msMatchesSelector)return t.msMatchesSelector(s);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(s)}catch{return!1}return!1}}function wn(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Le(t,s,l,o){if(t){l=l||document;do{if(s!=null&&(s[0]===">"?t.parentNode===l&&Bt(t,s):Bt(t,s))||o&&t===l)return t;if(t===l)break}while(t=wn(t))}return null}var El=/\s+/g;function Ee(t,s,l){if(t&&s)if(t.classList)t.classList[l?"add":"remove"](s);else{var o=(" "+t.className+" ").replace(El," ").replace(" "+s+" "," ");t.className=(o+(l?" "+s:"")).replace(El," ")}}function J(t,s,l){var o=t&&t.style;if(o){if(l===void 0)return document.defaultView&&document.defaultView.getComputedStyle?l=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(l=t.currentStyle),s===void 0?l:l[s];!(s in o)&&s.indexOf("webkit")===-1&&(s="-webkit-"+s),o[s]=l+(typeof l=="string"?"":"px")}}function ut(t,s){var l="";if(typeof t=="string")l=t;else do{var o=J(t,"transform");o&&o!=="none"&&(l=o+" "+l)}while(!s&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(l)}function so(t,s,l){if(t){var o=t.getElementsByTagName(s),a=0,i=o.length;if(l)for(;a<i;a++)l(o[a],a);return o}return[]}function Ge(){var t=document.scrollingElement;return t||document.documentElement}function xe(t,s,l,o,a){if(!(!t.getBoundingClientRect&&t!==window)){var i,r,c,p,u,n,d;if(t!==window&&t.parentNode&&t!==Ge()?(i=t.getBoundingClientRect(),r=i.top,c=i.left,p=i.bottom,u=i.right,n=i.height,d=i.width):(r=0,c=0,p=window.innerHeight,u=window.innerWidth,n=window.innerHeight,d=window.innerWidth),(s||l)&&t!==window&&(a=a||t.parentNode,!Ye))do if(a&&a.getBoundingClientRect&&(J(a,"transform")!=="none"||l&&J(a,"position")!=="static")){var h=a.getBoundingClientRect();r-=h.top+parseInt(J(a,"border-top-width")),c-=h.left+parseInt(J(a,"border-left-width")),p=r+i.height,u=c+i.width;break}while(a=a.parentNode);if(o&&t!==window){var v=ut(a||t),_=v&&v.a,w=v&&v.d;v&&(r/=w,c/=_,d/=_,n/=w,p=r+n,u=c+d)}return{top:r,left:c,bottom:p,right:u,width:d,height:n}}}function Ml(t,s,l){for(var o=Qe(t,!0),a=xe(t)[s];o;){var i=xe(o)[l],r=void 0;if(r=a>=i,!r)return o;if(o===Ge())break;o=Qe(o,!1)}return!1}function pt(t,s,l,o){for(var a=0,i=0,r=t.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==Q.ghost&&(o||r[i]!==Q.dragged)&&Le(r[i],l.draggable,t,!1)){if(a===s)return r[i];a++}i++}return null}function vl(t,s){for(var l=t.lastElementChild;l&&(l===Q.ghost||J(l,"display")==="none"||s&&!Bt(l,s));)l=l.previousElementSibling;return l||null}function Ae(t,s){var l=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Q.clone&&(!s||Bt(t,s))&&l++;return l}function Rl(t){var s=0,l=0,o=Ge();if(t)do{var a=ut(t),i=a.a,r=a.d;s+=t.scrollLeft*i,l+=t.scrollTop*r}while(t!==o&&(t=t.parentNode));return[s,l]}function xn(t,s){for(var l in t)if(t.hasOwnProperty(l)){for(var o in s)if(s.hasOwnProperty(o)&&s[o]===t[l][o])return Number(l)}return-1}function Qe(t,s){if(!t||!t.getBoundingClientRect)return Ge();var l=t,o=!1;do if(l.clientWidth<l.scrollWidth||l.clientHeight<l.scrollHeight){var a=J(l);if(l.clientWidth<l.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||l.clientHeight<l.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!l.getBoundingClientRect||l===document.body)return Ge();if(o||s)return l;o=!0}}while(l=l.parentNode);return Ge()}function kn(t,s){if(t&&s)for(var l in s)s.hasOwnProperty(l)&&(t[l]=s[l]);return t}function Qt(t,s){return Math.round(t.top)===Math.round(s.top)&&Math.round(t.left)===Math.round(s.left)&&Math.round(t.height)===Math.round(s.height)&&Math.round(t.width)===Math.round(s.width)}var wt;function no(t,s){return function(){if(!wt){var l=arguments,o=this;l.length===1?t.call(o,l[0]):t.apply(o,l),wt=setTimeout(function(){wt=void 0},s)}}}function Cn(){clearTimeout(wt),wt=void 0}function ao(t,s,l){t.scrollLeft+=s,t.scrollTop+=l}function io(t){var s=window.Polymer,l=window.jQuery||window.Zepto;return s&&s.dom?s.dom(t).cloneNode(!0):l?l(t).clone(!0)[0]:t.cloneNode(!0)}function ro(t,s,l){var o={};return Array.from(t.children).forEach(function(a){var i,r,c,p;if(!(!Le(a,s.draggable,t,!1)||a.animated||a===l)){var u=xe(a);o.left=Math.min((i=o.left)!==null&&i!==void 0?i:1/0,u.left),o.top=Math.min((r=o.top)!==null&&r!==void 0?r:1/0,u.top),o.right=Math.max((c=o.right)!==null&&c!==void 0?c:-1/0,u.right),o.bottom=Math.max((p=o.bottom)!==null&&p!==void 0?p:-1/0,u.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var Re="Sortable"+new Date().getTime();function Sn(){var t=[],s;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var l=[].slice.call(this.el.children);l.forEach(function(o){if(!(J(o,"display")==="none"||o===Q.ghost)){t.push({target:o,rect:xe(o)});var a=Be({},t[t.length-1].rect);if(o.thisAnimationDuration){var i=ut(o,!0);i&&(a.top-=i.f,a.left-=i.e)}o.fromRect=a}})}},addAnimationState:function(l){t.push(l)},removeAnimationState:function(l){t.splice(xn(t,{target:l}),1)},animateAll:function(l){var o=this;if(!this.options.animation){clearTimeout(s),typeof l=="function"&&l();return}var a=!1,i=0;t.forEach(function(r){var c=0,p=r.target,u=p.fromRect,n=xe(p),d=p.prevFromRect,h=p.prevToRect,v=r.rect,_=ut(p,!0);_&&(n.top-=_.f,n.left-=_.e),p.toRect=n,p.thisAnimationDuration&&Qt(d,n)&&!Qt(u,n)&&(v.top-n.top)/(v.left-n.left)===(u.top-n.top)/(u.left-n.left)&&(c=Dn(v,d,h,o.options)),Qt(n,u)||(p.prevFromRect=u,p.prevToRect=n,c||(c=o.options.animation),o.animate(p,v,n,c)),c&&(a=!0,i=Math.max(i,c),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},c),p.thisAnimationDuration=c)}),clearTimeout(s),a?s=setTimeout(function(){typeof l=="function"&&l()},i):typeof l=="function"&&l(),t=[]},animate:function(l,o,a,i){if(i){J(l,"transition",""),J(l,"transform","");var r=ut(this.el),c=r&&r.a,p=r&&r.d,u=(o.left-a.left)/(c||1),n=(o.top-a.top)/(p||1);l.animatingX=!!u,l.animatingY=!!n,J(l,"transform","translate3d("+u+"px,"+n+"px,0)"),this.forRepaintDummy=Tn(l),J(l,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),J(l,"transform","translate3d(0,0,0)"),typeof l.animated=="number"&&clearTimeout(l.animated),l.animated=setTimeout(function(){J(l,"transition",""),J(l,"transform",""),l.animated=!1,l.animatingX=!1,l.animatingY=!1},i)}}}}function Tn(t){return t.offsetWidth}function Dn(t,s,l,o){return Math.sqrt(Math.pow(s.top-t.top,2)+Math.pow(s.left-t.left,2))/Math.sqrt(Math.pow(s.top-l.top,2)+Math.pow(s.left-l.left,2))*o.animation}var nt=[],Zt={initializeByDefault:!0},Tt={mount:function(t){for(var s in Zt)Zt.hasOwnProperty(s)&&!(s in t)&&(t[s]=Zt[s]);nt.forEach(function(l){if(l.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),nt.push(t)},pluginEvent:function(t,s,l){var o=this;this.eventCanceled=!1,l.cancel=function(){o.eventCanceled=!0};var a=t+"Global";nt.forEach(function(i){s[i.pluginName]&&(s[i.pluginName][a]&&s[i.pluginName][a](Be({sortable:s},l)),s.options[i.pluginName]&&s[i.pluginName][t]&&s[i.pluginName][t](Be({sortable:s},l)))})},initializePlugins:function(t,s,l,o){nt.forEach(function(r){var c=r.pluginName;if(!(!t.options[c]&&!r.initializeByDefault)){var p=new r(t,s,t.options);p.sortable=t,p.options=t.options,t[c]=p,qe(l,p.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var i=this.modifyOption(t,a,t.options[a]);typeof i<"u"&&(t.options[a]=i)}},getEventProperties:function(t,s){var l={};return nt.forEach(function(o){typeof o.eventProperties=="function"&&qe(l,o.eventProperties.call(s[o.pluginName],t))}),l},modifyOption:function(t,s,l){var o;return nt.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[s]=="function"&&(o=a.optionListeners[s].call(t[a.pluginName],l))}),o}};function In(t){var s=t.sortable,l=t.rootEl,o=t.name,a=t.targetEl,i=t.cloneEl,r=t.toEl,c=t.fromEl,p=t.oldIndex,u=t.newIndex,n=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,v=t.putSortable,_=t.extraEventProperties;if(s=s||l&&l[Re],!!s){var w,$=s.options,I="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Ye&&!St?w=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(o,!0,!0)),w.to=r||l,w.from=c||l,w.item=a||l,w.clone=i,w.oldIndex=p,w.newIndex=u,w.oldDraggableIndex=n,w.newDraggableIndex=d,w.originalEvent=h,w.pullMode=v?v.lastPutMode:void 0;var D=Be(Be({},_),Tt.getEventProperties(o,s));for(var C in D)w[C]=D[C];l&&l.dispatchEvent(w),$[I]&&$[I].call(s,w)}}var En=["evt"],Ie=function(t,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=l.evt,a=_n(l,En);Tt.pluginEvent.bind(Q)(t,s,Be({dragEl:N,parentEl:ye,ghostEl:K,rootEl:me,nextEl:lt,lastDownEl:Ut,cloneEl:ge,cloneHidden:Je,dragStarted:gt,putSortable:Se,activeSortable:Q.active,originalEvent:o,oldIndex:dt,oldDraggableIndex:xt,newIndex:Me,newDraggableIndex:Xe,hideGhostForTarget:po,unhideGhostForTarget:mo,cloneNowHidden:function(){Je=!0},cloneNowShown:function(){Je=!1},dispatchSortableEvent:function(i){De({sortable:s,name:i,originalEvent:o})}},a))};function De(t){In(Be({putSortable:Se,cloneEl:ge,targetEl:N,rootEl:me,oldIndex:dt,oldDraggableIndex:xt,newIndex:Me,newDraggableIndex:Xe},t))}var N,ye,K,me,lt,Ut,ge,Je,dt,Me,xt,Xe,Et,Se,it=!1,Ht=!1,jt=[],et,Ue,Kt,el,Fl,Al,gt,at,kt,Ct=!1,Mt=!1,Lt,Te,tl=[],rl=!1,zt=[],Wt=typeof document<"u",Rt=to,Ul=St||Ye?"cssFloat":"float",Mn=Wt&&!lo&&!to&&"draggable"in document.createElement("div"),uo=function(){if(Wt){if(Ye)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),co=function(t,s){var l=J(t),o=parseInt(l.width)-parseInt(l.paddingLeft)-parseInt(l.paddingRight)-parseInt(l.borderLeftWidth)-parseInt(l.borderRightWidth),a=pt(t,0,s),i=pt(t,1,s),r=a&&J(a),c=i&&J(i),p=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+xe(a).width,u=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+xe(i).width;if(l.display==="flex")return l.flexDirection==="column"||l.flexDirection==="column-reverse"?"vertical":"horizontal";if(l.display==="grid")return l.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&r.float!=="none"){var n=r.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===n)?"vertical":"horizontal"}return a&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||p>=o&&l[Ul]==="none"||i&&l[Ul]==="none"&&p+u>o)?"vertical":"horizontal"},Rn=function(t,s,l){var o=l?t.left:t.top,a=l?t.right:t.bottom,i=l?t.width:t.height,r=l?s.left:s.top,c=l?s.right:s.bottom,p=l?s.width:s.height;return o===r||a===c||o+i/2===r+p/2},Fn=function(t,s){var l;return jt.some(function(o){var a=o[Re].options.emptyInsertThreshold;if(!(!a||vl(o))){var i=xe(o),r=t>=i.left-a&&t<=i.right+a,c=s>=i.top-a&&s<=i.bottom+a;if(r&&c)return l=o}}),l},fo=function(t){function s(a,i){return function(r,c,p,u){var n=r.options.group.name&&c.options.group.name&&r.options.group.name===c.options.group.name;if(a==null&&(i||n))return!0;if(a==null||a===!1)return!1;if(i&&a==="clone")return a;if(typeof a=="function")return s(a(r,c,p,u),i)(r,c,p,u);var d=(i?r:c).options.group.name;return a===!0||typeof a=="string"&&a===d||a.join&&a.indexOf(d)>-1}}var l={},o=t.group;(!o||At(o)!="object")&&(o={name:o}),l.name=o.name,l.checkPull=s(o.pull,!0),l.checkPut=s(o.put),l.revertClone=o.revertClone,t.group=l},po=function(){!uo&&K&&J(K,"display","none")},mo=function(){!uo&&K&&J(K,"display","")};Wt&&!lo&&document.addEventListener("click",function(t){if(Ht)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ht=!1,!1},!0);var tt=function(t){if(N){t=t.touches?t.touches[0]:t;var s=Fn(t.clientX,t.clientY);if(s){var l={};for(var o in t)t.hasOwnProperty(o)&&(l[o]=t[o]);l.target=l.rootEl=s,l.preventDefault=void 0,l.stopPropagation=void 0,s[Re]._onDragOver(l)}}},An=function(t){N&&N.parentNode[Re]._isOutsideThisEl(t.target)};function Q(t,s){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=s=qe({},s),t[Re]=this;var l={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return co(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,r){i.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Q.supportPointer!==!1&&"PointerEvent"in window&&!$t,emptyInsertThreshold:5};Tt.initializePlugins(this,t,l);for(var o in l)!(o in s)&&(s[o]=l[o]);fo(s);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=s.forceFallback?!1:Mn,this.nativeDraggable&&(this.options.touchStartThreshold=1),s.supportPointer?ue(t,"pointerdown",this._onTapStart):(ue(t,"mousedown",this._onTapStart),ue(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ue(t,"dragover",this),ue(t,"dragenter",this)),jt.push(this.el),s.store&&s.store.get&&this.sort(s.store.get(this)||[]),qe(this,Sn())}Q.prototype={constructor:Q,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(at=null)},_getDirection:function(t,s){return typeof this.options.direction=="function"?this.options.direction.call(this,t,s,N):this.options.direction},_onTapStart:function(t){if(t.cancelable){var s=this,l=this.el,o=this.options,a=o.preventOnFilter,i=t.type,r=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(r||t).target,p=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,u=o.filter;if(Bn(l),!N&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||o.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&$t&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Le(c,o.draggable,l,!1),!(c&&c.animated)&&Ut!==c)){if(dt=Ae(c),xt=Ae(c,o.draggable),typeof u=="function"){if(u.call(this,t,c,this)){De({sortable:s,rootEl:p,name:"filter",targetEl:c,toEl:l,fromEl:l}),Ie("filter",s,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(n){if(n=Le(p,n.trim(),l,!1),n)return De({sortable:s,rootEl:n,name:"filter",targetEl:c,fromEl:l,toEl:l}),Ie("filter",s,{evt:t}),!0}),u)){a&&t.cancelable&&t.preventDefault();return}o.handle&&!Le(p,o.handle,l,!1)||this._prepareDragStart(t,r,c)}}},_prepareDragStart:function(t,s,l){var o=this,a=o.el,i=o.options,r=a.ownerDocument,c;if(l&&!N&&l.parentNode===a){var p=xe(l);if(me=a,N=l,ye=N.parentNode,lt=N.nextSibling,Ut=l,Et=i.group,Q.dragged=N,et={target:N,clientX:(s||t).clientX,clientY:(s||t).clientY},Fl=et.clientX-p.left,Al=et.clientY-p.top,this._lastX=(s||t).clientX,this._lastY=(s||t).clientY,N.style["will-change"]="all",c=function(){if(Ie("delayEnded",o,{evt:t}),Q.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Il&&o.nativeDraggable&&(N.draggable=!0),o._triggerDragStart(t,s),De({sortable:o,name:"choose",originalEvent:t}),Ee(N,i.chosenClass,!0)},i.ignore.split(",").forEach(function(u){so(N,u.trim(),ll)}),ue(r,"dragover",tt),ue(r,"mousemove",tt),ue(r,"touchmove",tt),ue(r,"mouseup",o._onDrop),ue(r,"touchend",o._onDrop),ue(r,"touchcancel",o._onDrop),Il&&this.nativeDraggable&&(this.options.touchStartThreshold=4,N.draggable=!0),Ie("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||s)&&(!this.nativeDraggable||!(St||Ye))){if(Q.eventCanceled){this._onDrop();return}ue(r,"mouseup",o._disableDelayedDrag),ue(r,"touchend",o._disableDelayedDrag),ue(r,"touchcancel",o._disableDelayedDrag),ue(r,"mousemove",o._delayedDragTouchMoveHandler),ue(r,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&ue(r,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var s=t.touches?t.touches[0]:t;Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){N&&ll(N),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;de(t,"mouseup",this._disableDelayedDrag),de(t,"touchend",this._disableDelayedDrag),de(t,"touchcancel",this._disableDelayedDrag),de(t,"mousemove",this._delayedDragTouchMoveHandler),de(t,"touchmove",this._delayedDragTouchMoveHandler),de(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,s){s=s||t.pointerType=="touch"&&t,!this.nativeDraggable||s?this.options.supportPointer?ue(document,"pointermove",this._onTouchMove):s?ue(document,"touchmove",this._onTouchMove):ue(document,"mousemove",this._onTouchMove):(ue(N,"dragend",this),ue(me,"dragstart",this._onDragStart));try{document.selection?Vt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,s){if(it=!1,me&&N){Ie("dragStarted",this,{evt:s}),this.nativeDraggable&&ue(document,"dragover",An);var l=this.options;!t&&Ee(N,l.dragClass,!1),Ee(N,l.ghostClass,!0),Q.active=this,t&&this._appendGhost(),De({sortable:this,name:"start",originalEvent:s})}else this._nulling()},_emulateDragOver:function(){if(Ue){this._lastX=Ue.clientX,this._lastY=Ue.clientY,po();for(var t=document.elementFromPoint(Ue.clientX,Ue.clientY),s=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ue.clientX,Ue.clientY),t!==s);)s=t;if(N.parentNode[Re]._isOutsideThisEl(t),s)do{if(s[Re]){var l=void 0;if(l=s[Re]._onDragOver({clientX:Ue.clientX,clientY:Ue.clientY,target:t,rootEl:s}),l&&!this.options.dragoverBubble)break}t=s}while(s=s.parentNode);mo()}},_onTouchMove:function(t){if(et){var s=this.options,l=s.fallbackTolerance,o=s.fallbackOffset,a=t.touches?t.touches[0]:t,i=K&&ut(K,!0),r=K&&i&&i.a,c=K&&i&&i.d,p=Rt&&Te&&Rl(Te),u=(a.clientX-et.clientX+o.x)/(r||1)+(p?p[0]-tl[0]:0)/(r||1),n=(a.clientY-et.clientY+o.y)/(c||1)+(p?p[1]-tl[1]:0)/(c||1);if(!Q.active&&!it){if(l&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<l)return;this._onDragStart(t,!0)}if(K){i?(i.e+=u-(Kt||0),i.f+=n-(el||0)):i={a:1,b:0,c:0,d:1,e:u,f:n};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");J(K,"webkitTransform",d),J(K,"mozTransform",d),J(K,"msTransform",d),J(K,"transform",d),Kt=u,el=n,Ue=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!K){var t=this.options.fallbackOnBody?document.body:me,s=xe(N,!0,Rt,!0,t),l=this.options;if(Rt){for(Te=t;J(Te,"position")==="static"&&J(Te,"transform")==="none"&&Te!==document;)Te=Te.parentNode;Te!==document.body&&Te!==document.documentElement?(Te===document&&(Te=Ge()),s.top+=Te.scrollTop,s.left+=Te.scrollLeft):Te=Ge(),tl=Rl(Te)}K=N.cloneNode(!0),Ee(K,l.ghostClass,!1),Ee(K,l.fallbackClass,!0),Ee(K,l.dragClass,!0),J(K,"transition",""),J(K,"transform",""),J(K,"box-sizing","border-box"),J(K,"margin",0),J(K,"top",s.top),J(K,"left",s.left),J(K,"width",s.width),J(K,"height",s.height),J(K,"opacity","0.8"),J(K,"position",Rt?"absolute":"fixed"),J(K,"zIndex","100000"),J(K,"pointerEvents","none"),Q.ghost=K,t.appendChild(K),J(K,"transform-origin",Fl/parseInt(K.style.width)*100+"% "+Al/parseInt(K.style.height)*100+"%")}},_onDragStart:function(t,s){var l=this,o=t.dataTransfer,a=l.options;if(Ie("dragStart",this,{evt:t}),Q.eventCanceled){this._onDrop();return}Ie("setupClone",this),Q.eventCanceled||(ge=io(N),ge.removeAttribute("id"),ge.draggable=!1,ge.style["will-change"]="",this._hideClone(),Ee(ge,this.options.chosenClass,!1),Q.clone=ge),l.cloneId=Vt(function(){Ie("clone",l),!Q.eventCanceled&&(l.options.removeCloneOnHide||me.insertBefore(ge,N),l._hideClone(),De({sortable:l,name:"clone"}))}),!s&&Ee(N,a.dragClass,!0),s?(Ht=!0,l._loopId=setInterval(l._emulateDragOver,50)):(de(document,"mouseup",l._onDrop),de(document,"touchend",l._onDrop),de(document,"touchcancel",l._onDrop),o&&(o.effectAllowed="move",a.setData&&a.setData.call(l,o,N)),ue(document,"drop",l),J(N,"transform","translateZ(0)")),it=!0,l._dragStartId=Vt(l._dragStarted.bind(l,s,t)),ue(document,"selectstart",l),gt=!0,$t&&J(document.body,"user-select","none")},_onDragOver:function(t){var s=this.el,l=t.target,o,a,i,r=this.options,c=r.group,p=Q.active,u=Et===c,n=r.sort,d=Se||p,h,v=this,_=!1;if(rl)return;function w(ie,Oe){Ie(ie,v,Be({evt:t,isOwner:u,axis:h?"vertical":"horizontal",revert:i,dragRect:o,targetRect:a,canSort:n,fromSortable:d,target:l,completed:I,onMove:function(Ne,$e){return Ft(me,s,N,o,Ne,xe(Ne),t,$e)},changed:D},Oe))}function $(){w("dragOverAnimationCapture"),v.captureAnimationState(),v!==d&&d.captureAnimationState()}function I(ie){return w("dragOverCompleted",{insertion:ie}),ie&&(u?p._hideClone():p._showClone(v),v!==d&&(Ee(N,Se?Se.options.ghostClass:p.options.ghostClass,!1),Ee(N,r.ghostClass,!0)),Se!==v&&v!==Q.active?Se=v:v===Q.active&&Se&&(Se=null),d===v&&(v._ignoreWhileAnimating=l),v.animateAll(function(){w("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(l===N&&!N.animated||l===s&&!l.animated)&&(at=null),!r.dragoverBubble&&!t.rootEl&&l!==document&&(N.parentNode[Re]._isOutsideThisEl(t.target),!ie&&tt(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),_=!0}function D(){Me=Ae(N),Xe=Ae(N,r.draggable),De({sortable:v,name:"change",toEl:s,newIndex:Me,newDraggableIndex:Xe,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),l=Le(l,r.draggable,s,!0),w("dragOver"),Q.eventCanceled)return _;if(N.contains(t.target)||l.animated&&l.animatingX&&l.animatingY||v._ignoreWhileAnimating===l)return I(!1);if(Ht=!1,p&&!r.disabled&&(u?n||(i=ye!==me):Se===this||(this.lastPutMode=Et.checkPull(this,p,N,t))&&c.checkPut(this,p,N,t))){if(h=this._getDirection(t,l)==="vertical",o=xe(N),w("dragOverValid"),Q.eventCanceled)return _;if(i)return ye=me,$(),this._hideClone(),w("revert"),Q.eventCanceled||(lt?me.insertBefore(N,lt):me.appendChild(N)),I(!0);var C=vl(s,r.draggable);if(!C||On(t,h,this)&&!C.animated){if(C===N)return I(!1);if(C&&s===t.target&&(l=C),l&&(a=xe(l)),Ft(me,s,N,o,l,a,t,!!l)!==!1)return $(),C&&C.nextSibling?s.insertBefore(N,C.nextSibling):s.appendChild(N),ye=s,D(),I(!0)}else if(C&&Vn(t,h,this)){var E=pt(s,0,r,!0);if(E===N)return I(!1);if(l=E,a=xe(l),Ft(me,s,N,o,l,a,t,!1)!==!1)return $(),s.insertBefore(N,E),ye=s,D(),I(!0)}else if(l.parentNode===s){a=xe(l);var U=0,O,L=N.parentNode!==s,S=!Rn(N.animated&&N.toRect||o,l.animated&&l.toRect||a,h),x=h?"top":"left",M=Ml(l,"top","top")||Ml(N,"top","top"),T=M?M.scrollTop:void 0;at!==l&&(O=a[x],Ct=!1,Mt=!S&&r.invertSwap||L),U=Nn(t,l,a,h,S?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Mt,at===l);var y;if(U!==0){var k=Ae(N);do k-=U,y=ye.children[k];while(y&&(J(y,"display")==="none"||y===K))}if(U===0||y===l)return I(!1);at=l,kt=U;var B=l.nextElementSibling,oe=!1;oe=U===1;var P=Ft(me,s,N,o,l,a,t,oe);if(P!==!1)return(P===1||P===-1)&&(oe=P===1),rl=!0,setTimeout(Ln,30),$(),oe&&!B?s.appendChild(N):l.parentNode.insertBefore(N,oe?B:l),M&&ao(M,0,T-M.scrollTop),ye=N.parentNode,O!==void 0&&!Mt&&(Lt=Math.abs(O-xe(l)[x])),D(),I(!0)}if(s.contains(N))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){de(document,"mousemove",this._onTouchMove),de(document,"touchmove",this._onTouchMove),de(document,"pointermove",this._onTouchMove),de(document,"dragover",tt),de(document,"mousemove",tt),de(document,"touchmove",tt)},_offUpEvents:function(){var t=this.el.ownerDocument;de(t,"mouseup",this._onDrop),de(t,"touchend",this._onDrop),de(t,"pointerup",this._onDrop),de(t,"touchcancel",this._onDrop),de(document,"selectstart",this)},_onDrop:function(t){var s=this.el,l=this.options;if(Me=Ae(N),Xe=Ae(N,l.draggable),Ie("drop",this,{evt:t}),ye=N&&N.parentNode,Me=Ae(N),Xe=Ae(N,l.draggable),Q.eventCanceled){this._nulling();return}it=!1,Mt=!1,Ct=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),dl(this.cloneId),dl(this._dragStartId),this.nativeDraggable&&(de(document,"drop",this),de(s,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$t&&J(document.body,"user-select",""),J(N,"transform",""),t&&(gt&&(t.cancelable&&t.preventDefault(),!l.dropBubble&&t.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(me===ye||Se&&Se.lastPutMode!=="clone")&&ge&&ge.parentNode&&ge.parentNode.removeChild(ge),N&&(this.nativeDraggable&&de(N,"dragend",this),ll(N),N.style["will-change"]="",gt&&!it&&Ee(N,Se?Se.options.ghostClass:this.options.ghostClass,!1),Ee(N,this.options.chosenClass,!1),De({sortable:this,name:"unchoose",toEl:ye,newIndex:null,newDraggableIndex:null,originalEvent:t}),me!==ye?(Me>=0&&(De({rootEl:ye,name:"add",toEl:ye,fromEl:me,originalEvent:t}),De({sortable:this,name:"remove",toEl:ye,originalEvent:t}),De({rootEl:ye,name:"sort",toEl:ye,fromEl:me,originalEvent:t}),De({sortable:this,name:"sort",toEl:ye,originalEvent:t})),Se&&Se.save()):Me!==dt&&Me>=0&&(De({sortable:this,name:"update",toEl:ye,originalEvent:t}),De({sortable:this,name:"sort",toEl:ye,originalEvent:t})),Q.active&&((Me==null||Me===-1)&&(Me=dt,Xe=xt),De({sortable:this,name:"end",toEl:ye,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ie("nulling",this),me=N=ye=K=lt=ge=Ut=Je=et=Ue=gt=Me=Xe=dt=xt=at=kt=Se=Et=Q.dragged=Q.ghost=Q.clone=Q.active=null,zt.forEach(function(t){t.checked=!0}),zt.length=Kt=el=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":N&&(this._onDragOver(t),Un(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],s,l=this.el.children,o=0,a=l.length,i=this.options;o<a;o++)s=l[o],Le(s,i.draggable,this.el,!1)&&t.push(s.getAttribute(i.dataIdAttr)||Gn(s));return t},sort:function(t,s){var l={},o=this.el;this.toArray().forEach(function(a,i){var r=o.children[i];Le(r,this.options.draggable,o,!1)&&(l[a]=r)},this),s&&this.captureAnimationState(),t.forEach(function(a){l[a]&&(o.removeChild(l[a]),o.appendChild(l[a]))}),s&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,s){return Le(t,s||this.options.draggable,this.el,!1)},option:function(t,s){var l=this.options;if(s===void 0)return l[t];var o=Tt.modifyOption(this,t,s);typeof o<"u"?l[t]=o:l[t]=s,t==="group"&&fo(l)},destroy:function(){Ie("destroy",this);var t=this.el;t[Re]=null,de(t,"mousedown",this._onTapStart),de(t,"touchstart",this._onTapStart),de(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(de(t,"dragover",this),de(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(s){s.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jt.splice(jt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Je){if(Ie("hideClone",this),Q.eventCanceled)return;J(ge,"display","none"),this.options.removeCloneOnHide&&ge.parentNode&&ge.parentNode.removeChild(ge),Je=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Je){if(Ie("showClone",this),Q.eventCanceled)return;N.parentNode==me&&!this.options.group.revertClone?me.insertBefore(ge,N):lt?me.insertBefore(ge,lt):me.appendChild(ge),this.options.group.revertClone&&this.animate(N,ge),J(ge,"display",""),Je=!1}}};function Un(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ft(t,s,l,o,a,i,r,c){var p,u=t[Re],n=u.options.onMove,d;return window.CustomEvent&&!Ye&&!St?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=s,p.from=t,p.dragged=l,p.draggedRect=o,p.related=a||s,p.relatedRect=i||xe(s),p.willInsertAfter=c,p.originalEvent=r,t.dispatchEvent(p),n&&(d=n.call(u,p,r)),d}function ll(t){t.draggable=!1}function Ln(){rl=!1}function Vn(t,s,l){var o=xe(pt(l.el,0,l.options,!0)),a=ro(l.el,l.options,K),i=10;return s?t.clientX<a.left-i||t.clientY<o.top&&t.clientX<o.right:t.clientY<a.top-i||t.clientY<o.bottom&&t.clientX<o.left}function On(t,s,l){var o=xe(vl(l.el,l.options.draggable)),a=ro(l.el,l.options,K),i=10;return s?t.clientX>a.right+i||t.clientY>o.bottom&&t.clientX>o.left:t.clientY>a.bottom+i||t.clientX>o.right&&t.clientY>o.top}function Nn(t,s,l,o,a,i,r,c){var p=o?t.clientY:t.clientX,u=o?l.height:l.width,n=o?l.top:l.left,d=o?l.bottom:l.right,h=!1;if(!r){if(c&&Lt<u*a){if(!Ct&&(kt===1?p>n+u*i/2:p<d-u*i/2)&&(Ct=!0),Ct)h=!0;else if(kt===1?p<n+Lt:p>d-Lt)return-kt}else if(p>n+u*(1-a)/2&&p<d-u*(1-a)/2)return Pn(s)}return h=h||r,h&&(p<n+u*i/2||p>d-u*i/2)?p>n+u/2?1:-1:0}function Pn(t){return Ae(N)<Ae(t)?1:-1}function Gn(t){for(var s=t.tagName+t.className+t.src+t.href+t.textContent,l=s.length,o=0;l--;)o+=s.charCodeAt(l);return o.toString(36)}function Bn(t){zt.length=0;for(var s=t.getElementsByTagName("input"),l=s.length;l--;){var o=s[l];o.checked&&zt.push(o)}}function Vt(t){return setTimeout(t,0)}function dl(t){return clearTimeout(t)}Wt&&ue(document,"touchmove",function(t){(Q.active||it)&&t.cancelable&&t.preventDefault()});Q.utils={on:ue,off:de,css:J,find:so,is:function(t,s){return!!Le(t,s,t,!1)},extend:kn,throttle:no,closest:Le,toggleClass:Ee,clone:io,index:Ae,nextTick:Vt,cancelNextTick:dl,detectDirection:co,getChild:pt};Q.get=function(t){return t[Re]};Q.mount=function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];s[0].constructor===Array&&(s=s[0]),s.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(Q.utils=Be(Be({},Q.utils),o.utils)),Tt.mount(o)})};Q.create=function(t,s){return new Q(t,s)};Q.version=$n;var we=[],ht,ul,cl=!1,ol,sl,qt,bt;function Hn(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this))}return t.prototype={dragStarted:function(s){var l=s.originalEvent;this.sortable.nativeDraggable?ue(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ue(document,"pointermove",this._handleFallbackAutoScroll):l.touches?ue(document,"touchmove",this._handleFallbackAutoScroll):ue(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(s){var l=s.originalEvent;!this.options.dragOverBubble&&!l.rootEl&&this._handleAutoScroll(l)},drop:function(){this.sortable.nativeDraggable?de(document,"dragover",this._handleAutoScroll):(de(document,"pointermove",this._handleFallbackAutoScroll),de(document,"touchmove",this._handleFallbackAutoScroll),de(document,"mousemove",this._handleFallbackAutoScroll)),Ll(),Ot(),Cn()},nulling:function(){qt=ul=ht=cl=bt=ol=sl=null,we.length=0},_handleFallbackAutoScroll:function(s){this._handleAutoScroll(s,!0)},_handleAutoScroll:function(s,l){var o=this,a=(s.touches?s.touches[0]:s).clientX,i=(s.touches?s.touches[0]:s).clientY,r=document.elementFromPoint(a,i);if(qt=s,l||this.options.forceAutoScrollFallback||St||Ye||$t){nl(s,this.options,r,l);var c=Qe(r,!0);cl&&(!bt||a!==ol||i!==sl)&&(bt&&Ll(),bt=setInterval(function(){var p=Qe(document.elementFromPoint(a,i),!0);p!==c&&(c=p,Ot()),nl(s,o.options,p,l)},10),ol=a,sl=i)}else{if(!this.options.bubbleScroll||Qe(r,!0)===Ge()){Ot();return}nl(s,this.options,Qe(r,!1),!1)}}},qe(t,{pluginName:"scroll",initializeByDefault:!0})}function Ot(){we.forEach(function(t){clearInterval(t.pid)}),we=[]}function Ll(){clearInterval(bt)}var nl=no(function(t,s,l,o){if(s.scroll){var a=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,r=s.scrollSensitivity,c=s.scrollSpeed,p=Ge(),u=!1,n;ul!==l&&(ul=l,Ot(),ht=s.scroll,n=s.scrollFn,ht===!0&&(ht=Qe(l,!0)));var d=0,h=ht;do{var v=h,_=xe(v),w=_.top,$=_.bottom,I=_.left,D=_.right,C=_.width,E=_.height,U=void 0,O=void 0,L=v.scrollWidth,S=v.scrollHeight,x=J(v),M=v.scrollLeft,T=v.scrollTop;v===p?(U=C<L&&(x.overflowX==="auto"||x.overflowX==="scroll"||x.overflowX==="visible"),O=E<S&&(x.overflowY==="auto"||x.overflowY==="scroll"||x.overflowY==="visible")):(U=C<L&&(x.overflowX==="auto"||x.overflowX==="scroll"),O=E<S&&(x.overflowY==="auto"||x.overflowY==="scroll"));var y=U&&(Math.abs(D-a)<=r&&M+C<L)-(Math.abs(I-a)<=r&&!!M),k=O&&(Math.abs($-i)<=r&&T+E<S)-(Math.abs(w-i)<=r&&!!T);if(!we[d])for(var B=0;B<=d;B++)we[B]||(we[B]={});(we[d].vx!=y||we[d].vy!=k||we[d].el!==v)&&(we[d].el=v,we[d].vx=y,we[d].vy=k,clearInterval(we[d].pid),(y!=0||k!=0)&&(u=!0,we[d].pid=setInterval((function(){o&&this.layer===0&&Q.active._onTouchMove(qt);var oe=we[this.layer].vy?we[this.layer].vy*c:0,P=we[this.layer].vx?we[this.layer].vx*c:0;typeof n=="function"&&n.call(Q.dragged.parentNode[Re],P,oe,t,qt,we[this.layer].el)!=="continue"||ao(we[this.layer].el,P,oe)}).bind({layer:d}),24))),d++}while(s.bubbleScroll&&h!==p&&(h=Qe(h,!1)));cl=u}},30),vo=function(t){var s=t.originalEvent,l=t.putSortable,o=t.dragEl,a=t.activeSortable,i=t.dispatchSortableEvent,r=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(s){var p=l||a;r();var u=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:s,n=document.elementFromPoint(u.clientX,u.clientY);c(),p&&!p.el.contains(n)&&(i("spill"),this.onSpill({dragEl:o,putSortable:l}))}};function gl(){}gl.prototype={startIndex:null,dragStart:function(t){var s=t.oldDraggableIndex;this.startIndex=s},onSpill:function(t){var s=t.dragEl,l=t.putSortable;this.sortable.captureAnimationState(),l&&l.captureAnimationState();var o=pt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(s,o):this.sortable.el.appendChild(s),this.sortable.animateAll(),l&&l.animateAll()},drop:vo};qe(gl,{pluginName:"revertOnSpill"});function hl(){}hl.prototype={onSpill:function(t){var s=t.dragEl,l=t.putSortable,o=l||this.sortable;o.captureAnimationState(),s.parentNode&&s.parentNode.removeChild(s),o.animateAll()},drop:vo};qe(hl,{pluginName:"removeOnSpill"});Q.mount(new Hn);Q.mount(hl,gl);function jn(t){return t==null?t:JSON.parse(JSON.stringify(t))}function zn(t){ml()&&zl(t)}function qn(t){ml()?Ke(t):Ze(t)}let go=null,ho=null;function Vl(t=null,s=null){go=t,ho=s}function Yn(){return{data:go,clonedData:ho}}const Ol=Symbol("cloneElement");function Wn(...t){var s,l;const o=(s=ml())==null?void 0:s.proxy;let a=null;const i=t[0];let[,r,c]=t;Array.isArray(f(r))||(c=r,r=null);let p=null;const{immediate:u=!0,clone:n=jn,customUpdate:d}=(l=f(c))!=null?l:{};function h(S){var x;const{from:M,oldIndex:T,item:y}=S;a=Array.from(M.childNodes);const k=f((x=f(r))==null?void 0:x[T]),B=n(k);Vl(k,B),y[Ol]=B}function v(S){const x=S.item[Ol];if(!un(x)){if(Jt(S.item),ae(r)){const M=[...f(r)];r.value=Cl(M,S.newDraggableIndex,x);return}Cl(f(r),S.newDraggableIndex,x)}}function _(S){const{from:x,item:M,oldIndex:T,oldDraggableIndex:y,pullMode:k,clone:B}=S;if(Sl(x,M,T),k==="clone"){Jt(B);return}if(ae(r)){const oe=[...f(r)];r.value=kl(oe,y);return}kl(f(r),y)}function w(S){if(d){d(S);return}const{from:x,item:M,oldIndex:T,newIndex:y}=S;if(Jt(M),Sl(x,M,T),ae(r)){const k=[...f(r)];r.value=xl(k,T,y);return}xl(f(r),T,y)}function $(S){const{newIndex:x,oldIndex:M,from:T,to:y}=S;let k=null;const B=x===M&&T===y;try{if(B){let oe=null;a==null||a.some((P,ie)=>{if(oe&&(a==null?void 0:a.length)!==y.childNodes.length)return T.insertBefore(oe,P.nextSibling),!0;const Oe=y.childNodes[ie];oe=y==null?void 0:y.replaceChild(P,Oe)})}}catch(oe){k=oe}finally{a=null}Ze(()=>{if(Vl(),k)throw k})}const I={onUpdate:w,onStart:h,onAdd:v,onRemove:_,onEnd:$};function D(S){const x=f(i);return S||(S=cn(x)?fn(x,o==null?void 0:o.$el):x),S&&!vn(S)&&(S=S.$el),S||an("Root element not found"),S}function C(){var S;const x=(S=f(c))!=null?S:{},{immediate:M,clone:T}=x,y=Kl(x,["immediate","clone"]);return Tl(y,(k,B)=>{gn(k)&&(y[k]=(oe,...P)=>{const ie=Yn();return hn(oe,ie),B(oe,...P)})}),mn(r===null?{}:I,y)}const E=S=>{S=D(S),p&&U.destroy(),p=new Q(S,C())};ee(()=>c,()=>{p&&Tl(C(),(S,x)=>{p==null||p.option(S,x)})},{deep:!0});const U={option:(S,x)=>p==null?void 0:p.option(S,x),destroy:()=>{p==null||p.destroy(),p=null},save:()=>p==null?void 0:p.save(),toArray:()=>p==null?void 0:p.toArray(),closest:(...S)=>p==null?void 0:p.closest(...S)},O=()=>U==null?void 0:U.option("disabled",!0),L=()=>U==null?void 0:U.option("disabled",!1);return qn(()=>{u&&E()}),zn(U.destroy),rt({start:E,pause:O,resume:L},U)}const fl=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],Xn=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...fl.map(t=>`on${t.replace(/^\S/,s=>s.toUpperCase())}`)],pl=le({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:Xn,emits:["update:modelValue",...fl],setup(t,{slots:s,emit:l,expose:o,attrs:a}){const i=fl.reduce((n,d)=>{const h=`on${d.replace(/^\S/,v=>v.toUpperCase())}`;return n[h]=(...v)=>l(d,...v),n},{}),r=z(()=>{const n=jl(t),{modelValue:d}=n,h=Kl(n,["modelValue"]),v=Object.entries(h).reduce((_,[w,$])=>{const I=f($);return I!==void 0&&(_[w]=I),_},{});return rt(rt({},i),dn(rt(rt({},a),v)))}),c=z({get:()=>t.modelValue,set:n=>l("update:modelValue",n)}),p=R(),u=ct(Wn(t.target||p,c,r));return o(u),()=>{var n;return So(t.tag||"div",{ref:p},(n=s==null?void 0:s.default)==null?void 0:n.call(s,u))}}}),Nl={basic:"Basic",choice:"Choice",content:"Content",media:"Media",relational:"Relational",layout:"Layout",custom:"Custom"},Jn={class:"acfps-modal"},Qn={class:"modal-header"},Zn={class:"modal-title"},Kn={class:"modal-body"},ea={class:"search-container"},ta={class:"input-group"},la=["placeholder"],oa={key:0,class:"recently-used-section"},sa={class:"category-header"},na={class:"category-title"},aa={class:"acfps-type-grid"},ia=["onClick"],ra={class:"material-icons card-icon"},da={class:"type-label"},ua={class:"card-tooltip"},ca={class:"category-header"},fa={class:"category-title"},pa={class:"category-count"},ma={class:"acfps-type-grid"},va=["onClick","onMouseenter"],ga={class:"material-icons card-icon"},ha={class:"type-label"},ba={class:"card-tooltip"},ya={key:1,class:"no-results"},_a={class:"no-results-content"},$a={class:"keyboard-hint"},wa={class:"text-muted"},xa=le({__name:"FieldTypeSelector",props:{show:{type:Boolean},disabledFieldTypes:{}},emits:["close","select"],setup(t,{emit:s}){const l=t,o=s,a=He(),{t:i}=fe(),r=R(""),c=R(0),p=R(null),u=R([]),n=["basic","choice","content","media","relational","layout","custom"],d={basic:{color:"#007bff",icon:"text_fields",bgColor:"#e7f3ff"},choice:{color:"#28a745",icon:"list",bgColor:"#e8f5e8"},content:{color:"#fd7e14",icon:"article",bgColor:"#fef3e7"},media:{color:"#6f42c1",icon:"perm_media",bgColor:"#f3e8ff"},relational:{color:"#e83e8c",icon:"link",bgColor:"#fce4ec"},layout:{color:"#20c997",icon:"view_module",bgColor:"#e8f8f5"},custom:{color:"#6c757d",icon:"extension",bgColor:"#f8f9fa"}};function h(){const O=localStorage.getItem("acf_recently_used_types");if(O)try{u.value=JSON.parse(O).slice(0,4)}catch{u.value=[]}}function v(O){const L=u.value.filter(S=>S!==O);L.unshift(O),u.value=L.slice(0,4),localStorage.setItem("acf_recently_used_types",JSON.stringify(u.value))}const _=z(()=>u.value.map(O=>a.fieldTypes.find(L=>L.type===O)).filter(Boolean)),w=z(()=>{const O=r.value.toLowerCase(),L={},S=l.disabledFieldTypes||[],x=a.fieldTypes.filter(T=>{var y;return!S.includes(T.type)&&(!O||T.label.toLowerCase().includes(O)||T.type.toLowerCase().includes(O)||((y=Nl[T.category])==null?void 0:y.toLowerCase().includes(O)))});for(const T of x){const y=T.category||"basic";L[y]||(L[y]=[]),L[y].push(T)}const M={};for(const T of n)L[T]&&L[T].length>0&&(M[T]=L[T]);return M}),$=z(()=>{const O=[];!r.value&&_.value.length>0&&O.push(..._.value.map(L=>({type:L,category:"recent"})));for(const[L,S]of Object.entries(w.value))O.push(...S.map(x=>({type:x,category:L})));return O});function I(O){if(!l.show)return;const L=$.value;if(L.length!==0){switch(O.key){case"ArrowDown":O.preventDefault(),c.value=Math.min(c.value+1,L.length-1);break;case"ArrowUp":O.preventDefault(),c.value=Math.max(c.value-1,0);break;case"Enter":O.preventDefault(),L[c.value]&&D(L[c.value].type.type);break;case"Escape":O.preventDefault(),o("close");break}Ze(()=>{const S=document.querySelector(".acfps-type-card--selected");S&&S.scrollIntoView({behavior:"smooth",block:"nearest"})})}}function D(O){v(O),o("select",O)}function C(){r.value="",c.value=0}function E(O,L){let S=_.value.length;for(const x of n){if(x===O)break;w.value[x]&&(S+=w.value[x].length)}return S+L}function U(O){return{text:"Single line text input for short content",textarea:"Multi-line text area for longer content",number:"Numeric input with validation options",email:"Email address input with validation",url:"Website URL input with validation",select:"Dropdown selection from predefined options",checkbox:"Multiple choice checkboxes",radio:"Single choice radio buttons",true_false:"Boolean toggle switch",star_rating:"Star rating input (1-5 stars)",date:"Date picker calendar",time:"Time picker",datetime:"Combined date and time picker",color:"Color picker with palette",wysiwyg:"Rich text editor with formatting",file:"Single file upload",image:"Image upload with preview",video:"Video file upload",gallery:"Multiple image gallery",files:"Multiple file upload",relation:"Link to other content types",list:"Repeatable list of subfields",repeater:"Advanced repeater with flexible layouts"}[O.type]||`Configure ${O.label} field settings`}return Ke(()=>{h(),document.addEventListener("keydown",I)}),zl(()=>{document.removeEventListener("keydown",I)}),ee(()=>l.show,O=>{O&&(r.value="",c.value=0,p.value=null)}),(O,L)=>t.show?(g(),b("div",{key:0,class:"acfps-modal-overlay",onClick:L[4]||(L[4]=Ce(S=>o("close"),["self"]))},[e("div",Jn,[e("div",Qn,[e("h5",Zn,m(f(i)("addField")),1),e("button",{type:"button",class:"close",onClick:L[0]||(L[0]=S=>o("close"))},[...L[5]||(L[5]=[e("span",null,"×",-1)])])]),e("div",Kn,[e("div",ea,[e("div",ta,[L[7]||(L[7]=e("span",{class:"input-group-text"},[e("span",{class:"material-icons"},"search")],-1)),G(e("input",{"onUpdate:modelValue":L[1]||(L[1]=S=>r.value=S),type:"text",class:"form-control",placeholder:f(i)("searchFieldTypes")||"Search field types...",onInput:L[2]||(L[2]=S=>c.value=0)},null,40,la),[[q,r.value]]),r.value?(g(),b("button",{key:0,class:"btn btn-outline-secondary",type:"button",onClick:C},[...L[6]||(L[6]=[e("span",{class:"material-icons"},"clear",-1)])])):F("",!0)])]),!r.value&&_.value.length>0?(g(),b("div",oa,[e("div",sa,[L[8]||(L[8]=e("span",{class:"material-icons category-icon",style:{color:"#6c757d"}},"history",-1)),e("h6",na,m(f(i)("recentlyUsed")||"Recently Used"),1)]),e("div",aa,[(g(!0),b(X,null,te(_.value,(S,x)=>(g(),b("button",{key:`recent-${S.type}`,class:ne(["acfps-type-card acfps-type-card--recent",{"acfps-type-card--selected":c.value===x}]),onClick:M=>D(S.type)},[e("span",ra,m(S.icon),1),e("span",da,m(S.label),1),e("div",ua,m(U(S)),1)],10,ia))),128))])])):F("",!0),(g(!0),b(X,null,te(w.value,(S,x)=>{var M,T,y;return g(),b("div",{key:x,class:ne(["type-category",{"type-category--custom":x==="custom"}])},[e("div",ca,[e("div",{class:"category-icon-wrapper",style:Nt({backgroundColor:(M=d[x])==null?void 0:M.bgColor})},[e("span",{class:"material-icons category-icon",style:Nt({color:(T=d[x])==null?void 0:T.color})},m((y=d[x])==null?void 0:y.icon),5)],4),e("h6",fa,m(f(Nl)[x]||x),1),e("span",pa,m(S.length),1)]),e("div",ma,[(g(!0),b(X,null,te(S,(k,B)=>(g(),b("button",{key:k.type,class:ne(["acfps-type-card",{"acfps-type-card--selected":c.value===_.value.length+E(x,B)}]),onClick:oe=>D(k.type),onMouseenter:oe=>p.value=x,onMouseleave:L[3]||(L[3]=oe=>p.value=null)},[e("span",ga,m(k.icon),1),e("span",ha,m(k.label),1),e("div",ba,m(U(k)),1)],42,va))),128))])],2)}),128)),Object.keys(w.value).length===0&&r.value?(g(),b("div",ya,[e("div",_a,[L[9]||(L[9]=e("span",{class:"material-icons"},"search_off",-1)),e("h6",null,m(f(i)("noFieldTypesFound")||"No field types found"),1),e("p",null,m(f(i)("tryDifferentSearch")||"Try a different search term"),1),e("button",{class:"btn btn-outline-primary btn-sm",onClick:C},m(f(i)("clearSearch")||"Clear search"),1)])])):F("",!0),e("div",$a,[e("small",wa,[L[10]||(L[10]=e("span",{class:"material-icons"},"keyboard",-1)),A(" "+m(f(i)("useArrowsToNavigate")||"Use ↑↓ arrows to navigate, Enter to select, Esc to close"),1)])])])])])):F("",!0)}}),bo=he(xa,[["__scopeId","data-v-f75a90e3"]]),ka={key:0,class:"material-icons text-warning incomplete-icon",title:"Title required"},Ca={class:"material-icons"},Sa={class:"field-icon material-icons"},Ta={class:"field-info"},Da={class:"field-type"},Ia={key:0,class:"subfield-count"},Ea={class:"field-slug"},Ma=le({__name:"SubfieldItem",props:{field:{},parentField:{},depth:{default:0}},emits:["delete","addSubfield"],setup(t,{emit:s}){const l=t,o=s,a=He(),{t:i}=fe(),r=R(!1),c=R(new Set),p={text:"text_fields",textarea:"notes",number:"pin",select:"list",richtext:"article",checkbox:"check_box",radio:"radio_button_checked",boolean:"toggle_on",file:"attach_file",files:"folder",image:"image",gallery:"collections",video:"videocam",date:"event",time:"schedule",datetime:"calendar_today",color:"palette",email:"email",url:"link",relation:"account_tree",list:"format_list_bulleted",repeater:"repeat"};function u(C){return p[C]||"input"}function n(C){c.value.has(C)?c.value.delete(C):c.value.add(C)}function d(C){return c.value.has(C)}function h(C){return C.children||[]}function v(){confirm(i("confirmDeleteField"))&&o("delete",l.field,l.parentField)}function _(){r.value=!0}function w(C){o("addSubfield",l.field,C),r.value=!1}function $(C){a.reorderSubfields(l.field,C)}const I=z(()=>({paddingLeft:`${.5+l.depth*1.75}rem`})),D=z(()=>({paddingLeft:`${.5+l.depth*1.75+2}rem`}));return(C,E)=>{var O,L,S,x;const U=To("SubfieldItem",!0);return g(),b("div",{class:"acfps-subfield-wrapper",style:Nt(I.value)},[e("div",{class:ne(["acfps-field-item acfps-subfield-item",{active:((O=f(a).selectedField)==null?void 0:O.uuid)===t.field.uuid,"field-incomplete":!((L=t.field.title)!=null&&L.trim())}]),onClick:E[1]||(E[1]=Ce(M=>f(a).selectField(t.field),["stop"]))},[E[7]||(E[7]=e("span",{class:"drag-handle material-icons"},"drag_indicator",-1)),(S=t.field.title)!=null&&S.trim()?F("",!0):(g(),b("span",ka," warning ")),t.field.type==="repeater"?(g(),b("button",{key:1,class:"btn btn-link btn-sm expand-toggle",onClick:E[0]||(E[0]=Ce(M=>n(t.field.uuid),["stop"]))},[e("span",Ca,m(d(t.field.uuid)?"expand_more":"chevron_right"),1)])):F("",!0),e("span",Sa,m(u(t.field.type)),1),e("div",Ta,[e("span",{class:ne(["field-title",{"text-muted":!((x=t.field.title)!=null&&x.trim())}])},m(t.field.title||f(i)("untitled")),3),e("span",Da,m(t.field.type),1),t.field.type==="repeater"&&h(t.field).length>0?(g(),b("span",Ia," ("+m(h(t.field).length)+" subfields) ",1)):F("",!0)]),e("span",Ea,m(t.field.slug),1),e("button",{class:"btn btn-link btn-sm text-danger",onClick:Ce(v,["stop"])},[...E[6]||(E[6]=[e("span",{class:"material-icons"},"delete",-1)])])],2),t.field.type==="repeater"&&d(t.field.uuid)?(g(),b("div",{key:0,class:"acfps-nested-subfields",style:Nt(D.value)},[_e(f(pl),{"model-value":h(t.field),animation:200,handle:".drag-handle","ghost-class":"sortable-ghost","chosen-class":"sortable-chosen",class:"nested-subfield-list","onUpdate:modelValue":E[4]||(E[4]=M=>$(M))},{default:Pt(()=>[(g(!0),b(X,null,te(h(t.field),M=>(g(),ke(U,{key:M.uuid,field:M,"parent-field":t.field,depth:t.depth+1,onDelete:E[2]||(E[2]=(T,y)=>o("delete",T,y)),onAddSubfield:E[3]||(E[3]=(T,y)=>o("addSubfield",T,y))},null,8,["field","parent-field","depth"]))),128))]),_:1},8,["model-value"]),e("button",{class:"btn btn-outline-secondary btn-sm add-nested-subfield-btn",onClick:Ce(_,["stop"])},[...E[8]||(E[8]=[e("span",{class:"material-icons"},"add",-1),A(" Add Subfield ",-1)])])],4)):F("",!0),_e(bo,{show:r.value,"disabled-field-types":t.field.type==="repeater"?["repeater"]:void 0,onClose:E[5]||(E[5]=M=>r.value=!1),onSelect:w},null,8,["show","disabled-field-types"])],4)}}}),Ra=he(Ma,[["__scopeId","data-v-7ccc7422"]]);function yo(){const t=R("smarty"),s=R(null);function l(u){const n=u.slug,d=u.type,h=[];return h.push({language:"smarty",label:"Smarty - Value",code:`{$acf->field('${n}')}`,description:"Get escaped field value"}),i(d)&&h.push({language:"smarty",label:"Smarty - Render",code:`{$acf->render('${n}')}`,description:"Render as HTML"}),d==="repeater"&&h.push({language:"smarty",label:"Smarty - Repeater",code:r(u),description:"Loop through repeater rows"}),h.push({language:"smarty",label:"Smarty - Check",code:`{if $acf->has('${n}')}
  {$acf->render('${n}')}
{/if}`,description:"Conditional display"}),h.push({language:"twig",label:"Twig - Value",code:`{{ acf_field('${n}') }}`,description:"Get escaped field value"}),i(d)&&h.push({language:"twig",label:"Twig - Render",code:`{{ acf_render('${n}') }}`,description:"Render as HTML"}),d==="repeater"&&h.push({language:"twig",label:"Twig - Repeater",code:c(u),description:"Loop through repeater rows"}),h.push({language:"twig",label:"Twig - Check",code:`{% if acf_has('${n}') %}
  {{ acf_render('${n}') }}
{% endif %}`,description:"Conditional display"}),h.push({language:"shortcode",label:"Shortcode - Basic",code:`[acf field="${n}"]`,description:"Use in CMS/Description"}),i(d)&&h.push({language:"shortcode",label:"Shortcode - Render",code:`[acf_render field="${n}"]`,description:"Render as HTML"}),d==="repeater"&&h.push({language:"shortcode",label:"Shortcode - Repeater",code:p(u),description:"Loop through repeater"}),h}function o(u){const n=u.slug,d=u.type;return t.value==="smarty"?d==="repeater"?`{foreach $acf->repeater('${n}') as $row}...{/foreach}`:i(d)?`{$acf->render('${n}')}`:`{$acf->field('${n}')}`:t.value==="twig"?d==="repeater"?`{% for row in acf_repeater('${n}') %}...{% endfor %}`:i(d)?`{{ acf_render('${n}') }}`:`{{ acf_field('${n}') }}`:d==="repeater"?`[acf_repeater slug="${n}"]...[/acf_repeater]`:i(d)?`[acf_render field="${n}"]`:`[acf field="${n}"]`}async function a(u,n){try{return await navigator.clipboard.writeText(u),n&&(s.value=n,setTimeout(()=>{s.value=null},2e3)),!0}catch(d){return console.error("Failed to copy:",d),!1}}function i(u){return["richtext","image","gallery","video","file","files","relation","color","star_rating","boolean","repeater"].includes(u)}function r(u){const n=u.slug,d=u.children||[];if(d.length===0)return`{foreach $acf->repeater('${n}') as $row}
  {* subfield values: {$row.subfield_slug} *}
{/foreach}`;const h=d.slice(0,3).map(v=>`  <p>{$row.${v.slug}}</p>`).join(`
`);return`{foreach $acf->repeater('${n}') as $row}
${h}
{/foreach}`}function c(u){const n=u.slug,d=u.children||[];if(d.length===0)return`{% for row in acf_repeater('${n}') %}
  {# subfield values: {{ row.subfield_slug }} #}
{% endfor %}`;const h=d.slice(0,3).map(v=>`  <p>{{ row.${v.slug} }}</p>`).join(`
`);return`{% for row in acf_repeater('${n}') %}
${h}
{% endfor %}`}function p(u){const n=u.slug,d=u.children||[];if(d.length===0)return`[acf_repeater slug="${n}"]
  {row.subfield_slug}
[/acf_repeater]`;const h=d.slice(0,3).map(v=>`  {row.${v.slug}}`).join(`
`);return`[acf_repeater slug="${n}"]
${h}
[/acf_repeater]`}return{selectedLanguage:t,copiedSlug:s,generateFieldCode:l,getQuickCode:o,copyToClipboard:a,needsRender:i}}const Fa={class:"copy-code-wrapper"},Aa=["title"],Ua={class:"material-icons"},La={key:1,class:"copy-code-dropdown"},Va={class:"material-icons dropdown-arrow"},Oa={key:0,class:"dropdown-menu show"},Na={class:"dropdown-header"},Pa={class:"btn-group btn-group-sm"},Ga={class:"quick-copy-section"},Ba={class:"material-icons"},Ha={class:"material-icons"},ja={key:1,class:"all-snippets"},za={class:"snippet-header"},qa={class:"snippet-label"},Ya=["onClick"],Wa={class:"snippet-code"},Xa={key:0,class:"snippet-desc"},Ja=le({__name:"CopyCodeButton",props:{field:{},compact:{type:Boolean}},setup(t){const s=t,{selectedLanguage:l,copiedSlug:o,generateFieldCode:a,getQuickCode:i,copyToClipboard:r}=yo(),c=R(!1),p=R(!1),u=z(()=>a(s.field)),n=z(()=>i(s.field)),d=z(()=>o.value===s.field.slug);async function h(){await r(n.value,s.field.slug)}async function v($){await r($,s.field.slug)}function _(){c.value=!c.value,c.value||(p.value=!1)}function w(){c.value=!1,p.value=!1}return($,I)=>{const D=Do("click-outside");return G((g(),b("div",Fa,[t.compact?(g(),b("button",{key:0,class:ne(["btn btn-link btn-sm copy-code-btn",{copied:d.value}]),onClick:Ce(h,["stop"]),title:d.value?"Copied!":`Copy ${f(l)} code`},[e("span",Ua,m(d.value?"check":"content_copy"),1)],10,Aa)):(g(),b("div",La,[e("button",{class:ne(["btn btn-outline-secondary btn-sm copy-code-trigger",{active:c.value}]),onClick:Ce(_,["stop"])},[I[4]||(I[4]=e("span",{class:"material-icons"},"code",-1)),I[5]||(I[5]=e("span",{class:"btn-text"},"Copy Code",-1)),e("span",Va,m(c.value?"expand_less":"expand_more"),1)],2),c.value?(g(),b("div",Oa,[e("div",Na,[I[6]||(I[6]=e("span",null,"Language",-1)),e("div",Pa,[e("button",{class:ne(["btn btn-xs",f(l)==="smarty"?"btn-primary":"btn-outline-secondary"]),onClick:I[0]||(I[0]=C=>l.value="smarty")}," Smarty ",2),e("button",{class:ne(["btn btn-xs",f(l)==="twig"?"btn-primary":"btn-outline-secondary"]),onClick:I[1]||(I[1]=C=>l.value="twig")}," Twig ",2),e("button",{class:ne(["btn btn-xs",f(l)==="shortcode"?"btn-primary":"btn-outline-secondary"]),onClick:I[2]||(I[2]=C=>l.value="shortcode")}," Shortcode ",2)])]),I[8]||(I[8]=e("div",{class:"dropdown-divider"},null,-1)),e("div",Ga,[e("code",{class:"quick-code",onClick:h},m(n.value),1),e("button",{class:ne(["btn btn-sm btn-primary copy-btn",{copied:d.value}]),onClick:h},[e("span",Ba,m(d.value?"check":"content_copy"),1),A(" "+m(d.value?"Copied!":"Copy"),1)],2)]),u.value.length>1?(g(),b("button",{key:0,class:"btn btn-link btn-sm show-more-btn",onClick:I[3]||(I[3]=C=>p.value=!p.value)},[A(m(p.value?"Hide":"Show all")+" snippets ",1),e("span",Ha,m(p.value?"expand_less":"expand_more"),1)])):F("",!0),p.value?(g(),b("div",ja,[(g(!0),b(X,null,te(u.value,C=>(g(),b("div",{key:C.label,class:"snippet-item"},[e("div",za,[e("span",qa,m(C.label),1),e("button",{class:"btn btn-link btn-xs",onClick:E=>v(C.code)},[...I[7]||(I[7]=[e("span",{class:"material-icons"},"content_copy",-1)])],8,Ya)]),e("pre",Wa,[e("code",null,m(C.code),1)]),C.description?(g(),b("small",Xa,m(C.description),1)):F("",!0)]))),128))])):F("",!0)])):F("",!0)]))])),[[D,w]])}}}),Qa=he(Ja,[["__scopeId","data-v-9836b1b5"]]),Za={class:"acfps-field-list"},Ka={key:0,class:"acfps-empty-state"},ei={class:"empty-state-content"},ti={class:"empty-title"},li={class:"empty-description"},oi=["onClick"],si={key:0,class:"material-icons text-warning incomplete-icon",title:"Title required"},ni=["onClick"],ai={class:"material-icons"},ii={class:"field-icon material-icons"},ri={class:"field-info"},di={class:"field-type"},ui={key:0,class:"subfield-count"},ci={class:"field-slug"},fi=["onClick"],pi={key:0,class:"acfps-subfields"},mi={key:1,class:"alert alert-info mb-3"},vi=["onClick"],gi={key:2,class:"field-list-footer"},hi=le({__name:"FieldList",setup(t){const s=He(),{t:l}=fe(),o=R(!1),a=R(null),i=R(new Set),r=z({get:()=>s.currentFields,set:$=>{s.reorderFields($)}}),c={text:"text_fields",textarea:"notes",number:"pin",select:"list",richtext:"article",checkbox:"check_box",radio:"radio_button_checked",boolean:"toggle_on",file:"attach_file",files:"folder",image:"image",gallery:"collections",video:"videocam",date:"event",time:"schedule",datetime:"calendar_today",color:"palette",email:"email",url:"link",relation:"account_tree",list:"format_list_bulleted",repeater:"repeat"};function p($){return c[$]||"input"}function u($,I){confirm(l("confirmDeleteField"))&&(I?s.removeSubfield(I,$):s.removeField($))}function n($){a.value?(s.addSubfield(a.value,$),a.value=null):s.addField($),o.value=!1}function d($){a.value=$,o.value=!0}function h($){i.value.has($)?i.value.delete($):i.value.add($)}function v($){return i.value.has($)}function _($){return $.children||[]}function w($,I){s.reorderSubfields($,I)}return($,I)=>{var D;return g(),b("div",Za,[r.value.length===0?(g(),b("div",Ka,[e("div",ei,[I[7]||(I[7]=e("span",{class:"material-icons empty-icon"},"view_list",-1)),e("h5",ti,m(f(l)("noFields")),1),e("p",li,m(f(l)("getStartedAddingFields")),1),e("button",{class:"btn btn-primary btn-lg empty-action-btn",onClick:I[0]||(I[0]=C=>o.value=!0)},[I[6]||(I[6]=e("span",{class:"material-icons"},"add",-1)),A(" "+m(f(l)("addField")),1)])])])):(g(),ke(f(pl),{key:1,modelValue:r.value,"onUpdate:modelValue":I[3]||(I[3]=C=>r.value=C),animation:200,handle:".drag-handle","ghost-class":"sortable-ghost","chosen-class":"sortable-chosen",class:"field-list-container"},{default:Pt(()=>[(g(!0),b(X,null,te(r.value,C=>{var E,U,O,L;return g(),b("div",{key:C.uuid,class:"acfps-field-wrapper"},[e("div",{class:ne(["acfps-field-item",{active:((E=f(s).selectedField)==null?void 0:E.uuid)===C.uuid,"field-incomplete":!((U=C.title)!=null&&U.trim())}]),onClick:S=>f(s).selectField(C)},[I[9]||(I[9]=e("span",{class:"drag-handle material-icons"},"drag_indicator",-1)),(O=C.title)!=null&&O.trim()?F("",!0):(g(),b("span",si," warning ")),C.type==="repeater"?(g(),b("button",{key:1,class:"btn btn-link btn-sm expand-toggle",onClick:Ce(S=>h(C.uuid),["stop"])},[e("span",ai,m(v(C.uuid)?"expand_more":"chevron_right"),1)],8,ni)):F("",!0),e("span",ii,m(p(C.type)),1),e("div",ri,[e("span",{class:ne(["field-title",{"text-muted":!((L=C.title)!=null&&L.trim())}])},m(C.title||f(l)("untitled")),3),e("span",di,m(C.type),1),C.type==="repeater"&&_(C).length>0?(g(),b("span",ui," ("+m(_(C).length)+" subfields) ",1)):F("",!0)]),e("span",ci,m(C.slug),1),C.slug?(g(),ke(Qa,{key:2,field:C,compact:!0},null,8,["field"])):F("",!0),e("button",{class:"btn btn-link btn-sm text-danger",onClick:Ce(S=>u(C),["stop"])},[...I[8]||(I[8]=[e("span",{class:"material-icons"},"delete",-1)])],8,fi)],10,oi),C.type==="repeater"&&v(C.uuid)?(g(),b("div",pi,[_(C).length>0?(g(),ke(f(pl),{key:0,"model-value":_(C),animation:200,handle:".drag-handle","ghost-class":"sortable-ghost","chosen-class":"sortable-chosen",class:"subfield-list","onUpdate:modelValue":S=>w(C,S)},{default:Pt(()=>[(g(!0),b(X,null,te(_(C),S=>(g(),ke(Ra,{key:S.uuid,field:S,"parent-field":C,depth:0,onDelete:I[1]||(I[1]=(x,M)=>u(x,M)),onAddSubfield:I[2]||(I[2]=(x,M)=>{a.value=x,o.value=!0})},null,8,["field","parent-field"]))),128))]),_:2},1032,["model-value","onUpdate:modelValue"])):(g(),b("div",mi,[e("small",null,m(f(l)("noSubfields")||"No subfields yet. Click the button below to add one."),1)])),e("button",{class:"btn btn-outline-secondary btn-sm add-subfield-btn",onClick:Ce(S=>d(C),["stop"])},[...I[10]||(I[10]=[e("span",{class:"material-icons"},"add",-1),A(" Add Subfield ",-1)])],8,vi)])):F("",!0)])}),128))]),_:1},8,["modelValue"])),r.value.length>0?(g(),b("div",gi,[e("button",{class:"btn btn-outline-secondary btn-block",onClick:I[4]||(I[4]=C=>{o.value=!0,a.value=null})},[I[11]||(I[11]=e("span",{class:"material-icons"},"add",-1)),A(" "+m(f(l)("addField")),1)])])):F("",!0),_e(bo,{show:o.value,"disabled-field-types":((D=a.value)==null?void 0:D.type)==="repeater"?["repeater"]:void 0,onClose:I[5]||(I[5]=C=>{o.value=!1,a.value=null}),onSelect:n},null,8,["show","disabled-field-types"])])}}}),bi=he(hi,[["__scopeId","data-v-3207579b"]]);function Fe(t,s){function l(r,c){s("update:config",{...t.config,[r]:c})}function o(r,c=""){const p=R(t.config[r]||c);return ee(()=>t.config[r],u=>{p.value=u||c}),ee(p,u=>{l(r,u||void 0)}),p}function a(r){const c=R(t.config[r]!==null&&t.config[r]!==void 0?String(t.config[r]):"");return ee(()=>t.config[r],p=>{c.value=p!=null?String(p):""}),ee(c,p=>{const u=p===""?void 0:Number(p);l(r,u)}),c}function i(r,c=!1){const p=R(t.config[r]===!0||t.config[r]==="1");return ee(()=>t.config[r],u=>{p.value=u===!0||u==="1"}),ee(p,u=>{l(r,!!u)}),p}return{updateConfig:l,createStringRef:o,createNumberRef:a,createBooleanRef:i}}const yi={class:"text-field-config"},_i={class:"form-group"},$i={class:"form-control-label"},wi={class:"form-group"},xi={class:"form-control-label"},ki={class:"form-group"},Ci={class:"form-control-label"},Si={class:"form-group"},Ti={class:"form-control-label"},Di=["placeholder"],Ii={class:"form-text text-muted"},Ei=le({__name:"TextFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createStringRef:i}=Fe(l,o),r=i("placeholder"),c=i("prefix"),p=i("suffix"),u=i("defaultValue");return(n,d)=>(g(),b("div",yi,[e("div",_i,[e("label",$i,m(f(a)("placeholder")),1),G(e("input",{"onUpdate:modelValue":d[0]||(d[0]=h=>ae(r)?r.value=h:null),type:"text",class:"form-control"},null,512),[[q,f(r)]])]),e("div",wi,[e("label",xi,m(f(a)("prefix")),1),G(e("input",{"onUpdate:modelValue":d[1]||(d[1]=h=>ae(c)?c.value=h:null),type:"text",class:"form-control"},null,512),[[q,f(c)]]),d[4]||(d[4]=e("small",{class:"form-text text-muted"}," Text to display before the field value. ",-1))]),e("div",ki,[e("label",Ci,m(f(a)("suffix")),1),G(e("input",{"onUpdate:modelValue":d[2]||(d[2]=h=>ae(p)?p.value=h:null),type:"text",class:"form-control"},null,512),[[q,f(p)]]),d[5]||(d[5]=e("small",{class:"form-text text-muted"}," Text to display after the field value. ",-1))]),e("div",Si,[e("label",Ti,m(f(a)("defaultValue")),1),G(e("input",{"onUpdate:modelValue":d[3]||(d[3]=h=>ae(u)?u.value=h:null),type:"text",class:"form-control",placeholder:f(a)("defaultValuePlaceholder")||"Default value for all entities"},null,8,Di),[[q,f(u)]]),e("small",Ii,m(f(a)("defaultValueHelp")||"Used when the entity has no specific value."),1)])]))}}),Mi={class:"textarea-field-config"},Ri={class:"form-group"},Fi={class:"form-control-label"},Ai={class:"form-group"},Ui={class:"form-group"},Li={class:"form-control-label"},Vi=["placeholder"],Oi={class:"form-text text-muted"},Ni=le({__name:"TextareaFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createStringRef:i,createNumberRef:r}=Fe(l,o),c=i("placeholder"),p=r("rows"),u=i("defaultValue");return(n,d)=>(g(),b("div",Mi,[e("div",Ri,[e("label",Fi,m(f(a)("placeholder")),1),G(e("input",{"onUpdate:modelValue":d[0]||(d[0]=h=>ae(c)?c.value=h:null),type:"text",class:"form-control"},null,512),[[q,f(c)]])]),e("div",Ai,[d[3]||(d[3]=e("label",{class:"form-control-label"},"Rows",-1)),G(e("input",{"onUpdate:modelValue":d[1]||(d[1]=h=>ae(p)?p.value=h:null),type:"number",class:"form-control",min:"2",max:"20"},null,512),[[q,f(p),void 0,{number:!0}]]),d[4]||(d[4]=e("small",{class:"form-text text-muted"}," Number of visible text lines (2-20). ",-1))]),e("div",Ui,[e("label",Li,m(f(a)("defaultValue")),1),G(e("textarea",{"onUpdate:modelValue":d[2]||(d[2]=h=>ae(u)?u.value=h:null),class:"form-control",rows:"3",placeholder:f(a)("defaultValuePlaceholder")||"Default value for all entities"},null,8,Vi),[[q,f(u)]]),e("small",Oi,m(f(a)("defaultValueHelp")||"Used when the entity has no specific value."),1)])]))}}),Pi={class:"number-field-config"},Gi={class:"form-group"},Bi={class:"form-control-label"},Hi={class:"form-row"},ji={class:"form-group col-4"},zi={class:"form-control-label"},qi=["max"],Yi={class:"form-group col-4"},Wi={class:"form-control-label"},Xi=["min"],Ji={class:"form-group col-4"},Qi={class:"form-control-label"},Zi={class:"form-row"},Ki={class:"form-group col-6"},er={class:"form-control-label"},tr={class:"form-group col-6"},lr={class:"form-control-label"},or={class:"form-group"},sr={class:"form-control-label"},nr=["placeholder"],ar={class:"form-text text-muted"},ir=le({__name:"NumberFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createStringRef:i,createNumberRef:r}=Fe(l,o),c=i("placeholder"),p=r("min"),u=r("max"),n=r("step"),d=i("prefix"),h=i("suffix"),v=r("defaultValue");return ee([p,u],([_,w])=>{const $=_===""?void 0:Number(_),I=w===""?void 0:Number(w);$!==void 0&&I!==void 0&&$>=I&&console.warn("[NumberFieldConfig] Warning: min value is greater than or equal to max value")}),(_,w)=>(g(),b("div",Pi,[e("div",Gi,[e("label",Bi,m(f(a)("placeholder")),1),G(e("input",{"onUpdate:modelValue":w[0]||(w[0]=$=>ae(c)?c.value=$:null),type:"text",class:"form-control"},null,512),[[q,f(c)]])]),e("div",Hi,[e("div",ji,[e("label",zi,m(f(a)("minValue")),1),G(e("input",{"onUpdate:modelValue":w[1]||(w[1]=$=>ae(p)?p.value=$:null),type:"number",class:"form-control",max:f(u)||void 0},null,8,qi),[[q,f(p),void 0,{number:!0}]]),w[7]||(w[7]=e("small",{class:"form-text text-muted"}," Minimum allowed value (optional). ",-1))]),e("div",Yi,[e("label",Wi,m(f(a)("maxValue")),1),G(e("input",{"onUpdate:modelValue":w[2]||(w[2]=$=>ae(u)?u.value=$:null),type:"number",class:"form-control",min:f(p)||void 0},null,8,Xi),[[q,f(u),void 0,{number:!0}]]),w[8]||(w[8]=e("small",{class:"form-text text-muted"}," Maximum allowed value (optional). ",-1))]),e("div",Ji,[e("label",Qi,m(f(a)("step")),1),G(e("input",{"onUpdate:modelValue":w[3]||(w[3]=$=>ae(n)?n.value=$:null),type:"number",class:"form-control",step:"any",min:"0"},null,512),[[q,f(n),void 0,{number:!0}]]),w[9]||(w[9]=e("small",{class:"form-text text-muted"}," Increment step (optional). ",-1))])]),e("div",Zi,[e("div",Ki,[e("label",er,m(f(a)("prefix")),1),G(e("input",{"onUpdate:modelValue":w[4]||(w[4]=$=>ae(d)?d.value=$:null),type:"text",class:"form-control",placeholder:"$"},null,512),[[q,f(d)]])]),e("div",tr,[e("label",lr,m(f(a)("suffix")),1),G(e("input",{"onUpdate:modelValue":w[5]||(w[5]=$=>ae(h)?h.value=$:null),type:"text",class:"form-control",placeholder:"kg"},null,512),[[q,f(h)]])])]),e("div",or,[e("label",sr,m(f(a)("defaultValue")),1),G(e("input",{"onUpdate:modelValue":w[6]||(w[6]=$=>ae(v)?v.value=$:null),type:"number",class:"form-control",placeholder:f(a)("defaultValuePlaceholder")||"Default value for all entities"},null,8,nr),[[q,f(v)]]),e("small",ar,m(f(a)("defaultValueHelp")||"Used when the entity has no specific value."),1)])]))}}),rr=he(ir,[["__scopeId","data-v-17b6c122"]]),dr={class:"email-field-config"},ur={class:"form-group"},cr={class:"form-control-label"},fr=le({__name:"EmailFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createLocalRef:i}=Fe(l,o),r=i("placeholder","");return(c,p)=>(g(),b("div",dr,[e("div",ur,[e("label",cr,m(f(a)("placeholder")),1),G(e("input",{"onUpdate:modelValue":p[0]||(p[0]=u=>ae(r)?r.value=u:null),type:"text",class:"form-control",placeholder:"email@example.com"},null,512),[[q,f(r)]])])]))}}),pr={class:"url-field-config"},mr={class:"form-group"},vr={class:"form-control-label"},gr={class:"form-group"},hr={class:"form-group"},br=le({__name:"UrlFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){var u,n,d;const l=t,o=s,{t:a}=fe();function i(h,v){o("update:config",{...l.config,[h]:v})}const r=R(((u=l.config)==null?void 0:u.placeholder)||""),c=R(((n=l.config)==null?void 0:n.target)||"_blank"),p=R(((d=l.config)==null?void 0:d.linkText)||"");return ee(()=>{var h;return(h=l.config)==null?void 0:h.placeholder},h=>{r.value=h||""}),ee(()=>{var h;return(h=l.config)==null?void 0:h.target},h=>{c.value=h||"_blank"}),ee(()=>{var h;return(h=l.config)==null?void 0:h.linkText},h=>{p.value=h||""}),ee(r,h=>{i("placeholder",h||void 0)}),ee(c,h=>{i("target",h)}),ee(p,h=>{i("linkText",h||void 0)}),(h,v)=>(g(),b("div",pr,[e("div",mr,[e("label",vr,m(f(a)("placeholder")),1),G(e("input",{"onUpdate:modelValue":v[0]||(v[0]=_=>r.value=_),type:"text",class:"form-control",placeholder:"https://example.com"},null,512),[[q,r.value]])]),e("div",gr,[v[4]||(v[4]=e("label",{class:"form-control-label"},"Link Target",-1)),G(e("select",{"onUpdate:modelValue":v[1]||(v[1]=_=>c.value=_),class:"form-control"},[...v[3]||(v[3]=[e("option",{value:"_blank"},"New Tab (_blank)",-1),e("option",{value:"_self"},"Same Tab (_self)",-1)])],512),[[ft,c.value]])]),e("div",hr,[v[5]||(v[5]=e("label",{class:"form-control-label"},"Link Text",-1)),G(e("input",{"onUpdate:modelValue":v[2]||(v[2]=_=>p.value=_),type:"text",class:"form-control"},null,512),[[q,p.value]]),v[6]||(v[6]=e("small",{class:"form-text text-muted"}," Custom text to display instead of the URL (optional). ",-1))])]))}}),yr={class:"choices-editor"},_r={key:0,class:"choice-lang-tabs mb-3"},$r=["onClick"],wr={key:0,class:"badge badge-primary badge-sm ml-1"},xr={class:"value-input-container"},kr=["placeholder","value","onInput","onFocus"],Cr={key:0,class:"form-text text-muted value-hint"},Sr={key:1,class:"form-text text-info value-hint"},Tr={key:0,class:"label-input-container"},Dr=["placeholder","value","onInput"],Ir=["onClick"],Er={key:1,class:"text-muted mb-2"},Mr=le({__name:"ChoicesEditor",props:{modelValue:{},emptyMessage:{default:"No options defined yet."},addButtonLabel:{default:"Add Option"}},emits:["update:modelValue"],setup(t,{emit:s}){const l=t,o=s,a=R("en"),i=z(()=>{var D;return((D=window.acfConfig)==null?void 0:D.languages)||[]}),r=z(()=>i.value.find(D=>D.is_default)||i.value[0]),c=z(()=>i.value.find(D=>D.code===a.value)||r.value),p=R([...l.modelValue]),u=R(!1);r.value&&(a.value=r.value.code);function n(D){return D.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"")||"choice"}ee(()=>l.modelValue,D=>{u.value||(p.value=[...D])});function d(){var E;const D=p.value.length+1;(E=r.value)==null||E.id;const C={value:`choice_${D}`,label:"",translations:{}};i.value.forEach(U=>{C.translations[U.id]=""}),p.value.push(C),I()}function h(D){p.value.splice(D,1),I()}function v(D,C,E){const U=p.value[D];$(D,E)?U.value=E:U.value=n(U.label),I()}function _(D,C,E){var O;p.value[D].translations||(p.value[D].translations={}),p.value[D].translations[C]=E,((O=r.value)==null?void 0:O.id.toString())===C&&(p.value[D].label=E),I()}function w(D){const C=p.value[D];C.value===n(C.label)&&(C.value="")}function $(D,C){if(!C.trim())return!1;const E=C.toLowerCase();return!p.value.some((U,O)=>O===D?!1:(U.value||n(U.label)).toLowerCase()===E)}function I(){u.value=!0,o("update:modelValue",[...p.value]),Ze(()=>{u.value=!1})}return(D,C)=>(g(),b("div",yr,[i.value.length>1?(g(),b("div",_r,[(g(!0),b(X,null,te(i.value,E=>(g(),b("button",{key:E.code,type:"button",class:ne(["choice-lang-tab",{active:a.value===E.code}]),onClick:U=>a.value=E.code},[C[0]||(C[0]=e("span",{class:"flag-icon flag-icon-{{ lang.code }}"},null,-1)),A(" "+m(E.code.toUpperCase())+" ",1),E.is_default?(g(),b("span",wr,"Default")):F("",!0)],10,$r))),128))])):F("",!0),(g(!0),b(X,null,te(p.value,(E,U)=>(g(),b("div",{key:U,class:"choice-row"},[e("div",xr,[e("input",{type:"text",class:ne(["form-control",{"text-muted":!E.value||E.value===n(E.label)}]),placeholder:"Auto: "+n(E.label),value:E.value||n(E.label),onInput:O=>v(U,"value",O.target.value),onFocus:O=>w(U)},null,42,kr),!E.value||E.value===n(E.label)?(g(),b("small",Cr," Auto-generated from label ")):(g(),b("small",Sr," Custom value "))]),c.value?(g(),b("div",Tr,[e("input",{type:"text",class:ne(["form-control",{"font-weight-bold":c.value.is_default}]),placeholder:"Label"+(i.value.length>1?" ("+c.value.code.toUpperCase()+")":""),value:E.translations?E.translations[c.value.id]||"":E.label,onInput:O=>_(U,c.value.id,O.target.value)},null,42,Dr)])):F("",!0),e("button",{type:"button",class:"btn btn-link text-danger",onClick:O=>h(U)},[...C[1]||(C[1]=[e("span",{class:"material-icons"},"delete",-1)])],8,Ir)]))),128)),p.value.length===0?(g(),b("div",Er,m(l.emptyMessage),1)):F("",!0),e("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2",onClick:d},[C[2]||(C[2]=e("span",{class:"material-icons"},"add",-1)),A(" "+m(l.addButtonLabel),1)])]))}}),bl=he(Mr,[["__scopeId","data-v-12bfb35c"]]),Rr={class:"select-field-config"},Fr={class:"form-group"},Ar={class:"form-control-label"},Ur={class:"form-group"},Lr={class:"form-control-label"},Vr=["value"],Or={value:""},Nr=["value"],Pr={class:"form-text text-muted"},Gr={class:"form-group"},Br={class:"form-control-label"},Hr={class:"form-text text-muted"},jr=le({__name:"SelectFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{updateConfig:i,createBooleanRef:r}=Fe(l,o),c=z(()=>{var h;return((h=window.acfConfig)==null?void 0:h.languages)||[]});function p(h){return h?Array.isArray(h)?h.map(v=>{if(typeof v=="object"&&v!==null){const _={value:v.value||"",label:v.label||"",translations:v.translations||{}},w=c.value.find($=>$.is_default);return w&&!_.label&&_.translations[w.id]&&(_.label=_.translations[w.id]),w&&_.label&&!_.translations[w.id]&&(_.translations[w.id]=_.label),_}return{value:String(v),label:String(v),translations:{}}}):typeof h=="string"?h.split(`
`).map(v=>v.trim()).filter(v=>v.length>0).map(v=>{const _=v.split(":").map(w=>w.trim());return{value:_[0]||"",label:_[1]||_[0]||"",translations:{}}}):[]:[]}const u=R(p(l.config.choices)),n=R(!1);ee(()=>l.config.choices,h=>{n.value||(u.value=p(h))}),ee(u,h=>{n.value=!0,i("choices",h),Ze(()=>{n.value=!1})},{deep:!0});const d=r("allowMultiple");return(h,v)=>(g(),b("div",Rr,[e("div",Fr,[e("label",Ar,m(f(a)("choices")),1),_e(bl,{modelValue:u.value,"onUpdate:modelValue":v[0]||(v[0]=_=>u.value=_),"empty-message":f(a)("noChoices")||"No options defined yet.","add-button-label":f(a)("addOption")||"Add Option"},null,8,["modelValue","empty-message","add-button-label"])]),e("div",Ur,[e("label",Lr,m(f(a)("defaultValue")),1),e("select",{class:"form-control",value:t.config.defaultValue,onChange:v[1]||(v[1]=_=>f(i)("defaultValue",_.target.value))},[e("option",Or,"-- "+m(f(a)("none")||"None")+" --",1),(g(!0),b(X,null,te(u.value,_=>(g(),b("option",{key:_.value,value:_.value},m(_.label||_.value),9,Nr))),128))],40,Vr),e("small",Pr,m(f(a)("selectDefaultHelp")||"Select the default option."),1)]),e("div",Gr,[e("label",Br,m(f(a)("allowMultiple")),1),_e(Ve,{modelValue:f(d),"onUpdate:modelValue":v[2]||(v[2]=_=>ae(d)?d.value=_:null),id:"select-allow-multiple"},null,8,["modelValue"]),e("small",Hr,m(f(a)("allowMultipleHelp")||"Allow selecting multiple values."),1)])]))}}),zr={class:"checkbox-field-config"},qr={class:"form-group"},Yr={class:"form-control-label"},Wr={class:"form-text text-muted d-block mt-2"},Xr={key:0,class:"form-group"},Jr={class:"form-control-label"},Qr={class:"default-choices"},Zr=["id","checked","onChange"],Kr=["for"],ed={class:"form-text text-muted"},td=le({__name:"CheckboxFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{updateConfig:i}=Fe(l,o);function r(d){return d?Array.isArray(d)?d.map(h=>typeof h=="object"&&h!==null?{value:h.value||"",label:h.label||"",translations:h.translations||{}}:{value:String(h),label:String(h),translations:{}}):[]:[]}const c=R(r(l.config.choices)),p=R(!1);ee(()=>l.config.choices,d=>{p.value||(c.value=r(d))}),ee(c,d=>{p.value=!0,i("choices",d),setTimeout(()=>{p.value=!1},0)},{deep:!0});const u=z({get:()=>{const d=l.config.defaultValue;return Array.isArray(d)?d:typeof d=="string"&&d?[d]:[]},set:d=>{i("defaultValue",d.length>0?d:void 0)}});function n(d){const h=[...u.value],v=h.indexOf(d);v>=0?h.splice(v,1):h.push(d),u.value=h}return(d,h)=>(g(),b("div",zr,[e("div",qr,[e("label",Yr,m(f(a)("choices")),1),_e(bl,{modelValue:c.value,"onUpdate:modelValue":h[0]||(h[0]=v=>c.value=v),"empty-message":f(a)("noChoices")||"No options defined yet.","add-button-label":f(a)("addOption")||"Add Option"},null,8,["modelValue","empty-message","add-button-label"]),e("small",Wr,m(f(a)("checkboxHelp")||"Users can select multiple options."),1)]),c.value.length>0?(g(),b("div",Xr,[e("label",Jr,m(f(a)("defaultValue")),1),e("div",Qr,[(g(!0),b(X,null,te(c.value,v=>(g(),b("div",{key:v.value,class:"form-check"},[e("input",{type:"checkbox",class:"form-check-input",id:"default-"+v.value,checked:u.value.includes(v.value),onChange:_=>n(v.value)},null,40,Zr),e("label",{class:"form-check-label",for:"default-"+v.value},m(v.label||v.value),9,Kr)]))),128))]),e("small",ed,m(f(a)("defaultValueHelp")||"Select default checked options for new entities."),1)])):F("",!0)]))}}),ld=he(td,[["__scopeId","data-v-a75a7667"]]),od={class:"radio-field-config"},sd={class:"form-group"},nd={class:"form-control-label"},ad={class:"form-text text-muted d-block mt-2"},id={class:"form-group"},rd={class:"form-control-label"},dd=["value"],ud={value:"vertical"},cd={value:"horizontal"},fd={class:"form-group"},pd={class:"form-control-label"},md=["value"],vd={value:""},gd=["value"],hd=le({__name:"RadioFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{updateConfig:i}=Fe(l,o);function r(u){return u?Array.isArray(u)?u.map(n=>typeof n=="object"&&n!==null?{value:n.value||"",label:n.label||"",translations:n.translations||{}}:{value:String(n),label:String(n),translations:{}}):[]:[]}const c=R(r(l.config.choices)),p=R(!1);return ee(()=>l.config.choices,u=>{p.value||(c.value=r(u))}),ee(c,u=>{p.value=!0,i("choices",u),setTimeout(()=>{p.value=!1},0)},{deep:!0}),(u,n)=>(g(),b("div",od,[e("div",sd,[e("label",nd,m(f(a)("choices")),1),_e(bl,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=d=>c.value=d),"empty-message":f(a)("noChoices")||"No options defined yet.","add-button-label":f(a)("addOption")||"Add Option"},null,8,["modelValue","empty-message","add-button-label"]),e("small",ad,m(f(a)("radioHelp")||"User can select only one option."),1)]),e("div",id,[e("label",rd,m(f(a)("layout")||"Layout"),1),e("select",{class:"form-control",value:t.config.layout||"vertical",onChange:n[1]||(n[1]=d=>f(i)("layout",d.target.value))},[e("option",ud,m(f(a)("vertical")||"Vertical"),1),e("option",cd,m(f(a)("horizontal")||"Horizontal"),1)],40,dd)]),e("div",fd,[e("label",pd,m(f(a)("defaultValue")),1),e("select",{class:"form-control",value:t.config.defaultValue,onChange:n[2]||(n[2]=d=>f(i)("defaultValue",d.target.value))},[e("option",vd,"-- "+m(f(a)("none")||"None")+" --",1),(g(!0),b(X,null,te(c.value,d=>(g(),b("option",{key:d.value,value:d.value},m(d.label||d.value),9,gd))),128))],40,md)])]))}}),bd={class:"boolean-field-config"},yd={class:"form-group"},_d={class:"form-control-label"},$d={class:"form-text text-muted"},wd={class:"form-group"},xd={class:"form-control-label"},kd=["placeholder"],Cd={class:"form-text text-muted"},Sd={class:"form-group"},Td={class:"form-control-label"},Dd=["placeholder"],Id={class:"form-text text-muted"},Ed=le({__name:"BooleanFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createBooleanRef:i,createStringRef:r}=Fe(l,o),c=i("defaultValue"),p=r("trueLabel"),u=r("falseLabel");return(n,d)=>(g(),b("div",bd,[e("div",yd,[e("label",_d,m(f(a)("defaultValue")),1),_e(Ve,{modelValue:f(c),"onUpdate:modelValue":d[0]||(d[0]=h=>ae(c)?c.value=h:null),id:"boolean-default"},null,8,["modelValue"]),e("small",$d,m(f(a)("Default to checked")),1)]),e("div",wd,[e("label",xd,m(f(a)("trueLabel")||"True Label"),1),G(e("input",{"onUpdate:modelValue":d[1]||(d[1]=h=>ae(p)?p.value=h:null),type:"text",class:"form-control",placeholder:f(a)("yes")||"Yes"},null,8,kd),[[q,f(p)]]),e("small",Cd,m(f(a)("trueLabelHelp")||"Text to display when value is true/checked."),1)]),e("div",Sd,[e("label",Td,m(f(a)("falseLabel")||"False Label"),1),G(e("input",{"onUpdate:modelValue":d[2]||(d[2]=h=>ae(u)?u.value=h:null),type:"text",class:"form-control",placeholder:f(a)("no")||"No"},null,8,Dd),[[q,f(u)]]),e("small",Id,m(f(a)("falseLabelHelp")||"Text to display when value is false/unchecked."),1)])]))}}),Md=he(Ed,[["__scopeId","data-v-cfa1d3c9"]]),Rd={class:"date-field-config"},Fd={class:"form-group"},Ad={class:"form-group"},Ud={class:"form-group"},Ld={class:"form-control-label"},Vd={class:"form-text text-muted"},Od=le({__name:"DateFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createStringRef:i}=Fe(l,o),r=i("minDate"),c=i("maxDate"),p=i("defaultValue");return(u,n)=>(g(),b("div",Rd,[e("div",Fd,[n[3]||(n[3]=e("label",{class:"form-control-label"},"Minimum Date",-1)),G(e("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>ae(r)?r.value=d:null),type:"date",class:"form-control"},null,512),[[q,f(r)]]),n[4]||(n[4]=e("small",{class:"form-text text-muted"}," Earliest selectable date (optional). ",-1))]),e("div",Ad,[n[5]||(n[5]=e("label",{class:"form-control-label"},"Maximum Date",-1)),G(e("input",{"onUpdate:modelValue":n[1]||(n[1]=d=>ae(c)?c.value=d:null),type:"date",class:"form-control"},null,512),[[q,f(c)]]),n[6]||(n[6]=e("small",{class:"form-text text-muted"}," Latest selectable date (optional). ",-1))]),e("div",Ud,[e("label",Ld,m(f(a)("defaultValue")),1),G(e("input",{"onUpdate:modelValue":n[2]||(n[2]=d=>ae(p)?p.value=d:null),type:"date",class:"form-control"},null,512),[[q,f(p)]]),e("small",Vd,m(f(a)("defaultValueHelp")||"Used when the entity has no specific value."),1)])]))}}),Nd={class:"time-field-config"},Pd={class:"form-group"},Gd={class:"form-group"},Bd={class:"form-group"},Hd={class:"form-control-label"},jd={class:"form-text text-muted"},zd=le({__name:"TimeFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createStringRef:i,createNumberRef:r}=Fe(l,o),c=i("format"),p=r("step"),u=i("defaultValue");return(n,d)=>(g(),b("div",Nd,[e("div",Pd,[d[4]||(d[4]=e("label",{class:"form-control-label"},"Time Format",-1)),G(e("select",{"onUpdate:modelValue":d[0]||(d[0]=h=>ae(c)?c.value=h:null),class:"form-control"},[...d[3]||(d[3]=[e("option",{value:"24h"},"24 Hour (14:30)",-1),e("option",{value:"12h"},"12 Hour (2:30 PM)",-1)])],512),[[ft,f(c)]])]),e("div",Gd,[d[6]||(d[6]=e("label",{class:"form-control-label"},"Minute Step",-1)),G(e("select",{"onUpdate:modelValue":d[1]||(d[1]=h=>ae(p)?p.value=h:null),class:"form-control"},[...d[5]||(d[5]=[e("option",{value:"1"},"1 minute",-1),e("option",{value:"5"},"5 minutes",-1),e("option",{value:"15"},"15 minutes",-1),e("option",{value:"30"},"30 minutes",-1)])],512),[[ft,f(p),void 0,{number:!0}]])]),e("div",Bd,[e("label",Hd,m(f(a)("defaultValue")),1),G(e("input",{"onUpdate:modelValue":d[2]||(d[2]=h=>ae(u)?u.value=h:null),type:"time",class:"form-control"},null,512),[[q,f(u)]]),e("small",jd,m(f(a)("defaultValueHelp")||"Used when the entity has no specific value."),1)])]))}}),qd={class:"datetime-field-config"},Yd={class:"form-group"},Wd={class:"form-group"},Xd={class:"form-group"},Jd={class:"form-control-label"},Qd={class:"form-text text-muted"},Zd=le({__name:"DatetimeFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createStringRef:i}=Fe(l,o),r=i("minDate"),c=i("maxDate"),p=i("defaultValue");return(u,n)=>(g(),b("div",qd,[e("div",Yd,[n[3]||(n[3]=e("label",{class:"form-control-label"},"Minimum Date/Time",-1)),G(e("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>ae(r)?r.value=d:null),type:"datetime-local",class:"form-control"},null,512),[[q,f(r)]]),n[4]||(n[4]=e("small",{class:"form-text text-muted"}," Earliest selectable date and time (optional). ",-1))]),e("div",Wd,[n[5]||(n[5]=e("label",{class:"form-control-label"},"Maximum Date/Time",-1)),G(e("input",{"onUpdate:modelValue":n[1]||(n[1]=d=>ae(c)?c.value=d:null),type:"datetime-local",class:"form-control"},null,512),[[q,f(c)]]),n[6]||(n[6]=e("small",{class:"form-text text-muted"}," Latest selectable date and time (optional). ",-1))]),e("div",Xd,[e("label",Jd,m(f(a)("defaultValue")),1),G(e("input",{"onUpdate:modelValue":n[2]||(n[2]=d=>ae(p)?p.value=d:null),type:"datetime-local",class:"form-control"},null,512),[[q,f(p)]]),e("small",Qd,m(f(a)("defaultValueHelp")||"Used when the entity has no specific value."),1)])]))}}),Kd={class:"color-field-config"},eu={class:"form-group"},tu={class:"form-check"},lu={class:"form-group"},ou={class:"form-control-label"},su={class:"acf-color-input-group"},nu={class:"form-text text-muted"},au=le({__name:"ColorFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,{t:a}=fe(),{createBooleanRef:i,createStringRef:r}=Fe(l,o),c=i("showHex",!0),p=r("defaultValue");return(u,n)=>(g(),b("div",Kd,[e("div",eu,[e("div",tu,[G(e("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>ae(c)?c.value=d:null),type:"checkbox",class:"form-check-input",id:"showHex"},null,512),[[yt,f(c)]]),n[3]||(n[3]=e("label",{class:"form-check-label",for:"showHex"}," Show Hex Value ",-1))]),n[4]||(n[4]=e("small",{class:"form-text text-muted"}," Display the hex code alongside the color swatch on the frontend. ",-1))]),e("div",lu,[e("label",ou,m(f(a)("defaultValue")),1),e("div",su,[G(e("input",{"onUpdate:modelValue":n[1]||(n[1]=d=>ae(p)?p.value=d:null),type:"color",class:"form-control acf-color-picker"},null,512),[[q,f(p)]]),G(e("input",{"onUpdate:modelValue":n[2]||(n[2]=d=>ae(p)?p.value=d:null),type:"text",class:"form-control",placeholder:"#000000",style:{flex:"1"}},null,512),[[q,f(p)]])]),e("small",nu,m(f(a)("defaultValueHelp")||"Used when the entity has no specific value."),1)])]))}}),iu=he(au,[["__scopeId","data-v-ae9fc39d"]]),ru={class:"richtext-field-config"},du={class:"form-group"},uu=["value"],cu={class:"form-group"},fu=["value"],pu=le({__name:"RichTextFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s;fe();function a(i,r){o("update:config",{...l.config,[i]:r})}return(i,r)=>(g(),b("div",ru,[e("div",du,[r[2]||(r[2]=e("label",{class:"form-control-label"},"Editor Height (rows)",-1)),e("input",{type:"number",class:"form-control",min:"5",max:"30",value:t.config.rows||10,onInput:r[0]||(r[0]=c=>a("rows",parseInt(c.target.value)||10))},null,40,uu),r[3]||(r[3]=e("small",{class:"form-text text-muted"}," Number of text rows for the editor (5-30). ",-1))]),e("div",cu,[r[5]||(r[5]=e("label",{class:"form-control-label"},"Toolbar Style",-1)),e("select",{class:"form-control",value:t.config.toolbar||"standard",onChange:r[1]||(r[1]=c=>a("toolbar",c.target.value))},[...r[4]||(r[4]=[e("option",{value:"basic"},"Basic (bold, italic, links)",-1),e("option",{value:"standard"},"Standard",-1),e("option",{value:"full"},"Full (all options)",-1)])],40,fu),r[6]||(r[6]=e("small",{class:"form-text text-muted"}," Note: Toolbar configuration depends on PrestaShop TinyMCE settings. ",-1))]),r[7]||(r[7]=e("div",{class:"alert alert-info mt-3"},[e("span",{class:"material-icons",style:{"vertical-align":"middle"}},"info"),e("strong",null,"Security Note:"),A(" HTML content is automatically sanitized when saved to prevent XSS attacks. ")],-1))]))}}),mu={class:"file-field-config"},vu={class:"form-group"},gu={class:"acf-checkbox-list"},hu=["id","checked","onChange"],bu=["for"],yu={class:"form-group"},_u=["value"],$u={class:"form-group"},wu={class:"form-control-label d-flex align-items-center gap-2"},xu=["checked"],ku={class:"form-group"},Cu={class:"acf-method-checkboxes"},Su={class:"form-check"},Tu=["checked"],Du={class:"form-check"},Iu=["checked"],Eu={class:"form-check"},Mu=["checked"],Ru={class:"form-check"},Fu=["checked"],Au={key:0,class:"form-group"},Uu=["value"],Lu={key:0,value:"upload"},Vu={key:1,value:"import"},Ou={key:2,value:"link"},Nu={class:"form-group"},Pu={class:"form-control-label d-flex align-items-center gap-2"},Gu=["checked"],Bu={class:"form-group"},Hu={class:"form-control-label d-flex align-items-center gap-2"},ju=["checked"],zu=le({__name:"FileFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s;fe();const a=z(()=>{let u=0;return l.config.allowUpload!==!1&&u++,l.config.allowUrlImport&&u++,l.config.allowUrlLink&&u++,u>1}),i=[{value:"application/pdf",label:"PDF"},{value:"application/msword",label:"Word (.doc)"},{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"Word (.docx)"},{value:"application/vnd.ms-excel",label:"Excel (.xls)"},{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"Excel (.xlsx)"},{value:"text/plain",label:"Text (.txt)"},{value:"text/csv",label:"CSV"},{value:"application/zip",label:"ZIP"}];function r(u,n){o("update:config",{...l.config,[u]:n})}function c(u){const n=l.config.allowedMimes||[],d=n.indexOf(u);let h;d===-1?h=[...n,u]:h=n.filter(v=>v!==u),r("allowedMimes",h)}function p(u){return(l.config.allowedMimes||[]).includes(u)}return(u,n)=>(g(),b("div",mu,[e("div",vu,[n[9]||(n[9]=e("label",{class:"form-control-label"},"Allowed File Types",-1)),e("div",gu,[(g(),b(X,null,te(i,d=>e("div",{key:d.value,class:"form-check"},[e("input",{type:"checkbox",class:"form-check-input",id:"mime-"+d.value,checked:p(d.value),onChange:h=>c(d.value)},null,40,hu),e("label",{class:"form-check-label",for:"mime-"+d.value},m(d.label),9,bu)])),64))]),n[10]||(n[10]=e("small",{class:"form-text text-muted"}," Select which file types users can upload. ",-1))]),e("div",yu,[n[11]||(n[11]=e("label",{class:"form-control-label"},"Max File Size (MB)",-1)),e("input",{type:"number",class:"form-control",min:"1",max:"50",value:t.config.maxSizeMB||10,onInput:n[0]||(n[0]=d=>r("maxSizeMB",parseInt(d.target.value)||10))},null,40,_u),n[12]||(n[12]=e("small",{class:"form-text text-muted"}," Maximum file size in megabytes (1-50 MB). ",-1))]),e("div",$u,[e("label",wu,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.useFixedPath!==!1,onChange:n[1]||(n[1]=d=>r("useFixedPath",d.target.checked))},null,40,xu),n[13]||(n[13]=A(" Use Fixed File Path ",-1))]),n[14]||(n[14]=e("small",{class:"form-text text-muted"}," When enabled, files use a predictable path (field_product_shop.ext) - better for caching. When disabled, files get unique names - avoids browser cache issues after delete/re-upload. ",-1))]),n[27]||(n[27]=e("hr",{class:"my-3"},null,-1)),n[28]||(n[28]=e("h6",{class:"text-muted mb-3"},"Input Methods",-1)),e("div",ku,[n[19]||(n[19]=e("label",{class:"form-control-label"},"Allowed Input Methods",-1)),e("div",Cu,[e("div",Su,[e("input",{type:"checkbox",class:"form-check-input",id:"method-upload",checked:t.config.allowUpload!==!1,onChange:n[2]||(n[2]=d=>r("allowUpload",d.target.checked))},null,40,Tu),n[15]||(n[15]=e("label",{class:"form-check-label",for:"method-upload"},[e("strong",null,"Upload"),A(" - Direct file upload from computer ")],-1))]),e("div",Du,[e("input",{type:"checkbox",class:"form-check-input",id:"method-import",checked:t.config.allowUrlImport===!0,onChange:n[3]||(n[3]=d=>r("allowUrlImport",d.target.checked))},null,40,Iu),n[16]||(n[16]=e("label",{class:"form-check-label",for:"method-import"},[e("strong",null,"Import from URL"),A(" - Download file from URL and store locally ")],-1))]),e("div",Eu,[e("input",{type:"checkbox",class:"form-check-input",id:"method-link",checked:t.config.allowUrlLink===!0,onChange:n[4]||(n[4]=d=>r("allowUrlLink",d.target.checked))},null,40,Mu),n[17]||(n[17]=e("label",{class:"form-check-label",for:"method-link"},[e("strong",null,"External Link"),A(" - Reference URL without downloading ")],-1))]),e("div",Ru,[e("input",{type:"checkbox",class:"form-check-input",id:"method-attachment",checked:t.config.allowAttachment===!0,onChange:n[5]||(n[5]=d=>r("allowAttachment",d.target.checked))},null,40,Fu),n[18]||(n[18]=e("label",{class:"form-check-label",for:"method-attachment"},[e("strong",null,"PrestaShop Attachment"),A(" - Choose from product attachments ")],-1))])]),n[20]||(n[20]=e("small",{class:"form-text text-muted"}," Select which input methods are available to users. At least one must be enabled. ",-1))]),a.value?(g(),b("div",Au,[n[21]||(n[21]=e("label",{class:"form-control-label"},"Default Input Method",-1)),e("select",{class:"form-control",value:t.config.defaultInputMethod||"upload",onChange:n[6]||(n[6]=d=>r("defaultInputMethod",d.target.value))},[t.config.allowUpload!==!1?(g(),b("option",Lu,"Upload")):F("",!0),t.config.allowUrlImport?(g(),b("option",Vu,"Import from URL")):F("",!0),t.config.allowUrlLink?(g(),b("option",Ou,"External Link")):F("",!0)],40,Uu),n[22]||(n[22]=e("small",{class:"form-text text-muted"}," The default tab/option shown when editing a product. ",-1))])):F("",!0),n[29]||(n[29]=e("hr",{class:"my-3"},null,-1)),n[30]||(n[30]=e("h6",{class:"text-muted mb-3"},"File Metadata Options",-1)),e("div",Nu,[e("label",Pu,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableTitle===!0,onChange:n[7]||(n[7]=d=>r("enableTitle",d.target.checked))},null,40,Gu),n[23]||(n[23]=A(" Enable Title Field ",-1))]),n[24]||(n[24]=e("small",{class:"form-text text-muted"}," Allow users to add a custom title for the file. ",-1))]),e("div",Bu,[e("label",Hu,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableDescription===!0,onChange:n[8]||(n[8]=d=>r("enableDescription",d.target.checked))},null,40,ju),n[25]||(n[25]=A(" Enable Description Field ",-1))]),n[26]||(n[26]=e("small",{class:"form-text text-muted"}," Allow users to add a description for the file. ",-1))])]))}}),qu=he(zu,[["__scopeId","data-v-f11ac05b"]]),Yu={class:"image-field-config"},Wu={class:"form-group"},Xu={class:"acf-format-checkboxes"},Ju=["id","checked","onChange"],Qu=["for"],Zu={class:"row"},Ku={class:"col-md-6"},ec={class:"form-group"},tc=["value"],lc={class:"col-md-6"},oc={class:"form-group"},sc=["value"],nc={class:"form-group"},ac=["value"],ic={class:"form-group"},rc={class:"form-control-label d-flex align-items-center gap-2"},dc=["checked"],uc={class:"form-group"},cc={class:"acf-method-checkboxes"},fc={class:"form-check"},pc=["checked"],mc={class:"form-check"},vc=["checked"],gc={class:"form-check"},hc=["checked"],bc={class:"form-check"},yc=["checked"],_c={key:0,class:"form-group"},$c=["value"],wc={key:0,value:"upload"},xc={key:1,value:"import"},kc={key:2,value:"link"},Cc={class:"form-group"},Sc={class:"form-control-label d-flex align-items-center gap-2"},Tc=["checked"],Dc={class:"form-group"},Ic={class:"form-control-label d-flex align-items-center gap-2"},Ec=["checked"],Mc=le({__name:"ImageFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s;fe();const a=z(()=>{let u=0;return l.config.allowUpload!==!1&&u++,l.config.allowUrlImport&&u++,l.config.allowUrlLink&&u++,u>1}),i=[{value:"jpg",label:"JPEG"},{value:"png",label:"PNG"},{value:"gif",label:"GIF"},{value:"webp",label:"WebP"}];function r(u,n){o("update:config",{...l.config,[u]:n})}function c(u){const n=l.config.allowedFormats||["jpg","png","gif","webp"],d=n.indexOf(u);let h;d===-1?h=[...n,u]:h=n.filter(v=>v!==u),h.length===0&&(h=["jpg"]),r("allowedFormats",h)}function p(u){return(l.config.allowedFormats||["jpg","png","gif","webp"]).includes(u)}return(u,n)=>(g(),b("div",Yu,[e("div",Wu,[n[11]||(n[11]=e("label",{class:"form-control-label"},"Allowed Formats",-1)),e("div",Xu,[(g(),b(X,null,te(i,d=>e("div",{key:d.value,class:"form-check form-check-inline"},[e("input",{type:"checkbox",class:"form-check-input",id:"format-"+d.value,checked:p(d.value),onChange:h=>c(d.value)},null,40,Ju),e("label",{class:"form-check-label",for:"format-"+d.value},m(d.label),9,Qu)])),64))])]),e("div",Zu,[e("div",Ku,[e("div",ec,[n[12]||(n[12]=e("label",{class:"form-control-label"},"Max Width (px)",-1)),e("input",{type:"number",class:"form-control",min:"0",value:t.config.maxWidth||"",placeholder:"No limit",onInput:n[0]||(n[0]=d=>r("maxWidth",parseInt(d.target.value)||null))},null,40,tc),n[13]||(n[13]=e("small",{class:"form-text text-muted"}," Images larger will be resized. ",-1))])]),e("div",lc,[e("div",oc,[n[14]||(n[14]=e("label",{class:"form-control-label"},"Max Height (px)",-1)),e("input",{type:"number",class:"form-control",min:"0",value:t.config.maxHeight||"",placeholder:"No limit",onInput:n[1]||(n[1]=d=>r("maxHeight",parseInt(d.target.value)||null))},null,40,sc)])])]),e("div",nc,[n[15]||(n[15]=e("label",{class:"form-control-label"},"Max File Size (MB)",-1)),e("input",{type:"number",class:"form-control",min:"1",max:"20",value:t.config.maxSizeMB||5,onInput:n[2]||(n[2]=d=>r("maxSizeMB",parseInt(d.target.value)||5))},null,40,ac)]),e("div",ic,[e("label",rc,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.useFixedPath!==!1,onChange:n[3]||(n[3]=d=>r("useFixedPath",d.target.checked))},null,40,dc),n[16]||(n[16]=A(" Use Fixed File Path ",-1))]),n[17]||(n[17]=e("small",{class:"form-text text-muted"}," When enabled, images use a predictable path - better for caching. When disabled, images get unique names - avoids browser cache issues after delete/re-upload. ",-1))]),n[30]||(n[30]=e("hr",{class:"my-3"},null,-1)),n[31]||(n[31]=e("h6",{class:"text-muted mb-3"},"Input Methods",-1)),e("div",uc,[n[22]||(n[22]=e("label",{class:"form-control-label"},"Allowed Input Methods",-1)),e("div",cc,[e("div",fc,[e("input",{type:"checkbox",class:"form-check-input",id:"img-method-upload",checked:t.config.allowUpload!==!1,onChange:n[4]||(n[4]=d=>r("allowUpload",d.target.checked))},null,40,pc),n[18]||(n[18]=e("label",{class:"form-check-label",for:"img-method-upload"},[e("strong",null,"Upload"),A(" - Direct image upload from computer ")],-1))]),e("div",mc,[e("input",{type:"checkbox",class:"form-check-input",id:"img-method-import",checked:t.config.allowUrlImport===!0,onChange:n[5]||(n[5]=d=>r("allowUrlImport",d.target.checked))},null,40,vc),n[19]||(n[19]=e("label",{class:"form-check-label",for:"img-method-import"},[e("strong",null,"Import from URL"),A(" - Download image from URL and store locally ")],-1))]),e("div",gc,[e("input",{type:"checkbox",class:"form-check-input",id:"img-method-link",checked:t.config.allowUrlLink===!0,onChange:n[6]||(n[6]=d=>r("allowUrlLink",d.target.checked))},null,40,hc),n[20]||(n[20]=e("label",{class:"form-check-label",for:"img-method-link"},[e("strong",null,"External Link"),A(" - Reference URL without downloading ")],-1))]),e("div",bc,[e("input",{type:"checkbox",class:"form-check-input",id:"img-method-attachment",checked:t.config.allowAttachment===!0,onChange:n[7]||(n[7]=d=>r("allowAttachment",d.target.checked))},null,40,yc),n[21]||(n[21]=e("label",{class:"form-check-label",for:"img-method-attachment"},[e("strong",null,"PrestaShop Attachment"),A(" - Choose from product attachments ")],-1))])]),n[23]||(n[23]=e("small",{class:"form-text text-muted"}," Select which input methods are available to users. At least one must be enabled. ",-1))]),a.value?(g(),b("div",_c,[n[24]||(n[24]=e("label",{class:"form-control-label"},"Default Input Method",-1)),e("select",{class:"form-control",value:t.config.defaultInputMethod||"upload",onChange:n[8]||(n[8]=d=>r("defaultInputMethod",d.target.value))},[t.config.allowUpload!==!1?(g(),b("option",wc,"Upload")):F("",!0),t.config.allowUrlImport?(g(),b("option",xc,"Import from URL")):F("",!0),t.config.allowUrlLink?(g(),b("option",kc,"External Link")):F("",!0)],40,$c),n[25]||(n[25]=e("small",{class:"form-text text-muted"}," The default tab/option shown when editing a product. ",-1))])):F("",!0),n[32]||(n[32]=e("hr",{class:"my-3"},null,-1)),n[33]||(n[33]=e("h6",{class:"text-muted mb-3"},"Image Metadata Options",-1)),e("div",Cc,[e("label",Sc,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableTitle===!0,onChange:n[9]||(n[9]=d=>r("enableTitle",d.target.checked))},null,40,Tc),n[26]||(n[26]=A(" Enable Title Field ",-1))]),n[27]||(n[27]=e("small",{class:"form-text text-muted"}," Allow users to add a custom title (alt text) for the image. ",-1))]),e("div",Dc,[e("label",Ic,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableDescription===!0,onChange:n[10]||(n[10]=d=>r("enableDescription",d.target.checked))},null,40,Ec),n[28]||(n[28]=A(" Enable Description Field ",-1))]),n[29]||(n[29]=e("small",{class:"form-text text-muted"}," Allow users to add a caption/description for the image. ",-1))])]))}}),Rc={class:"video-field-config"},Fc={class:"form-group"},Ac={class:"acf-source-checkboxes"},Uc={class:"form-check"},Lc=["checked"],Vc={class:"form-check"},Oc=["checked"],Nc={class:"form-check"},Pc=["checked"],Gc={class:"form-check"},Bc=["checked"],Hc={key:0,class:"form-group"},jc=["value"],zc={class:"form-group"},qc={class:"form-control-label d-flex align-items-center gap-2"},Yc=["checked"],Wc={class:"form-group"},Xc={class:"form-control-label d-flex align-items-center gap-2"},Jc=["checked"],Qc={class:"form-group"},Zc={class:"form-control-label d-flex align-items-center gap-2"},Kc=["checked"],ef=le({__name:"VideoFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s;function a(i,r){o("update:config",{...l.config,[i]:r})}return z(()=>{let i=0;return l.config.allowYouTube!==!1&&i++,l.config.allowVimeo!==!1&&i++,l.config.allowUpload!==!1&&i++,l.config.allowUrl!==!1&&i++,i}),(i,r)=>(g(),b("div",Rc,[r[21]||(r[21]=e("h6",{class:"text-muted mb-3"},"Video Sources",-1)),e("div",Fc,[e("div",Ac,[e("div",Uc,[e("input",{type:"checkbox",class:"form-check-input",id:"video-youtube",checked:t.config.allowYouTube!==!1,onChange:r[0]||(r[0]=c=>a("allowYouTube",c.target.checked))},null,40,Lc),r[8]||(r[8]=e("label",{class:"form-check-label",for:"video-youtube"},[e("strong",null,"YouTube"),A(" - YouTube video URLs ")],-1))]),e("div",Vc,[e("input",{type:"checkbox",class:"form-check-input",id:"video-vimeo",checked:t.config.allowVimeo!==!1,onChange:r[1]||(r[1]=c=>a("allowVimeo",c.target.checked))},null,40,Oc),r[9]||(r[9]=e("label",{class:"form-check-label",for:"video-vimeo"},[e("strong",null,"Vimeo"),A(" - Vimeo video URLs ")],-1))]),e("div",Nc,[e("input",{type:"checkbox",class:"form-check-input",id:"video-upload",checked:t.config.allowUpload!==!1,onChange:r[2]||(r[2]=c=>a("allowUpload",c.target.checked))},null,40,Pc),r[10]||(r[10]=e("label",{class:"form-check-label",for:"video-upload"},[e("strong",null,"Upload"),A(" - Direct video file upload (MP4, WebM, OGG) ")],-1))]),e("div",Gc,[e("input",{type:"checkbox",class:"form-check-input",id:"video-url",checked:t.config.allowUrl!==!1,onChange:r[3]||(r[3]=c=>a("allowUrl",c.target.checked))},null,40,Bc),r[11]||(r[11]=e("label",{class:"form-check-label",for:"video-url"},[e("strong",null,"Video URL"),A(" - Direct link to video file ")],-1))])]),r[12]||(r[12]=e("small",{class:"form-text text-muted"}," Select which video sources are allowed. At least one must be enabled. ",-1))]),t.config.allowUpload!==!1?(g(),b("div",Hc,[r[13]||(r[13]=e("label",{class:"form-control-label"},"Max File Size (MB)",-1)),e("input",{type:"number",class:"form-control",min:"1",max:"500",value:t.config.maxSizeMB||100,onInput:r[4]||(r[4]=c=>a("maxSizeMB",parseInt(c.target.value)||100))},null,40,jc),r[14]||(r[14]=e("small",{class:"form-text text-muted"}," Maximum file size for uploaded videos. ",-1))])):F("",!0),r[22]||(r[22]=e("hr",{class:"my-3"},null,-1)),r[23]||(r[23]=e("h6",{class:"text-muted mb-3"},"Video Metadata",-1)),e("div",zc,[e("label",qc,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableTitle===!0,onChange:r[5]||(r[5]=c=>a("enableTitle",c.target.checked))},null,40,Yc),r[15]||(r[15]=A(" Enable Title Field ",-1))]),r[16]||(r[16]=e("small",{class:"form-text text-muted"}," Allow users to add a custom title for the video. ",-1))]),e("div",Wc,[e("label",Xc,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableDescription===!0,onChange:r[6]||(r[6]=c=>a("enableDescription",c.target.checked))},null,40,Jc),r[17]||(r[17]=A(" Enable Description Field ",-1))]),r[18]||(r[18]=e("small",{class:"form-text text-muted"}," Allow users to add a description for the video. ",-1))]),r[24]||(r[24]=e("hr",{class:"my-3"},null,-1)),r[25]||(r[25]=e("h6",{class:"text-muted mb-3"},"Display Options",-1)),e("div",Qc,[e("label",Zc,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.coverPoster===!0,onChange:r[7]||(r[7]=c=>a("coverPoster",c.target.checked))},null,40,Kc),r[19]||(r[19]=A(" Cover Poster ",-1))]),r[20]||(r[20]=e("small",{class:"form-text text-muted"}," Use object-fit: cover for poster image (fills the video area, may crop edges). ",-1))])]))}}),tf={class:"gallery-field-config"},lf={class:"form-group"},of={class:"acf-format-checkboxes"},sf=["id","checked","onChange"],nf=["for"],af={class:"form-group"},rf=["value"],df={class:"row"},uf={class:"col-md-6"},cf={class:"form-group"},ff=["value"],pf={class:"col-md-6"},mf={class:"form-group"},vf=["value"],gf={class:"form-group"},hf={class:"form-control-label d-flex align-items-center gap-2"},bf=["checked"],yf={class:"form-group"},_f={class:"form-control-label d-flex align-items-center gap-2"},$f=["checked"],wf=le({__name:"GalleryFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,a=[{value:"jpg",label:"JPEG"},{value:"png",label:"PNG"},{value:"gif",label:"GIF"},{value:"webp",label:"WebP"}];function i(p,u){o("update:config",{...l.config,[p]:u})}function r(p){const u=l.config.allowedFormats||["jpg","png","gif","webp"],n=u.indexOf(p);let d;n===-1?d=[...u,p]:d=u.filter(h=>h!==p),d.length===0&&(d=["jpg"]),i("allowedFormats",d)}function c(p){return(l.config.allowedFormats||["jpg","png","gif","webp"]).includes(p)}return(p,u)=>(g(),b("div",tf,[e("div",lf,[u[5]||(u[5]=e("label",{class:"form-control-label"},"Allowed Formats",-1)),e("div",of,[(g(),b(X,null,te(a,n=>e("div",{key:n.value,class:"form-check form-check-inline"},[e("input",{type:"checkbox",class:"form-check-input",id:"gallery-format-"+n.value,checked:c(n.value),onChange:d=>r(n.value)},null,40,sf),e("label",{class:"form-check-label",for:"gallery-format-"+n.value},m(n.label),9,nf)])),64))])]),e("div",af,[u[6]||(u[6]=e("label",{class:"form-control-label"},"Max File Size (MB)",-1)),e("input",{type:"number",class:"form-control",min:"1",max:"20",value:t.config.maxSizeMB||5,onInput:u[0]||(u[0]=n=>i("maxSizeMB",parseInt(n.target.value)||5))},null,40,rf)]),e("div",df,[e("div",uf,[e("div",cf,[u[7]||(u[7]=e("label",{class:"form-control-label"},"Minimum Images",-1)),e("input",{type:"number",class:"form-control",min:"0",value:t.config.minItems||"",placeholder:"No minimum",onInput:u[1]||(u[1]=n=>i("minItems",parseInt(n.target.value)||null))},null,40,ff)])]),e("div",pf,[e("div",mf,[u[8]||(u[8]=e("label",{class:"form-control-label"},"Maximum Images",-1)),e("input",{type:"number",class:"form-control",min:"1",value:t.config.maxItems||"",placeholder:"No limit",onInput:u[2]||(u[2]=n=>i("maxItems",parseInt(n.target.value)||null))},null,40,vf)])])]),u[13]||(u[13]=e("hr",{class:"my-3"},null,-1)),u[14]||(u[14]=e("h6",{class:"text-muted mb-3"},"Image Metadata",-1)),e("div",gf,[e("label",hf,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableTitle!==!1,onChange:u[3]||(u[3]=n=>i("enableTitle",n.target.checked))},null,40,bf),u[9]||(u[9]=A(" Enable Title Field ",-1))]),u[10]||(u[10]=e("small",{class:"form-text text-muted"}," Allow users to add a custom title (alt text) for each image. ",-1))]),e("div",yf,[e("label",_f,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableDescription===!0,onChange:u[4]||(u[4]=n=>i("enableDescription",n.target.checked))},null,40,$f),u[11]||(u[11]=A(" Enable Description Field ",-1))]),u[12]||(u[12]=e("small",{class:"form-text text-muted"}," Allow users to add a caption/description for each image. ",-1))])]))}}),xf={class:"files-field-config"},kf={class:"form-group"},Cf={class:"acf-mime-checkboxes"},Sf=["id","checked","onChange"],Tf=["for"],Df={class:"form-group"},If=["value"],Ef={class:"row"},Mf={class:"col-md-6"},Rf={class:"form-group"},Ff=["value"],Af={class:"col-md-6"},Uf={class:"form-group"},Lf=["value"],Vf={class:"form-group"},Of={class:"form-control-label d-flex align-items-center gap-2"},Nf=["checked"],Pf={class:"form-group"},Gf={class:"form-control-label d-flex align-items-center gap-2"},Bf=["checked"],Hf=le({__name:"FilesFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,a=[{value:"application/pdf",label:"PDF"},{value:"application/msword",label:"Word (.doc)"},{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"Word (.docx)"},{value:"application/vnd.ms-excel",label:"Excel (.xls)"},{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"Excel (.xlsx)"},{value:"text/plain",label:"Text (.txt)"},{value:"text/csv",label:"CSV"},{value:"application/zip",label:"ZIP"}],i=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/csv","application/zip"];function r(u,n){o("update:config",{...l.config,[u]:n})}function c(u){const n=l.config.allowedMimes||i,d=n.indexOf(u);let h;d===-1?h=[...n,u]:h=n.filter(v=>v!==u),h.length===0&&(h=["application/pdf"]),r("allowedMimes",h)}function p(u){return(l.config.allowedMimes||i).includes(u)}return(u,n)=>(g(),b("div",xf,[e("div",kf,[n[5]||(n[5]=e("label",{class:"form-control-label"},"Allowed File Types",-1)),e("div",Cf,[(g(),b(X,null,te(a,d=>e("div",{key:d.value,class:"form-check"},[e("input",{type:"checkbox",class:"form-check-input",id:"files-mime-"+d.value.replace(/[^a-z]/gi,""),checked:p(d.value),onChange:h=>c(d.value)},null,40,Sf),e("label",{class:"form-check-label",for:"files-mime-"+d.value.replace(/[^a-z]/gi,"")},m(d.label),9,Tf)])),64))])]),e("div",Df,[n[6]||(n[6]=e("label",{class:"form-control-label"},"Max File Size (MB)",-1)),e("input",{type:"number",class:"form-control",min:"1",max:"50",value:t.config.maxSizeMB||10,onInput:n[0]||(n[0]=d=>r("maxSizeMB",parseInt(d.target.value)||10))},null,40,If)]),e("div",Ef,[e("div",Mf,[e("div",Rf,[n[7]||(n[7]=e("label",{class:"form-control-label"},"Minimum Files",-1)),e("input",{type:"number",class:"form-control",min:"0",value:t.config.minItems||"",placeholder:"No minimum",onInput:n[1]||(n[1]=d=>r("minItems",parseInt(d.target.value)||null))},null,40,Ff)])]),e("div",Af,[e("div",Uf,[n[8]||(n[8]=e("label",{class:"form-control-label"},"Maximum Files",-1)),e("input",{type:"number",class:"form-control",min:"1",value:t.config.maxItems||"",placeholder:"No limit",onInput:n[2]||(n[2]=d=>r("maxItems",parseInt(d.target.value)||null))},null,40,Lf)])])]),n[13]||(n[13]=e("hr",{class:"my-3"},null,-1)),n[14]||(n[14]=e("h6",{class:"text-muted mb-3"},"File Metadata",-1)),e("div",Vf,[e("label",Of,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableTitle!==!1,onChange:n[3]||(n[3]=d=>r("enableTitle",d.target.checked))},null,40,Nf),n[9]||(n[9]=A(" Enable Title Field ",-1))]),n[10]||(n[10]=e("small",{class:"form-text text-muted"}," Allow users to add a custom title for each file. ",-1))]),e("div",Pf,[e("label",Gf,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.enableDescription!==!1,onChange:n[4]||(n[4]=d=>r("enableDescription",d.target.checked))},null,40,Bf),n[11]||(n[11]=A(" Enable Description Field ",-1))]),n[12]||(n[12]=e("small",{class:"form-text text-muted"}," Allow users to add a description for each file. ",-1))])]))}}),jf={class:"relation-field-config"},zf={class:"form-group"},qf={class:"form-control-label"},Yf=["value"],Wf={class:"form-group"},Xf={class:"form-control-label"},Jf={class:"form-group"},Qf={class:"form-control-label"},Zf=["value"],Kf={key:0,class:"form-row"},ep={class:"form-group col-6"},tp={class:"form-control-label"},lp=["value"],op={class:"form-group col-6"},sp={class:"form-control-label"},np=["value"],ap={class:"form-text text-muted"},ip={class:"form-group"},rp={class:"form-control-label"},dp={key:1,class:"form-group"},up={class:"form-control-label"},cp={key:2,class:"form-group"},fp={class:"form-control-label"},pp={key:3,class:"form-group"},mp={class:"form-control-label"},vp=["value"],gp=le({__name:"RelationFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){var h,v,_;const l=t,o=s,{t:a}=fe(),{updateConfig:i,createBooleanRef:r}=Fe(l,o),c=r("multiple"),p=R(((h=l.config.filters)==null?void 0:h.active)!==!1),u=R(((v=l.config.filters)==null?void 0:v.in_stock)===!0),n=R(((_=l.config.filters)==null?void 0:_.exclude_current)!==!1);ee(()=>{var w;return(w=l.config.filters)==null?void 0:w.active},w=>{p.value=w!==!1}),ee(()=>{var w;return(w=l.config.filters)==null?void 0:w.in_stock},w=>{u.value=w===!0}),ee(()=>{var w;return(w=l.config.filters)==null?void 0:w.exclude_current},w=>{n.value=w!==!1}),ee(p,w=>d("active",!!w)),ee(u,w=>d("in_stock",!!w)),ee(n,w=>d("exclude_current",!!w));function d(w,$){const I={...l.config.filters||{},[w]:$};o("update:config",{...l.config,filters:I})}return(w,$)=>{var I;return g(),b("div",jf,[e("div",zf,[e("label",qf,m(f(a)("entityType")||"Entity Type")+" *",1),e("select",{class:"form-control",value:t.config.entityType||"product",onChange:$[0]||($[0]=D=>f(i)("entityType",D.target.value))},[...$[9]||($[9]=[e("option",{value:"product"},"Product",-1),e("option",{value:"category"},"Category",-1)])],40,Yf),$[10]||($[10]=e("small",{class:"form-text text-muted"}," Select the type of entity to relate to. ",-1))]),e("div",Wf,[e("label",Xf,m(f(a)("allowMultiple")||"Allow Multiple"),1),_e(Ve,{modelValue:f(c),"onUpdate:modelValue":$[1]||($[1]=D=>ae(c)?c.value=D:null),id:"relation-multiple"},null,8,["modelValue"]),$[11]||($[11]=e("small",{class:"form-text text-muted"}," Allow selecting multiple items. ",-1))]),e("div",Jf,[e("label",Qf,m(f(a)("displayFormat")||"Display Format"),1),e("select",{class:"form-control",value:t.config.displayFormat||"name",onChange:$[2]||($[2]=D=>f(i)("displayFormat",D.target.value))},[...$[12]||($[12]=[e("option",{value:"name"},"Name only",-1),e("option",{value:"name_reference"},"Name + Reference",-1),e("option",{value:"thumbnail_name"},"Thumbnail + Name",-1)])],40,Zf),$[13]||($[13]=e("small",{class:"form-text text-muted"}," How to display selected items in the back-office. ",-1))]),t.config.multiple?(g(),b("div",Kf,[e("div",ep,[e("label",tp,m(f(a)("minItems")||"Minimum items"),1),e("input",{type:"number",class:"form-control",min:"0",value:t.config.min||0,onInput:$[3]||($[3]=D=>f(i)("min",parseInt(D.target.value)||0))},null,40,lp)]),e("div",op,[e("label",sp,m(f(a)("maxItems")||"Maximum items"),1),e("input",{type:"number",class:"form-control",min:"0",value:t.config.max||"",onInput:$[4]||($[4]=D=>f(i)("max",parseInt(D.target.value)||null))},null,40,np),e("small",ap,m(f(a)("Leave empty for unlimited.")),1)])])):F("",!0),$[18]||($[18]=e("hr",null,null,-1)),e("h5",null,m(f(a)("filters")||"Filters"),1),e("div",ip,[e("label",rp,m(f(a)("activeOnly")||"Active only"),1),_e(Ve,{modelValue:p.value,"onUpdate:modelValue":$[5]||($[5]=D=>p.value=D),id:"filter-active"},null,8,["modelValue"]),$[14]||($[14]=e("small",{class:"form-text text-muted"}," Only show active products/categories. ",-1))]),t.config.entityType==="product"?(g(),b("div",dp,[e("label",up,m(f(a)("inStockOnly")||"In stock only"),1),_e(Ve,{modelValue:u.value,"onUpdate:modelValue":$[6]||($[6]=D=>u.value=D),id:"filter-stock"},null,8,["modelValue"]),$[15]||($[15]=e("small",{class:"form-text text-muted"}," Only show products with stock available. ",-1))])):F("",!0),t.config.entityType==="product"?(g(),b("div",cp,[e("label",fp,m(f(a)("excludeCurrent")||"Exclude current product"),1),_e(Ve,{modelValue:n.value,"onUpdate:modelValue":$[7]||($[7]=D=>n.value=D),id:"filter-exclude"},null,8,["modelValue"]),$[16]||($[16]=e("small",{class:"form-text text-muted"}," Don't show the current product in the search results. ",-1))])):F("",!0),t.config.entityType==="product"?(g(),b("div",pp,[e("label",mp,m(f(a)("limitCategories")||"Limit to categories"),1),e("input",{type:"text",class:"form-control",placeholder:"e.g., 3, 5, 12",value:((I=t.config.filters)==null?void 0:I.categories)||"",onInput:$[8]||($[8]=D=>d("categories",D.target.value))},null,40,vp),$[17]||($[17]=e("small",{class:"form-text text-muted"}," Comma-separated category IDs. Leave empty for all categories. ",-1))])):F("",!0)])}}}),hp=he(gp,[["__scopeId","data-v-fb12f5ef"]]),bp={class:"list-field-config"},yp={class:"row"},_p={class:"col-md-6"},$p={class:"form-group"},wp=["value"],xp={class:"form-text text-muted"},kp={class:"col-md-6"},Cp={class:"form-group"},Sp=["value"],Tp={class:"form-text text-muted"},Dp={class:"form-group"},Ip={class:"form-control-label d-flex align-items-center gap-2"},Ep=["checked"],Mp={key:0,class:"form-group ms-4"},Rp=["value"],Fp=["value"],Ap={class:"form-group"},Up={class:"form-control-label d-flex align-items-center gap-2"},Lp=["checked"],Vp={class:"form-group"},Op=["value"],Np=le({__name:"ListFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,a=[{value:"material",label:"Material Icons"},{value:"fontawesome",label:"Font Awesome"},{value:"custom",label:"Custom (text input)"}];function i(r,c){o("update:config",{...l.config,[r]:c})}return(r,c)=>(g(),b("div",bp,[e("div",yp,[e("div",_p,[e("div",$p,[c[6]||(c[6]=e("label",{class:"form-control-label"},"Minimum Items",-1)),e("input",{type:"number",class:"form-control",min:"0",value:t.config.min||"",placeholder:"No minimum",onInput:c[0]||(c[0]=p=>i("min",parseInt(p.target.value)||0))},null,40,wp),e("small",xp,m(r.t("0 = no minimum")),1)])]),e("div",kp,[e("div",Cp,[c[7]||(c[7]=e("label",{class:"form-control-label"},"Maximum Items",-1)),e("input",{type:"number",class:"form-control",min:"0",value:t.config.max||"",placeholder:"Unlimited",onInput:c[1]||(c[1]=p=>i("max",parseInt(p.target.value)||0))},null,40,Sp),e("small",Tp,m(r.t("0 = unlimited")),1)])])]),c[14]||(c[14]=e("hr",{class:"my-3"},null,-1)),c[15]||(c[15]=e("h6",{class:"text-muted mb-3"},"Item Options",-1)),e("div",Dp,[e("label",Ip,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.showIcon===!0,onChange:c[2]||(c[2]=p=>i("showIcon",p.target.checked))},null,40,Ep),c[8]||(c[8]=A(" Enable Icon Field ",-1))]),c[9]||(c[9]=e("small",{class:"form-text text-muted"}," Allow users to add an icon for each item. ",-1))]),t.config.showIcon?(g(),b("div",Mp,[c[10]||(c[10]=e("label",{class:"form-control-label"},"Icon Set",-1)),e("select",{class:"form-control",value:t.config.iconSet||"material",onChange:c[3]||(c[3]=p=>i("iconSet",p.target.value))},[(g(),b(X,null,te(a,p=>e("option",{key:p.value,value:p.value},m(p.label),9,Fp)),64))],40,Rp)])):F("",!0),e("div",Ap,[e("label",Up,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.showLink===!0,onChange:c[4]||(c[4]=p=>i("showLink",p.target.checked))},null,40,Lp),c[11]||(c[11]=A(" Enable Link Field ",-1))]),c[12]||(c[12]=e("small",{class:"form-text text-muted"}," Allow users to add a URL link for each item. ",-1))]),c[16]||(c[16]=e("hr",{class:"my-3"},null,-1)),e("div",Vp,[c[13]||(c[13]=e("label",{class:"form-control-label"},"Placeholder Text",-1)),e("input",{type:"text",class:"form-control",value:t.config.placeholder||"",placeholder:"e.g., Enter a feature...",onInput:c[5]||(c[5]=p=>i("placeholder",p.target.value))},null,40,Op)])]))}}),Pp={class:"repeater-field-config"},Gp={class:"row"},Bp={class:"col-md-6"},Hp={class:"form-group"},jp=["value"],zp={class:"form-text text-muted"},qp={class:"col-md-6"},Yp={class:"form-group"},Wp=["value"],Xp={class:"form-text text-muted"},Jp={class:"form-group"},Qp=["value"],Zp=["value"],Kp={class:"form-group"},em={class:"form-control-label d-flex align-items-center gap-2"},tm=["checked"],lm={class:"form-group"},om=["value"],sm={class:"form-group"},nm=["value"],am=le({__name:"RepeaterFieldConfig",props:{config:{}},emits:["update:config"],setup(t,{emit:s}){const l=t,o=s,a=[{value:"table",label:"Table (rows)"},{value:"cards",label:"Cards"}];function i(r,c){o("update:config",{...l.config,[r]:c})}return(r,c)=>(g(),b("div",Pp,[c[15]||(c[15]=e("div",{class:"alert alert-info mb-3"},[e("strong",null,"Repeater Field"),e("br"),A(' Add subfields to this repeater using the "Add Subfield" button below after saving. Subfields will be repeated for each row. ')],-1)),e("div",Gp,[e("div",Bp,[e("div",Hp,[c[6]||(c[6]=e("label",{class:"form-control-label"},"Minimum Rows",-1)),e("input",{type:"number",class:"form-control",min:"0",value:t.config.min||"",placeholder:"No minimum",onInput:c[0]||(c[0]=p=>i("min",parseInt(p.target.value)||0))},null,40,jp),e("small",zp,m(r.t("0 = no minimum")),1)])]),e("div",qp,[e("div",Yp,[c[7]||(c[7]=e("label",{class:"form-control-label"},"Maximum Rows",-1)),e("input",{type:"number",class:"form-control",min:"0",value:t.config.max||"",placeholder:"Unlimited",onInput:c[1]||(c[1]=p=>i("max",parseInt(p.target.value)||0))},null,40,Wp),e("small",Xp,m(r.t("0 = unlimited")),1)])])]),c[16]||(c[16]=e("hr",{class:"my-3"},null,-1)),c[17]||(c[17]=e("h6",{class:"text-muted mb-3"},"Display Options",-1)),e("div",Jp,[c[8]||(c[8]=e("label",{class:"form-control-label"},"Display Mode",-1)),e("select",{class:"form-control",value:t.config.displayMode||"table",onChange:c[2]||(c[2]=p=>i("displayMode",p.target.value))},[(g(),b(X,null,te(a,p=>e("option",{key:p.value,value:p.value},m(p.label),9,Zp)),64))],40,Qp),c[9]||(c[9]=e("small",{class:"form-text text-muted"}," Table: fields in columns like a spreadsheet. Cards: each row as a separate card. ",-1))]),e("div",Kp,[e("label",em,[e("input",{type:"checkbox",class:"form-check-input",checked:t.config.collapsed===!0,onChange:c[3]||(c[3]=p=>i("collapsed",p.target.checked))},null,40,tm),c[10]||(c[10]=A(" Collapsed by Default ",-1))]),c[11]||(c[11]=e("small",{class:"form-text text-muted"}," New rows will be collapsed when added (cards mode only). ",-1))]),e("div",lm,[c[12]||(c[12]=e("label",{class:"form-control-label"},"Row Title Template",-1)),e("input",{type:"text",class:"form-control",value:t.config.rowTitle||"",placeholder:"Row {#}",onInput:c[4]||(c[4]=p=>i("rowTitle",p.target.value))},null,40,om),c[13]||(c[13]=e("small",{class:"form-text text-muted"},[A(" Use "),e("code",null,"{`{#}`}"),A(" for row number or "),e("code",null,"{`{field_slug}`}"),A(" to display a field value."),e("br"),A(" Example: "),e("code",null,"{`{title}`}"),A(' will show the value of the "title" subfield. ')],-1))]),e("div",sm,[c[14]||(c[14]=e("label",{class:"form-control-label"},"Add Button Label",-1)),e("input",{type:"text",class:"form-control",value:t.config.buttonLabel||"Add Row",placeholder:"Add Row",onInput:c[5]||(c[5]=p=>i("buttonLabel",p.target.value))},null,40,nm)])]))}}),im={class:"acfps-field-configurator"},rm={key:0,class:"acfps-empty-state"},dm={key:0,class:"acfps-save-field-bar"},um=["disabled"],cm={key:0},fm={key:1},pm={class:"text-muted ml-2"},mm={class:"acfps-config-tabs"},vm={class:"config-content"},gm={class:"acfps-form-section"},hm={class:"form-group"},bm={class:"form-control-label"},ym={class:"form-text text-muted"},_m={class:"acfps-form-section"},$m={class:"acf-lang-tabs mb-3"},wm=["onClick"],xm={key:0,class:"badge badge-primary badge-sm ml-1"},km={class:"form-group"},Cm={class:"form-control-label"},Sm=["onUpdate:modelValue","onInput"],Tm={key:1,class:"form-text text-muted"},Dm={class:"form-group"},Im={class:"form-control-label"},Em=["onUpdate:modelValue","onInput"],Mm={class:"form-group mt-3"},Rm={class:"form-control-label"},Fm=["title"],Am={class:"input-group"},Um=["disabled","readonly"],Lm={key:0,class:"input-group-append"},Vm={class:"input-group-text bg-secondary text-white"},Om={key:0},Nm={key:1},Pm={key:2},Gm={key:0,class:"alert alert-warning mt-2 py-2 px-3",style:{"font-size":"0.875rem"}},Bm={class:"d-flex align-items-center"},Hm={key:0,class:"acfps-form-section"},jm={key:1,class:"acfps-form-section"},zm={class:"form-group"},qm={class:"form-control-label"},Ym={class:"form-row"},Wm={class:"form-group col-6"},Xm={class:"form-control-label"},Jm={class:"form-group col-6"},Qm={class:"form-control-label"},Zm={class:"form-group"},Km={class:"form-control-label"},ev={key:1,class:"form-row"},tv={class:"form-group col-6"},lv={class:"form-control-label"},ov={class:"form-group col-6"},sv={class:"form-control-label"},nv={class:"form-group"},av={class:"form-control-label"},iv=["placeholder"],rv={key:2,class:"acfps-form-section"},dv={class:"form-group"},uv={class:"form-control-label"},cv={class:"form-text text-muted"},fv={class:"form-group"},pv={class:"form-control-label"},mv={class:"form-text text-muted"},vv={key:0,class:"form-text text-warning"},gv={class:"form-group"},hv={class:"form-control-label"},bv={class:"form-text text-muted"},yv={class:"form-group"},_v={class:"form-control-label"},$v={class:"form-text text-muted"},wv=le({__name:"FieldConfigurator",setup(t){const s=He(),{t:l}=fe(),o=mt(),a=R("general"),i=R(null),r=R(!1),c=R(""),p=R("en"),u=z(()=>{var y;return((y=window.acfConfig)==null?void 0:y.languages)||[]}),n=z(()=>u.value.find(y=>y.is_default)||u.value[0]);ee(()=>s.selectedField,y=>{if(!(y&&i.value&&y.uuid===i.value.uuid))if(y){const k=JSON.parse(JSON.stringify(y));k.wrapper={width:"100",...k.wrapper},k.validation=k.validation&&typeof k.validation=="object"&&!Array.isArray(k.validation)?k.validation:{},k.config=k.config||{},k.foOptions=k.foOptions&&typeof k.foOptions=="object"&&!Array.isArray(k.foOptions)?k.foOptions:{},k.foOptions.showTitle===void 0&&(k.foOptions.showTitle=!0),(!k.translations||Array.isArray(k.translations)||typeof k.translations!="object")&&(k.translations={}),u.value.forEach(B=>{k.translations[B.code]||(k.translations[B.code]={title:k.title||"",instructions:k.instructions||""})}),i.value=k,n.value&&(p.value=n.value.code),r.value=!1,c.value="",y.title&&!y.slug&&Ze(async()=>{try{const B=await o.slugify(y.title),oe=v(B,y.uuid);i.value&&!r.value&&(i.value.slug=oe,c.value=oe,D())}catch(B){console.error("Error auto-generating slug for existing field:",B)}}),y.id||Ze(()=>{const B=document.querySelector(".field-title-input");B&&(B.focus(),B.select())})}else i.value=null,r.value=!1,c.value=""},{immediate:!0});const d=R(null),h=R(!1);function v(y,k){var ie,Oe,Ne;const B=((Ne=(Oe=(ie=s.currentGroup.value)==null?void 0:ie.fields)==null?void 0:Oe.filter($e=>$e.uuid!==k&&$e.slug))==null?void 0:Ne.map($e=>$e.slug))||[];if(!B.includes(y))return y;const oe=B.filter($e=>$e.startsWith(`${y}_`)).map($e=>parseInt($e.split("_").pop()||"0",10)).filter($e=>!isNaN($e)),P=oe.length>0?Math.max(...oe)+1:2;return`${y}_${P}`}function _(){i.value&&(r.value||(d.value&&clearTimeout(d.value),h.value=!0,d.value=window.setTimeout(async()=>{if(!i.value){h.value=!1;return}if(r.value){h.value=!1;return}if(i.value.title)try{const y=await o.slugify(i.value.title),k=v(y,i.value.uuid);!r.value&&i.value&&(i.value.slug=k,c.value=k,D())}catch(y){console.error("Error generating slug:",y)}h.value=!1},150)))}function w(y){if(!i.value||!i.value.translations)return;const k=n.value;k&&y===k.code&&i.value.translations[y]&&(i.value.title=i.value.translations[y].title,i.value.instructions=i.value.translations[y].instructions||""),D()}function $(){i.value&&(i.value.slug!==c.value&&(r.value=!0),D())}const I=R(null);function D(){i.value&&s.updateFieldLocal(i.value)}async function C(){i.value&&await s.saveField(i.value)}const E=z(()=>i.value?!!(!i.value.id&&i.value.title.trim()):!1),U=z(()=>{if(!i.value)return null;switch(i.value.type){case"text":return Ei;case"textarea":return Ni;case"number":return rr;case"email":return fr;case"url":return br;case"select":return jr;case"checkbox":return ld;case"radio":return hd;case"boolean":return Md;case"date":return Od;case"time":return zd;case"datetime":return Zd;case"color":return iu;case"richtext":return pu;case"file":return qu;case"image":return Mc;case"video":return ef;case"gallery":return wf;case"files":return Hf;case"relation":return hp;case"list":return Np;case"repeater":return am;default:return null}}),O=z({get:()=>{var y;return(y=i.value)!=null&&y.validation?!!i.value.validation.required:!1},set:y=>{i.value&&(i.value.validation||(i.value.validation={}),i.value.validation.required=y,D())}}),L=z(()=>i.value?i.value.id?!0:!r.value:!0),S=z(()=>{var y;return!!((y=i.value)!=null&&y.id)}),x=z({get:()=>i.value?!!i.value.value_translatable||!!i.value.translatable:!1,set:y=>{i.value&&(i.value.value_translatable=y,i.value.translatable=y,D())}}),M=z(()=>{var y;return(y=i.value)!=null&&y.type?s.fieldTypes.find(k=>k.type===i.value.type):null});function T(){r.value||(r.value=!0)}return ee(()=>{var y,k;return(k=(y=i.value)==null?void 0:y.validation)==null?void 0:k.minLength},y=>{y!==void 0&&D()}),ee(()=>{var y,k;return(k=(y=i.value)==null?void 0:y.validation)==null?void 0:k.maxLength},y=>{y!==void 0&&D()}),ee(()=>{var y,k;return(k=(y=i.value)==null?void 0:y.validation)==null?void 0:k.pattern},y=>{y!==void 0&&D()}),ee(()=>{var y,k;return(k=(y=i.value)==null?void 0:y.validation)==null?void 0:k.min},y=>{y!==void 0&&D()}),ee(()=>{var y,k;return(k=(y=i.value)==null?void 0:y.validation)==null?void 0:k.max},y=>{y!==void 0&&D()}),ee(()=>{var y,k;return(k=(y=i.value)==null?void 0:y.validation)==null?void 0:k.message},y=>{y!==void 0&&D()}),ee(()=>{var y;return(y=i.value)==null?void 0:y.type},y=>{if(!y||!i.value)return;const k=s.fieldTypes.find(B=>B.type===y);k&&!k.supportsTranslation&&(i.value.value_translatable=!1,i.value.translatable=!1,D())}),z(()=>{var y;return((y=window.acfConfig)==null?void 0:y.layoutOptions)||{widths:[],positions:[]}}),Io(()=>{d.value&&clearTimeout(d.value),I.value&&clearTimeout(I.value)}),(y,k)=>{var B,oe;return g(),b("div",im,[i.value?(g(),b(X,{key:1},[E.value?(g(),b("div",dm,[e("button",{class:"btn btn-primary btn-sm",disabled:f(s).saving,onClick:C},[f(s).saving?(g(),b("span",cm,m(f(l)("saving")),1)):(g(),b("span",fm,m(f(l)("save"))+" Field",1))],8,um),e("small",pm,m(f(l)("fieldNotSaved","This field hasn't been saved yet")),1)])):F("",!0),e("div",mm,[e("button",{class:ne(["acfps-config-tab",{active:a.value==="general"}]),onClick:k[0]||(k[0]=P=>a.value="general")},m(f(l)("general")),3),e("button",{class:ne(["acfps-config-tab",{active:a.value==="validation"}]),onClick:k[1]||(k[1]=P=>a.value="validation")},m(f(l)("validation")),3),e("button",{class:ne(["acfps-config-tab",{active:a.value==="presentation"}]),onClick:k[2]||(k[2]=P=>a.value="presentation")},m(f(l)("presentation","Presentation")),3)]),e("div",vm,[a.value==="general"?(g(),b(X,{key:0},[e("div",gm,[e("div",hm,[e("label",bm,m(f(l)("active")),1),_e(Ve,{modelValue:i.value.active,"onUpdate:modelValue":[k[3]||(k[3]=P=>i.value.active=P),D],id:"field-active"},null,8,["modelValue"]),e("small",ym,m(f(l)("enableDisableField","Enable or disable this field.")),1)])]),e("div",_m,[e("h4",null,m(f(l)("metadata","Field Metadata")),1),e("div",$m,[(g(!0),b(X,null,te(u.value,P=>(g(),b("button",{key:P.code,type:"button",class:ne(["acf-lang-tab",{active:p.value===P.code}]),onClick:ie=>p.value=P.code},[k[18]||(k[18]=e("span",{class:"flag-icon flag-icon-{{ lang.code }}"},null,-1)),A(" "+m(P.code.toUpperCase())+" ",1),P.is_default?(g(),b("span",xm,"Default")):F("",!0)],10,wm))),128))]),(g(!0),b(X,null,te(u.value,P=>G((g(),b("div",{key:P.code},[e("div",km,[e("label",Cm,m(f(l)("fieldTitle"))+" ("+m(P.code.toUpperCase())+") * ",1),i.value.translations&&i.value.translations[P.code]?G((g(),b("input",{key:0,"onUpdate:modelValue":ie=>i.value.translations[P.code].title=ie,type:"text",class:ne(["form-control field-title-input",{"font-weight-bold":P.is_default}]),onInput:()=>{w(P.code),P.is_default&&_()},onBlur:D},null,42,Sm)),[[q,i.value.translations[P.code].title]]):F("",!0),P.is_default?(g(),b("small",Tm,m(f(l)("defaultLanguageHelp","This is the default language. Title is also used as fallback.")),1)):F("",!0)]),e("div",Dm,[e("label",Im,m(f(l)("fieldInstructions"))+" ("+m(P.code.toUpperCase())+") ",1),i.value.translations&&i.value.translations[P.code]?G((g(),b("textarea",{key:0,"onUpdate:modelValue":ie=>i.value.translations[P.code].instructions=ie,class:"form-control",rows:"3",onInput:()=>{w(P.code)},onBlur:D},null,40,Em)),[[q,i.value.translations[P.code].instructions]]):F("",!0)])])),[[Eo,p.value===P.code]])),128)),e("div",Mm,[e("label",Rm,[A(m(f(l)("fieldSlug"))+" * ",1),S.value?(g(),b("i",{key:0,class:"material-icons text-warning ml-1",style:{"font-size":"16px","vertical-align":"middle"},title:f(l)("slugLockedTitle","Slug is locked because field is saved")}," lock ",8,Fm)):F("",!0)]),e("div",Am,[G(e("input",{"onUpdate:modelValue":k[4]||(k[4]=P=>i.value.slug=P),type:"text",class:ne(["form-control",{"bg-light":L.value||S.value,"text-muted":S.value,"border-secondary":S.value}]),pattern:"[a-z0-9_]+",disabled:S.value,readonly:L.value,onInput:$,onFocus:T},null,42,Um),[[q,i.value.slug]]),S.value?(g(),b("div",Lm,[e("span",Vm,[k[19]||(k[19]=e("i",{class:"material-icons",style:{"font-size":"14px"}},"lock",-1)),A(" "+m(f(l)("locked","Locked")),1)])])):F("",!0)]),e("small",{class:ne(["form-text",{"text-muted":!S.value,"text-warning":S.value}])},[S.value?(g(),b("span",Om,[k[20]||(k[20]=e("i",{class:"material-icons",style:{"font-size":"12px","vertical-align":"middle"}},"info",-1)),A(" "+m(f(l)("slugLockedExplanation","This slug cannot be changed because the field has been saved. Changing it could break existing code that references this field.")),1)])):L.value?(g(),b("span",Nm,m(f(l)("slugAutoGenerated","Auto-generated from title. Click to edit manually.")),1)):(g(),b("span",Pm,m(f(l)("slugFormatHelp","Use lowercase letters, numbers, and underscores only.")),1))],2),S.value?(g(),b("div",Gm,[e("div",Bm,[k[21]||(k[21]=e("i",{class:"material-icons text-warning mr-2",style:{"font-size":"18px"}},"warning",-1)),e("div",null,[e("strong",null,m(f(l)("important","Important:")),1),A(" "+m(f(l)("slugPersistenceNote","Once saved, the field slug becomes permanent to maintain data integrity.")),1)])])])):F("",!0)])]),U.value?(g(),b("div",Hm,[e("h4",null,m(f(l)("fieldType"))+": "+m(i.value.type),1),(g(),ke(Mo(U.value),{config:i.value.config,"onUpdate:config":[k[5]||(k[5]=P=>i.value.config=P),D]},null,40,["config"]))])):F("",!0)],64)):F("",!0),a.value==="validation"?(g(),b("div",jm,[e("div",zm,[e("label",qm,m(f(l)("required")),1),_e(Ve,{modelValue:O.value,"onUpdate:modelValue":k[6]||(k[6]=P=>O.value=P),id:"field-required"},null,8,["modelValue"])]),i.value.type==="text"?(g(),b(X,{key:0},[e("div",Ym,[e("div",Wm,[e("label",Xm,m(f(l)("minLength")),1),G(e("input",{"onUpdate:modelValue":k[7]||(k[7]=P=>i.value.validation.minLength=P),type:"number",class:"form-control",min:"0"},null,512),[[q,i.value.validation.minLength,void 0,{number:!0}]])]),e("div",Jm,[e("label",Qm,m(f(l)("maxLength")),1),G(e("input",{"onUpdate:modelValue":k[8]||(k[8]=P=>i.value.validation.maxLength=P),type:"number",class:"form-control",min:"0"},null,512),[[q,i.value.validation.maxLength,void 0,{number:!0}]])])]),e("div",Zm,[e("label",Km,m(f(l)("pattern")),1),G(e("input",{"onUpdate:modelValue":k[9]||(k[9]=P=>i.value.validation.pattern=P),type:"text",class:"form-control",placeholder:"^[A-Z].*$"},null,512),[[q,i.value.validation.pattern]])])],64)):F("",!0),i.value.type==="number"?(g(),b("div",ev,[e("div",tv,[e("label",lv,m(f(l)("minValue")),1),G(e("input",{"onUpdate:modelValue":k[10]||(k[10]=P=>i.value.validation.min=P),type:"number",class:"form-control"},null,512),[[q,i.value.validation.min,void 0,{number:!0}]])]),e("div",ov,[e("label",sv,m(f(l)("maxValue")),1),G(e("input",{"onUpdate:modelValue":k[11]||(k[11]=P=>i.value.validation.max=P),type:"number",class:"form-control"},null,512),[[q,i.value.validation.max,void 0,{number:!0}]])])])):F("",!0),e("div",nv,[e("label",av,m(f(l)("errorMessage")),1),G(e("input",{"onUpdate:modelValue":k[12]||(k[12]=P=>i.value.validation.message=P),type:"text",class:"form-control",placeholder:f(l)("errorMessage")},null,8,iv),[[q,i.value.validation.message]])])])):F("",!0),a.value==="presentation"?(g(),b("div",rv,[e("div",dv,[e("label",uv,m(f(l)("showTitle","Show field title")),1),_e(Ve,{modelValue:i.value.foOptions.showTitle,"onUpdate:modelValue":[k[13]||(k[13]=P=>i.value.foOptions.showTitle=P),D],id:"field-show-title"},null,8,["modelValue"]),e("small",cv,m(f(l)("showTitleHelp","Display the field title in front-office rendering.")),1)]),e("div",fv,[e("label",pv,m(f(l)("valueTranslatable","Value translatable")),1),_e(Ve,{modelValue:x.value,"onUpdate:modelValue":k[14]||(k[14]=P=>x.value=P),id:"field-value-translatable",disabled:!((B=M.value)!=null&&B.supportsTranslation)},null,8,["modelValue","disabled"]),e("small",mv,m(f(l)("valueTranslatableHelp","Enable to allow translation of field values for multi-language support.")),1),(oe=M.value)!=null&&oe.supportsTranslation?F("",!0):(g(),b("small",vv,m(f(l)("translationNotSupported","This field type does not support translation.")),1))]),e("div",gv,[e("label",hv,m(f(l)("customClass","Custom CSS Class")),1),G(e("input",{"onUpdate:modelValue":k[15]||(k[15]=P=>i.value.foOptions.customClass=P),type:"text",class:"form-control",placeholder:"my-custom-field-class",onInput:D},null,544),[[q,i.value.foOptions.customClass]]),e("small",bv,m(f(l)("customClassHelp","Add custom CSS classes to the field container for styling.")),1)]),e("div",yv,[e("label",_v,m(f(l)("customId","Custom HTML ID")),1),G(e("input",{"onUpdate:modelValue":k[16]||(k[16]=P=>i.value.foOptions.customId=P),type:"text",class:"form-control",placeholder:"my-custom-field-id",onInput:D},null,544),[[q,i.value.foOptions.customId]]),e("small",$v,m(f(l)("customIdHelp","Add a custom HTML ID to the field for JavaScript targeting.")),1)])])):F("",!0)])],64)):(g(),b("div",rm,[k[17]||(k[17]=e("span",{class:"material-icons"},"touch_app",-1)),e("p",null,m(f(l)("selectField")),1)]))])}}}),xv=he(wv,[["__scopeId","data-v-c29ac5a6"]]),kv={key:0,class:"acfps-group-settings"},Cv={class:"acfps-form-section"},Sv={class:"form-group"},Tv={class:"form-control-label"},Dv={class:"form-text text-muted"},Iv={class:"form-group"},Ev={class:"form-control-label"},Mv=["title"],Rv={class:"input-group"},Fv=["disabled"],Av={key:0,class:"input-group-append"},Uv={class:"input-group-text bg-secondary text-white"},Lv={key:0},Vv={key:1},Ov={class:"form-group"},Nv={class:"form-control-label"},Pv={class:"form-text text-muted"},Gv={class:"acfps-form-section"},Bv={class:"form-group"},Hv={class:"form-control-label"},jv={class:"form-text text-muted"},zv={class:"acfps-step-navigation"},qv=["disabled"],Yv={key:0},Wv={key:1},Xv={key:2,class:"material-icons"},Jv=le({__name:"GroupSettings",emits:["next-step"],setup(t,{emit:s}){const l=s,o=He(),{t:a}=fe(),i=mt();async function r(){!u.value&&p.value,l("next-step")}const c=z(()=>o.currentGroup),p=z(()=>{var h,v;return c.value&&((h=c.value.title)==null?void 0:h.trim())&&((v=c.value.slug)==null?void 0:v.trim())}),u=z(()=>c.value&&c.value.id!==void 0&&c.value.id!==null);async function n(){if(!(!c.value||!c.value.title))try{const h=await i.slugify(c.value.title);c.value&&(c.value.slug=h)}catch(h){console.error("Error generating slug:",h)}}function d(){c.value}return(h,v)=>c.value?(g(),b("div",kv,[e("div",Cv,[e("h4",null,m(f(a)("general")),1),e("div",Sv,[e("label",Tv,m(f(a)("groupTitle"))+" *",1),G(e("input",{"onUpdate:modelValue":v[0]||(v[0]=_=>c.value.title=_),type:"text",class:"form-control",onInput:n},null,544),[[q,c.value.title]]),e("small",Dv,m(f(a)("groupTitleHelp")),1)]),e("div",Iv,[e("label",Ev,[A(m(f(a)("groupSlug"))+" * ",1),u.value?(g(),b("i",{key:0,class:"material-icons text-warning ml-1",style:{"font-size":"16px","vertical-align":"middle"},title:f(a)("slugLockedTitle","Slug is locked because group is saved")}," lock ",8,Mv)):F("",!0)]),e("div",Rv,[G(e("input",{"onUpdate:modelValue":v[1]||(v[1]=_=>c.value.slug=_),type:"text",class:ne(["form-control",{"text-muted":u.value,"border-secondary":u.value}]),pattern:"[a-z0-9_\\-]+",disabled:!!u.value,onInput:d},null,42,Fv),[[q,c.value.slug]]),u.value?(g(),b("div",Av,[e("span",Uv,[v[4]||(v[4]=e("i",{class:"material-icons",style:{"font-size":"14px"}},"lock",-1)),A(" "+m(f(a)("locked","Locked")),1)])])):F("",!0)]),e("small",{class:ne(["form-text",{"text-muted":!u.value,"text-warning":u.value}])},[u.value?(g(),b("span",Lv,[v[5]||(v[5]=e("i",{class:"material-icons",style:{"font-size":"12px","vertical-align":"middle"}},"info",-1)),A(" "+m(f(a)("slugLockedExplanation","This slug cannot be changed because the group has been saved. Changing it could break existing code that references this group.")),1)])):(g(),b("span",Vv," Unique identifier used in templates: acf('"+m(c.value.slug||"slug")+"', 'field_name') ",1))],2)]),e("div",Ov,[e("label",Nv,m(f(a)("groupDescription")),1),G(e("textarea",{"onUpdate:modelValue":v[2]||(v[2]=_=>c.value.description=_),class:"form-control",rows:"3"},null,512),[[q,c.value.description]]),e("small",Pv,m(f(a)("groupDescriptionHelp")),1)])]),e("div",Gv,[e("h4",null,m(f(a)("options")),1),e("div",Bv,[e("label",Hv,m(f(a)("active")),1),_e(Ve,{modelValue:c.value.active,"onUpdate:modelValue":v[3]||(v[3]=_=>c.value.active=_),id:"group-active"},null,8,["modelValue"]),e("small",jv,m(f(a)("groupInactiveHelp")),1)])]),e("div",zv,[v[6]||(v[6]=e("div",null,null,-1)),e("button",{class:"btn btn-primary",disabled:!p.value||f(o).saving,onClick:r},[f(o).saving?(g(),b("span",Yv,m(f(a)("saving")),1)):(g(),b("span",Wv,"Next: "+m(f(a)("location")),1)),f(o).saving?F("",!0):(g(),b("span",Xv,"arrow_forward"))],8,qv)])])):F("",!0)}}),Qv=he(Jv,[["__scopeId","data-v-52532152"]]),Zv={class:"location-rules-editor"},Kv={class:"mb-4"},eg={class:"text-muted mb-4",style:{"font-size":"0.95rem","line-height":"1.5"}},tg={key:0,class:"mb-4"},lg={class:"mb-3"},og={class:"text-muted mb-3"},sg={class:"list-group"},ng=["onClick","title"],ag={class:"card"},ig={class:"card-header bg-light"},rg={class:"mb-0"},dg={class:"card-body"},ug={class:"form-group mb-3"},cg={class:"form-control-label"},fg={value:""},pg=["label"],mg=["value","disabled"],vg={class:"form-text text-muted"},gg={class:"form-group mb-3"},hg={class:"form-control-label"},bg=["value"],yg={class:"form-text text-muted"},_g=["disabled"],$g={key:0},wg={key:1},xg={class:"acfps-step-navigation"},kg=["disabled","title"],Cg=le({__name:"LocationRulesEditor",emits:["next-step","prev-step"],setup(t,{emit:s}){const l=s,o=He(),{t:a}=fe();z(()=>o.currentGroup);const i=R(!1),r=R(""),c=R("=="),p=z(()=>{var D;return((D=window.acfConfig)==null?void 0:D.locations)||{}}),u=z(()=>Object.entries(p.value).map(([D,C])=>{const E=[...C].sort((U,O)=>{const L=U.enabled!==!1,S=O.enabled!==!1;return L===S?(U.label||"").localeCompare(O.label||""):L?-1:1});return{name:D,items:E}})),n=[{value:"==",label:"equals"},{value:"!=",label:"notEquals"}],d=z(()=>{var C;const D=(C=o.currentGroup)==null?void 0:C.locationRules;return Array.isArray(D)?D:[]}),h=z(()=>d.value.length>0);z(()=>{const D=[];for(const C of d.value)if(C["=="]&&Array.isArray(C["=="])){const E=C["=="][1];E&&!D.includes(E)&&D.push(E)}return D});const v=z(()=>h.value);async function _(D){if(D&&(D.preventDefault(),D.stopPropagation()),!r.value||!o.currentGroup)return;const C={[c.value]:[{var:"entity_type"},r.value]};Array.isArray(o.currentGroup.locationRules)||(o.currentGroup.locationRules=[]),o.currentGroup.locationRules.push(C);const E=r.value,U=c.value;r.value="",i.value=!0;try{await o.saveGroup()}catch(O){console.error("❌ Failed to save location rule:",O),Array.isArray(o.currentGroup.locationRules)&&o.currentGroup.locationRules.pop(),r.value=E,c.value=U,alert(a("saveError")||"Failed to save location rule. Please try again.")}finally{i.value=!1}}async function w(D){if(!(!o.currentGroup||!Array.isArray(o.currentGroup.locationRules))){o.currentGroup.locationRules.splice(D,1);try{await o.saveGroup()}catch(C){console.error("❌ Failed to save after rule removal:",C)}}}function $(D){if(D["=="]&&Array.isArray(D["=="])){const C=D["=="][1],E=I(C);return E?`Show on ${E.label}`:`Entity = ${C}`}if(D["!="]&&Array.isArray(D["!="])){const C=D["!="][1],E=I(C);return E?`Exclude ${E.label}`:`Entity ≠ ${C}`}return JSON.stringify(D)}function I(D){for(const C of u.value){const E=C.items.find(U=>U.value===D);if(E)return E}}return(D,C)=>(g(),b("div",Zv,[e("div",Kv,[e("p",eg,[C[4]||(C[4]=e("i",{class:"material-icons mr-1",style:{"vertical-align":"middle","font-size":"16px",color:"#6c757d"}},"location_on",-1)),A(" "+m(f(a)("locationRulesHelp")),1)])]),d.value.length>0?(g(),b("div",tg,[e("h4",lg,[C[5]||(C[5]=e("i",{class:"material-icons text-success mr-2",style:{"vertical-align":"middle"}},"check_circle",-1)),A(" "+m(f(a)("activeLocationRules")),1)]),e("p",og,m(f(a)("locationRulesDescription")),1),e("div",sg,[(g(!0),b(X,null,te(d.value,(E,U)=>(g(),b("div",{key:U,class:"list-group-item d-flex justify-content-between align-items-center"},[e("span",null,[C[6]||(C[6]=e("i",{class:"material-icons text-primary mr-2",style:{"vertical-align":"middle"}},"location_on",-1)),A(" "+m($(E)),1)]),e("button",{class:"btn btn-sm btn-outline-danger",onClick:O=>w(U),title:f(a)("removeRule")},[...C[7]||(C[7]=[e("i",{class:"material-icons",style:{"font-size":"18px"}},"delete",-1)])],8,ng)]))),128))])])):F("",!0),e("div",ag,[e("div",ig,[e("h4",rg,[C[8]||(C[8]=e("i",{class:"material-icons mr-2",style:{"vertical-align":"middle"}},"add_location",-1)),A(" "+m(f(a)("addLocationRule")),1)])]),e("div",dg,[e("div",ug,[e("label",cg,[C[9]||(C[9]=e("i",{class:"material-icons mr-1",style:{"font-size":"16px","vertical-align":"middle"}},"category",-1)),A(" "+m(f(a)("applyTo"))+" ",1),C[10]||(C[10]=e("span",{class:"text-danger"},"*",-1))]),G(e("select",{"onUpdate:modelValue":C[0]||(C[0]=E=>r.value=E),class:"form-control"},[e("option",fg,m(f(a)("selectEntityType")),1),(g(!0),b(X,null,te(u.value,E=>(g(),b("optgroup",{key:E.name,label:E.name},[(g(!0),b(X,null,te(E.items,U=>(g(),b("option",{key:U.value,value:U.enabled?U.value:"",disabled:!U.enabled},m(U.label)+" "+m(U.enabled?"":" (coming soon...)")+" "+m(U.enabled&&U.integration_type==="legacy"?" (legacy)":""),9,mg))),128))],8,pg))),128))],512),[[ft,r.value]]),e("small",vg,m(f(a)("contentTypeDescription")),1)]),e("div",gg,[e("label",hg,[C[11]||(C[11]=e("i",{class:"material-icons mr-1",style:{"font-size":"16px","vertical-align":"middle"}},"filter_list",-1)),A(" "+m(f(a)("operator")||"Condition"),1)]),G(e("select",{"onUpdate:modelValue":C[1]||(C[1]=E=>c.value=E),class:"form-control"},[(g(),b(X,null,te(n,E=>e("option",{key:E.value,value:E.value},m(f(a)(E.label)||E.label),9,bg)),64))],512),[[ft,c.value]]),e("small",yg,m(f(a)("conditionDescription")),1)]),e("button",{type:"button",class:"btn btn-primary btn-lg",disabled:!r.value||i.value,onClick:_},[i.value?(g(),b("span",$g,[C[12]||(C[12]=e("i",{class:"material-icons mr-1",style:{"font-size":"18px","vertical-align":"middle"}},"sync",-1)),A(" "+m(f(a)("saving")||"Saving..."),1)])):(g(),b("span",wg,[C[13]||(C[13]=e("i",{class:"material-icons mr-1",style:{"font-size":"18px","vertical-align":"middle"}},"add",-1)),A(" "+m(f(a)("addRule")||"Add Location Rule"),1)]))],8,_g)])]),e("div",xg,[e("button",{class:"btn btn-outline-secondary",onClick:C[2]||(C[2]=E=>l("prev-step"))},[C[14]||(C[14]=e("span",{class:"material-icons"},"arrow_back",-1)),A(" "+m(f(a)("general")),1)]),e("button",{class:"btn btn-primary",disabled:!v.value,onClick:C[3]||(C[3]=E=>l("next-step")),title:h.value?"":f(a)("defineEntityTypeFirst")},[A(" Next: "+m(f(a)("fields"))+" ",1),C[15]||(C[15]=e("span",{class:"material-icons"},"arrow_forward",-1))],8,kg)])]))}}),Sg=he(Cg,[["__scopeId","data-v-a0f8e227"]]),Tg={key:0,class:"docs-panel"},Dg={class:"docs-header"},Ig={class:"docs-tabs"},Eg={class:"docs-content"},Mg={key:0,class:"docs-section"},Rg={class:"intro-box"},Fg=["innerHTML"],Ag={class:"example-header"},Ug=["onClick"],Lg={class:"material-icons"},Vg={class:"example-code"},Og={class:"example-desc"},Ng={key:1,class:"docs-section"},Pg={class:"intro-box"},Gg=["innerHTML"],Bg={class:"example-header"},Hg=["onClick"],jg={class:"material-icons"},zg={class:"example-code"},qg={class:"example-desc"},Yg={key:2,class:"docs-section"},Wg={class:"intro-box"},Xg={class:"example-header"},Jg=["onClick"],Qg={class:"material-icons"},Zg={class:"example-code"},Kg={class:"example-desc"},eh={class:"api-reference"},th={class:"api-sections"},lh={class:"api-section"},oh={class:"api-table"},sh={class:"api-section"},nh={class:"api-table"},ah={class:"api-section"},ih={class:"api-table"},rh={class:"api-section"},dh={class:"api-table"},uh={class:"api-section"},ch={class:"api-table"},fh={class:"api-section"},ph={class:"api-table"},mh=le({__name:"DocumentationPanel",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:s}){const{copyToClipboard:l}=yo(),{t:o}=fe(),a=R("smarty"),i=R(null);async function r(n,d){await l(n)&&(i.value=d,setTimeout(()=>{i.value=null},2e3))}const c=z(()=>[{title:o("Get field value (escaped)","Get field value (escaped)"),code:"{$acf->field('brand')}",description:o("Returns the field value with XSS protection","Returns the field value with XSS protection")},{title:o("Get field value with default","Get field value with default"),code:"{$acf->field('brand', 'Not specified')}",description:o("Returns field value or default if empty","Returns field value or default if empty")},{title:o("Get raw value (not escaped)","Get raw value (not escaped)"),code:"{$acf->raw('description')}",description:o("Returns raw value - use only for trusted content","Returns raw value - use only for trusted content")},{title:o("Render field as HTML","Render field as HTML"),code:"{$acf->render('product_image')}",description:o("Renders field with appropriate HTML (images, videos, etc.)","Renders field with appropriate HTML (images, videos, etc.)")},{title:o("Get translated label (select/radio/checkbox)","Get translated label (select/radio/checkbox)"),code:"{$acf->label('size')}",description:o("Returns translated label instead of raw value","Returns translated label instead of raw value")},{title:o("Check if field has value","Check if field has value"),code:`{if $acf->has('promo_badge')}
  <span class="badge">{$acf->field('promo_badge')}</span>
{/if}`,description:o("Conditional display based on field value","Conditional display based on field value")},{title:o("Loop through repeater","Loop through repeater"),code:`{foreach $acf->repeater('specifications') as $row}
  <tr>
    <td>{$row.label}</td>
    <td>{$row.value}</td>
  </tr>
{/foreach}`,description:o("Iterate over repeater field rows with auto-label resolution","Iterate over repeater field rows with auto-label resolution")},{title:o("Loop through repeater with index","Loop through repeater with index"),code:`{foreach $acf->repeater('testimonials') as $index => $row}
  <div class="testimonial testimonial-{$index}">
    <blockquote>{$row.text}</blockquote>
    <cite>{$row.author}</cite>
  </div>
{/foreach}`,description:o("Access row index in repeater loop","Access row index in repeater loop")},{title:o("Check repeater count","Check repeater count"),code:`{if $acf->countRepeater('specifications') > 0}
  <h3>Specifications</h3>
  <table>
    {foreach $acf->repeater('specifications') as $row}
      <tr><td>{$row.label}</td><td>{$row.value}</td></tr>
    {/foreach}
  </table>
{/if}`,description:o("Check if repeater has rows before displaying","Check if repeater has rows before displaying")},{title:o("Display all group fields","Display all group fields"),code:`{foreach $acf->group('product_info') as $field}
  {if $field.has_value}
    <div class="field">
      <label>{$field.title}</label>
      {$field.rendered nofilter}
    </div>
  {/if}
{/foreach}`,description:o("Render all fields from a group","Render all fields from a group")},{title:o("Display group by ID","Display group by ID"),code:`{foreach $acf->group(1) as $field}
  {if $field.type != 'repeater' && $field.has_value}
    <div class="acf-field">
      <label>{$field.title}</label>
      {$field.rendered nofilter}
    </div>
  {/if}
{/foreach}`,description:o("Render all fields from a group by ID","Render all fields from a group by ID")},{title:o("Override context (other product)","Override context (other product)"),code:"{$acf->forProduct(123)->field('brand')}",description:o("Get field from a specific product","Get field from a specific product")},{title:o("Override context (any entity)","Override context (any entity)"),code:`{$acf->forEntity('category', 5)->render('banner')}
{$acf->forEntity('cms_page', 10)->field('custom_title')}`,description:o("Get field from any entity type (product, category, cms_page, customer, etc.)","Get field from any entity type (product, category, cms_page, customer, etc.)")},{title:o("Using Smarty function","Using Smarty function"),code:'{acf_field slug="brand" default="N/A"}',description:o("Alternative syntax using Smarty function","Alternative syntax using Smarty function")},{title:o("Rich text field (HTML)","Rich text field (HTML)"),code:"{$acf->render('rich_content')}",description:o("Render rich text/WYSIWYG content with HTML (use render, not field)","Render rich text/WYSIWYG content with HTML (use render, not field)")},{title:o("Email field with mailto link","Email field with mailto link"),code:`<a href="mailto:{$acf->field('contact_email')}">
  {$acf->field('contact_email')}
</a>`,description:o("Create mailto link using field value","Create mailto link using field value")},{title:o("URL field with link","URL field with link"),code:`<a href="{$acf->field('website')}" target="_blank" rel="noopener">
  Visit website
</a>`,description:o("Create external link using URL field","Create external link using URL field")},{title:o("Number field with formatting","Number field with formatting"),code:"{$acf->field('price')|number_format:2:',':' '} €",description:o("Format number fields with currency","Format number fields with currency")},{title:o("Date field formatting","Date field formatting"),code:`{$acf->field('release_date')|date_format:'%d/%m/%Y'}
{$acf->field('event_date')|date_format:'%A %d %B %Y'}`,description:o("Format date fields with custom patterns","Format date fields with custom patterns")},{title:o("Boolean field (conditional)","Boolean field (conditional)"),code:`{if $acf->field('in_stock')}
  <span class="stock-ok">✓ In stock</span>
{else}
  <span class="stock-ko">✗ Out of stock</span>
{/if}`,description:o("Conditional display based on boolean field","Conditional display based on boolean field")},{title:o("Boolean field (rendered)","Boolean field (rendered)"),code:"{$acf->render('featured')}",description:o("Render boolean field with icons/symbols","Render boolean field with icons/symbols")},{title:o("Select/Radio field (raw value)","Select/Radio field (raw value)"),code:`{if $acf->field('size') == 'xl'}
  <span class="shipping">Free shipping!</span>
{/if}`,description:o("Use raw value for conditional logic","Use raw value for conditional logic")},{title:o("Select/Radio field (translated label)","Select/Radio field (translated label)"),code:"<p>Size: {$acf->label('size')}</p>",description:o("Display translated label for user-friendly output","Display translated label for user-friendly output")},{title:o("Checkbox field (multiple values)","Checkbox field (multiple values)"),code:`{assign var="options" value=$acf->raw('features')}
{if is_array($options)}
  <ul>
  {foreach $options as $option}
    <li>{$option}</li>
  {/foreach}
  </ul>
{/if}`,description:o("Handle multiple checkbox selections as array","Handle multiple checkbox selections as array")},{title:o("Image field (custom display)","Image field (custom display)"),code:`{assign var="img" value=$acf->raw('product_image')}
{if $img}
  <img src="{$img.url}" alt="{$img.alt|default:''}" 
       class="custom-image" loading="lazy">
{/if}`,description:o("Access image properties (url, alt, title, etc.)","Access image properties (url, alt, title, etc.)")},{title:o("Gallery field (custom grid)","Gallery field (custom grid)"),code:`{assign var="images" value=$acf->raw('photo_gallery')}
{if $images && is_array($images)}
  <div class="gallery-grid">
  {foreach $images as $img}
    <div class="gallery-item">
      <img src="{$img.url}" alt="{$img.alt|default:''}">
    </div>
  {/foreach}
  </div>
{/if}`,description:o("Create custom gallery layout with image arrays","Create custom gallery layout with image arrays")},{title:o("Video field (custom player)","Video field (custom player)"),code:`{assign var="video" value=$acf->raw('promo_video')}
{if $video}
  <div class="video-wrapper">
    <video controls poster="{$video.poster|default:''}">
      <source src="{$video.url}" type="{$video.mime|default:'video/mp4'}">
    </video>
  </div>
{/if}`,description:o("Access video properties (url, poster, mime type, etc.)","Access video properties (url, poster, mime type, etc.)")},{title:o("File field (download link)","File field (download link)"),code:`{assign var="file" value=$acf->raw('brochure')}
{if $file}
  <a href="{$file.url}" download class="download-btn">
    📄 Download {$file.title|default:'file'}
  </a>
{/if}`,description:o("Create download link with file properties","Create download link with file properties")},{title:o("Color field (inline style)","Color field (inline style)"),code:`<div style="background-color: {$acf->field('theme_color')}">
  Colored content
</div>`,description:o("Use color field value in CSS styling","Use color field value in CSS styling")},{title:o("Star rating display","Star rating display"),code:`Rating: {$acf->render('quality_rating')}
<span class="rating-text">
  {$acf->field('quality_rating')}/5 stars
</span>`,description:o("Display star rating with visual and numeric values","Display star rating with visual and numeric values")},{title:o("List field (custom bullets)","List field (custom bullets)"),code:`{assign var="features" value=$acf->raw('product_features')}
{if $features && is_array($features)}
  <ul class="feature-list">
  {foreach $features as $feature}
    <li class="feature-item">{$feature}</li>
  {/foreach}
  </ul>
{/if}`,description:o("Create custom styled list from list field","Create custom styled list from list field")},{title:o("Relation field (IDs only)","Relation field (IDs only)"),code:`{assign var="productIds" value=$acf->raw('related_products')}
{if $productIds && is_array($productIds)}
  {foreach $productIds as $id}
    <p>Product ID: {$id}</p>
  {/foreach}
{/if}`,description:o("Access raw IDs from relation field for custom logic","Access raw IDs from relation field for custom logic")},{title:o("Relation field (enriched data)","Relation field (enriched data)"),code:`{foreach $acf->group('product_group') as $field}
  {if $field.slug == 'related_products' && $field.has_value}
    {foreach $field.value as $product}
      <div class="product-card">
        <a href="{$product.link}">{$product.name}</a>
        {if $product.image}<img src="{$product.image}" alt="{$product.name}">{/if}
        {if $product.price}<span class="price">{$product.price}</span>{/if}
      </div>
    {/foreach}
  {/if}
{/foreach}`,description:o("Access enriched relation data with links, images, prices","Access enriched relation data with links, images, prices")}]),p=z(()=>[{title:o("Get field value (escaped)","Get field value (escaped)"),code:"{{ acf_field('brand') }}",description:o("Returns the field value with XSS protection","Returns the field value with XSS protection")},{title:o("Get field value with default","Get field value with default"),code:"{{ acf_field('brand', 'Not specified') }}",description:o("Returns field value or default if empty","Returns field value or default if empty")},{title:o("Get raw value (not escaped)","Get raw value (not escaped)"),code:"{{ acf_raw('description') }}",description:o("Returns raw value - use only for trusted content","Returns raw value - use only for trusted content")},{title:o("Render field as HTML","Render field as HTML"),code:"{{ acf_render('product_image') }}",description:o("Renders field with appropriate HTML","Renders field with appropriate HTML")},{title:o("Get translated label (select/radio/checkbox)","Get translated label (select/radio/checkbox)"),code:"{{ acf_label('size') }}",description:o("Returns translated label instead of raw value","Returns translated label instead of raw value")},{title:o("Check if field has value","Check if field has value"),code:`{% if acf_has('promo_badge') %}
  <span class="badge">{{ acf_field('promo_badge') }}</span>
{% endif %}`,description:o("Conditional display","Conditional display")},{title:o("Loop through repeater","Loop through repeater"),code:`{% for row in acf_repeater('specifications') %}
  <tr>
    <td>{{ row.label }}</td>
    <td>{{ row.value }}</td>
  </tr>
{% endfor %}`,description:o("Iterate over repeater rows with auto-label resolution","Iterate over repeater rows with auto-label resolution")},{title:o("Loop through repeater with index","Loop through repeater with index"),code:`{% for row in acf_repeater('testimonials') %}
  <div class="testimonial">
    <blockquote>{{ row.text }}</blockquote>
    <cite>{{ row.author }}</cite>
  </div>
{% endfor %}`,description:o("Access repeater rows with automatic index","Access repeater rows with automatic index")},{title:o("Check repeater count","Check repeater count"),code:`{% if acf_count_repeater('specifications') > 0 %}
  <h3>Specifications</h3>
  <table>
    {% for row in acf_repeater('specifications') %}
      <tr><td>{{ row.label }}</td><td>{{ row.value }}</td></tr>
    {% endfor %}
  </table>
{% endif %}`,description:o("Check if repeater has rows before displaying","Check if repeater has rows before displaying")},{title:o("Display all group fields","Display all group fields"),code:`{% for field in acf_group('product_info') %}
  {% if field.has_value %}
    <div class="field">
      <label>{{ field.title }}</label>
      {{ field.rendered|raw }}
    </div>
  {% endif %}
{% endfor %}`,description:o("Render all fields from a group","Render all fields from a group")},{title:o("Display group by ID","Display group by ID"),code:`{% for field in acf_group_by_id(1) %}
  {% if field.type != 'repeater' and field.has_value %}
    <div class="acf-field">
      <label>{{ field.title }}</label>
      {{ field.rendered|raw }}
    </div>
  {% endif %}
{% endfor %}`,description:o("Render all fields from a group by ID","Render all fields from a group by ID")},{title:o("Override context (specific entity)","Override context (specific entity)"),code:"{{ acf_field('brand', '', 'product', 123) }}",description:o("Get field from specific entity (product, category, etc.)","Get field from specific entity (product, category, etc.)")},{title:o("Rich text field (HTML)","Rich text field (HTML)"),code:"{{ acf_render('rich_content') }}",description:o("Render rich text/WYSIWYG content (use render, not field)","Render rich text/WYSIWYG content (use render, not field)")},{title:o("Email field with mailto link","Email field with mailto link"),code:`<a href="mailto:{{ acf_field('contact_email') }}">
  {{ acf_field('contact_email') }}
</a>`,description:o("Create mailto link using field value","Create mailto link using field value")},{title:o("URL field with link","URL field with link"),code:`<a href="{{ acf_field('website') }}" target="_blank" rel="noopener">
  Visit website
</a>`,description:o("Create external link using URL field","Create external link using URL field")},{title:o("Number field with formatting","Number field with formatting"),code:"{{ acf_field('price') }} €",description:o("Display number field (formatting can be done with filters)","Display number field (formatting can be done with filters)")},{title:o("Boolean field (conditional)","Boolean field (conditional)"),code:`{% if acf_field('in_stock') %}
  <span class="stock-ok">✓ In stock</span>
{% else %}
  <span class="stock-ko">✗ Out of stock</span>
{% endif %}`,description:o("Conditional display based on boolean field","Conditional display based on boolean field")},{title:o("Select/Radio field (translated label)","Select/Radio field (translated label)"),code:"<p>Size: {{ acf_label('size') }}</p>",description:o("Display translated label for user-friendly output","Display translated label for user-friendly output")},{title:o("Image field (custom display)","Image field (custom display)"),code:`{% set img = acf_raw('product_image') %}
{% if img %}
  <img src="{{ img.url }}" alt="{{ img.alt|default('') }}" 
       class="custom-image" loading="lazy">
{% endif %}`,description:o("Access image properties in Twig","Access image properties in Twig")},{title:o("Gallery field (custom grid)","Gallery field (custom grid)"),code:`{% set images = acf_raw('photo_gallery') %}
{% if images is iterable %}
  <div class="gallery-grid">
  {% for img in images %}
    <div class="gallery-item">
      <img src="{{ img.url }}" alt="{{ img.alt|default('') }}">
    </div>
  {% endfor %}
  </div>
{% endif %}`,description:o("Create custom gallery layout with image arrays","Create custom gallery layout with image arrays")}]),u=z(()=>[{title:o("Basic field value","Basic field value"),code:'[acf field="brand"]',description:o("Display field value in CMS content or product descriptions","Display field value in CMS content or product descriptions")},{title:o("Field with default value","Field with default value"),code:'[acf field="brand" default="Not specified"]',description:o("Show default text if field is empty","Show default text if field is empty")},{title:o("Render field as HTML","Render field as HTML"),code:'[acf_render field="product_image"]',description:o("Render field with appropriate HTML formatting","Render field with appropriate HTML formatting")},{title:o("Render field as HTML with default","Render field as HTML with default"),code:'[acf_render field="gallery" default="No images available"]',description:o("Render field with HTML or show default if empty","Render field with HTML or show default if empty")},{title:o("Render complete group","Render complete group"),code:'[acf_group id="1"]',description:o("Display all fields from group ID 1","Display all fields from group ID 1")},{title:o("Render group by slug","Render group by slug"),code:'[acf_group slug="product_info"]',description:o("Display all fields from group by slug","Display all fields from group by slug")},{title:o("Simple repeater loop","Simple repeater loop"),code:`[acf_repeater slug="features"]
  <li>{row.title}: {row.description}</li>
[/acf_repeater]`,description:o("Loop through repeater rows in CMS content","Loop through repeater rows in CMS content")},{title:o("Repeater with conditional","Repeater with conditional"),code:`[acf_repeater slug="testimonials"]
  {if row.rating >= 4}
    <div class="good-review">
      <strong>{row.name}</strong>: {row.comment}
      <span class="stars">★★★★★</span>
    </div>
  {/if}
[/acf_repeater]`,description:o("Repeater with conditional logic inside the loop","Repeater with conditional logic inside the loop")},{title:o("Field from specific product","Field from specific product"),code:'[acf field="brand" entity_type="product" entity_id="123"]',description:o("Get field value from a specific product","Get field value from a specific product")},{title:o("Field from specific category","Field from specific category"),code:'[acf field="banner" entity_type="category" entity_id="5"]',description:o("Get field value from a specific category","Get field value from a specific category")},{title:o("Field from specific CMS page","Field from specific CMS page"),code:'[acf_render field="extra_content" entity_type="cms_page" entity_id="10"]',description:o("Render field from a specific CMS page","Render field from a specific CMS page")},{title:o("Render repeater from another product","Render repeater from another product"),code:`[acf_repeater slug="specifications" entity_type="product" entity_id="456"]
  <tr>
    <td>{row.label}</td>
    <td>{row.value}</td>
  </tr>
[/acf_repeater]`,description:o("Display repeater from a different entity","Display repeater from a different entity")},{title:o("Multiple shortcodes in content","Multiple shortcodes in content"),code:`<h2>Product Information</h2>
[acf field="brand"] - [acf field="model"]

<h3>Description</h3>
[acf_render field="description"]

<h3>Specifications</h3>
<table>
[acf_repeater slug="specs"]
  <tr><td>{row.name}</td><td>{row.value}</td></tr>
[/acf_repeater]
</table>`,description:o("Combine multiple ACF shortcodes in rich content","Combine multiple ACF shortcodes in rich content")},{title:o("FAQ section with repeater","FAQ section with repeater"),code:`<div class="faq-section">
  <h3>Frequently Asked Questions</h3>
  [acf_repeater slug="faq"]
    <details>
      <summary>{row.question}</summary>
      <div class="answer">{row.answer}</div>
    </details>
  [/acf_repeater]
</div>`,description:o("Create FAQ section using repeater shortcode","Create FAQ section using repeater shortcode")}]);return(n,d)=>(g(),ke(Ro,{name:"slide"},{default:Pt(()=>[t.show?(g(),b("div",Tg,[e("div",Dg,[e("h3",null,[d[4]||(d[4]=e("span",{class:"material-icons"},"menu_book",-1)),A(" "+m(f(o)("Front-Office Documentation","Front-Office Documentation")),1)]),e("button",{class:"btn btn-link close-btn",onClick:d[0]||(d[0]=h=>n.$emit("close"))},[...d[5]||(d[5]=[e("span",{class:"material-icons"},"close",-1)])])]),e("div",Ig,[e("button",{class:ne(["tab-btn",{active:a.value==="smarty"}]),onClick:d[1]||(d[1]=h=>a.value="smarty")},[...d[6]||(d[6]=[e("span",{class:"material-icons"},"code",-1),A(" Smarty ",-1)])],2),e("button",{class:ne(["tab-btn",{active:a.value==="twig"}]),onClick:d[2]||(d[2]=h=>a.value="twig")},[...d[7]||(d[7]=[e("span",{class:"material-icons"},"code",-1),A(" Twig ",-1)])],2),e("button",{class:ne(["tab-btn",{active:a.value==="shortcodes"}]),onClick:d[3]||(d[3]=h=>a.value="shortcodes")},[...d[8]||(d[8]=[e("span",{class:"material-icons"},"short_text",-1),A(" Shortcodes ",-1)])],2)]),e("div",Eg,[a.value==="smarty"?(g(),b("div",Mg,[e("div",Rg,[e("p",{innerHTML:f(o)("The <code>$acf</code> variable is automatically available in all front-office Smarty templates. Use it to display ACF field values with automatic context detection.","The <code>$acf</code> variable is automatically available in all front-office Smarty templates.")},null,8,Fg)]),(g(!0),b(X,null,te(c.value,(h,v)=>(g(),b("div",{key:v,class:"example-card"},[e("div",Ag,[e("h5",null,m(h.title),1),e("button",{class:ne(["btn btn-sm copy-btn",{copied:i.value===v}]),onClick:_=>r(h.code,v)},[e("span",Lg,m(i.value===v?"check":"content_copy"),1)],10,Ug)]),e("pre",Vg,[e("code",null,m(h.code),1)]),e("p",Og,m(h.description),1)]))),128))])):F("",!0),a.value==="twig"?(g(),b("div",Ng,[e("div",Pg,[e("p",{innerHTML:f(o)("ACF provides Twig functions for use in back-office templates or custom Twig templates. All functions follow the pattern <code>acf_*</code>.","ACF provides Twig functions for use in back-office templates or custom Twig templates.")},null,8,Gg)]),(g(!0),b(X,null,te(p.value,(h,v)=>(g(),b("div",{key:v,class:"example-card"},[e("div",Bg,[e("h5",null,m(h.title),1),e("button",{class:ne(["btn btn-sm copy-btn",{copied:i.value===100+v}]),onClick:_=>r(h.code,100+v)},[e("span",jg,m(i.value===100+v?"check":"content_copy"),1)],10,Hg)]),e("pre",zg,[e("code",null,m(h.code),1)]),e("p",qg,m(h.description),1)]))),128))])):F("",!0),a.value==="shortcodes"?(g(),b("div",Yg,[e("div",Wg,[e("p",null,m(f(o)("Shortcodes can be used in CMS pages, product descriptions, and other WYSIWYG content. They are automatically parsed and replaced with field values.","Shortcodes can be used in CMS pages, product descriptions, and other WYSIWYG content.")),1)]),(g(!0),b(X,null,te(u.value,(h,v)=>(g(),b("div",{key:v,class:"example-card"},[e("div",Xg,[e("h5",null,m(h.title),1),e("button",{class:ne(["btn btn-sm copy-btn",{copied:i.value===200+v}]),onClick:_=>r(h.code,200+v)},[e("span",Qg,m(i.value===200+v?"check":"content_copy"),1)],10,Jg)]),e("pre",Zg,[e("code",null,m(h.code),1)]),e("p",Kg,m(h.description),1)]))),128))])):F("",!0),e("div",eh,[e("h4",null,[d[9]||(d[9]=e("span",{class:"material-icons"},"api",-1)),A(" "+m(f(o)("API Reference","API Reference")),1)]),e("div",th,[e("div",lh,[e("h5",null,m(f(o)("📝 Field Methods","📝 Field Methods")),1),e("table",oh,[e("thead",null,[e("tr",null,[e("th",null,m(f(o)("Method","Method")),1),e("th",null,m(f(o)("Description","Description")),1),e("th",null,m(f(o)("Use Case","Use Case")),1)])]),e("tbody",null,[e("tr",null,[d[10]||(d[10]=e("td",null,[e("code",null,"field(slug, default)")],-1)),e("td",null,m(f(o)("Get escaped field value","Get escaped field value")),1),e("td",null,m(f(o)("Text, numbers, emails, URLs","Text, numbers, emails, URLs")),1)]),e("tr",null,[d[11]||(d[11]=e("td",null,[e("code",null,"raw(slug, default)")],-1)),e("td",null,m(f(o)("Get raw field value (not escaped)","Get raw field value (not escaped)")),1),e("td",null,m(f(o)("Trusted HTML, arrays, objects","Trusted HTML, arrays, objects")),1)]),e("tr",null,[d[12]||(d[12]=e("td",null,[e("code",null,"render(slug)")],-1)),e("td",null,m(f(o)("Render field as HTML","Render field as HTML")),1),e("td",null,m(f(o)("Rich text, images, videos, galleries","Rich text, images, videos, galleries")),1)]),e("tr",null,[d[13]||(d[13]=e("td",null,[e("code",null,"label(slug)")],-1)),e("td",null,m(f(o)("Get translated label (select/radio/checkbox)","Get translated label")),1),e("td",null,m(f(o)("User-friendly display of choice fields","User-friendly display of choice fields")),1)]),e("tr",null,[d[14]||(d[14]=e("td",null,[e("code",null,"has(slug)")],-1)),e("td",null,m(f(o)("Check if field has value","Check if field has value")),1),e("td",null,m(f(o)("Conditional display","Conditional display")),1)])])])]),e("div",sh,[e("h5",null,m(f(o)("🔄 Repeater Methods","🔄 Repeater Methods")),1),e("table",nh,[e("thead",null,[e("tr",null,[e("th",null,m(f(o)("Method","Method")),1),e("th",null,m(f(o)("Description","Description")),1),e("th",null,m(f(o)("Returns","Returns")),1)])]),e("tbody",null,[e("tr",null,[d[15]||(d[15]=e("td",null,[e("code",null,"repeater(slug)")],-1)),e("td",null,m(f(o)("Get repeater rows (with label resolution)","Get repeater rows")),1),e("td",null,m(f(o)("Array of row objects","Array of row objects")),1)]),e("tr",null,[d[16]||(d[16]=e("td",null,[e("code",null,"repeater(slug, false)")],-1)),e("td",null,m(f(o)("Get repeater rows (raw values)","Get repeater rows (raw)")),1),e("td",null,m(f(o)("Array of row objects","Array of row objects")),1)]),e("tr",null,[d[17]||(d[17]=e("td",null,[e("code",null,"countRepeater(slug)")],-1)),e("td",null,m(f(o)("Count repeater rows","Count repeater rows")),1),e("td",null,m(f(o)("Integer","Integer")),1)])])])]),e("div",ah,[e("h5",null,m(f(o)("📁 Group Methods","📁 Group Methods")),1),e("table",ih,[e("thead",null,[e("tr",null,[e("th",null,m(f(o)("Method","Method")),1),e("th",null,m(f(o)("Description","Description")),1),e("th",null,m(f(o)("Parameters","Parameters")),1)])]),e("tbody",null,[e("tr",null,[d[18]||(d[18]=e("td",null,[e("code",null,"group(id)")],-1)),e("td",null,m(f(o)("Get all fields from group by ID","Get all fields from group by ID")),1),e("td",null,m(f(o)("Integer group ID","Integer group ID")),1)]),e("tr",null,[d[19]||(d[19]=e("td",null,[e("code",null,"group(slug)")],-1)),e("td",null,m(f(o)("Get all fields from group by slug","Get all fields from group by slug")),1),e("td",null,m(f(o)("String group slug","String group slug")),1)])])])]),e("div",rh,[e("h5",null,m(f(o)("🎯 Context Override Methods","🎯 Context Override Methods")),1),e("table",dh,[e("thead",null,[e("tr",null,[e("th",null,m(f(o)("Method","Method")),1),e("th",null,m(f(o)("Description","Description")),1),e("th",null,m(f(o)("Entity Types","Entity Types")),1)])]),e("tbody",null,[e("tr",null,[d[20]||(d[20]=e("td",null,[e("code",null,"forProduct(id)")],-1)),e("td",null,m(f(o)("Override context for product","Override context for product")),1),e("td",null,m(f(o)("Products","Products")),1)]),e("tr",null,[d[21]||(d[21]=e("td",null,[e("code",null,"forCategory(id)")],-1)),e("td",null,m(f(o)("Override context for category","Override context for category")),1),e("td",null,m(f(o)("Categories","Categories")),1)]),e("tr",null,[d[22]||(d[22]=e("td",null,[e("code",null,"forCms(id)")],-1)),e("td",null,m(f(o)("Override context for CMS page","Override context for CMS page")),1),e("td",null,m(f(o)("CMS pages","CMS pages")),1)]),e("tr",null,[d[23]||(d[23]=e("td",null,[e("code",null,"forEntity(type, id)")],-1)),e("td",null,m(f(o)("Override context for any entity","Override context for any entity")),1),e("td",null,m(f(o)("All entity types","All entity types")),1)])])])]),e("div",uh,[e("h5",null,m(f(o)("🏷️ Shortcode Functions","🏷️ Shortcode Functions")),1),e("table",ch,[e("thead",null,[e("tr",null,[e("th",null,m(f(o)("Shortcode","Shortcode")),1),e("th",null,m(f(o)("Description","Description")),1),e("th",null,m(f(o)("Attributes","Attributes")),1)])]),e("tbody",null,[e("tr",null,[d[24]||(d[24]=e("td",null,[e("code",null,'[acf field="slug"]')],-1)),e("td",null,m(f(o)("Display field value","Display field value")),1),d[25]||(d[25]=e("td",null,[e("code",null,"field, default, entity_type, entity_id")],-1))]),e("tr",null,[d[26]||(d[26]=e("td",null,[e("code",null,'[acf_render field="slug"]')],-1)),e("td",null,m(f(o)("Render field as HTML","Render field as HTML")),1),d[27]||(d[27]=e("td",null,[e("code",null,"field, default, entity_type, entity_id")],-1))]),e("tr",null,[d[28]||(d[28]=e("td",null,[e("code",null,'[acf_group id="1"]')],-1)),e("td",null,m(f(o)("Render complete group","Render complete group")),1),d[29]||(d[29]=e("td",null,[e("code",null,"id or slug, entity_type, entity_id")],-1))]),e("tr",null,[d[30]||(d[30]=e("td",null,[e("code",null,'[acf_repeater slug="name"]')],-1)),e("td",null,m(f(o)("Loop through repeater","Loop through repeater")),1),d[31]||(d[31]=e("td",null,[e("code",null,"slug, entity_type, entity_id")],-1))])])])]),e("div",fh,[e("h5",null,m(f(o)("🔧 Twig Functions","🔧 Twig Functions")),1),e("table",ph,[e("thead",null,[e("tr",null,[e("th",null,m(f(o)("Function","Function")),1),e("th",null,m(f(o)("Description","Description")),1)])]),e("tbody",null,[e("tr",null,[d[32]||(d[32]=e("td",null,[e("code",null,"acf_field(slug, default, entity_type, entity_id)")],-1)),e("td",null,m(f(o)("Get escaped field value","Get escaped field value")),1)]),e("tr",null,[d[33]||(d[33]=e("td",null,[e("code",null,"acf_raw(slug, default)")],-1)),e("td",null,m(f(o)("Get raw field value","Get raw field value")),1)]),e("tr",null,[d[34]||(d[34]=e("td",null,[e("code",null,"acf_render(slug)")],-1)),e("td",null,m(f(o)("Render field as HTML","Render field as HTML")),1)]),e("tr",null,[d[35]||(d[35]=e("td",null,[e("code",null,"acf_label(slug)")],-1)),e("td",null,m(f(o)("Get translated label","Get translated label")),1)]),e("tr",null,[d[36]||(d[36]=e("td",null,[e("code",null,"acf_has(slug)")],-1)),e("td",null,m(f(o)("Check if field has value","Check if field has value")),1)]),e("tr",null,[d[37]||(d[37]=e("td",null,[e("code",null,"acf_repeater(slug)")],-1)),e("td",null,m(f(o)("Get repeater rows","Get repeater rows")),1)]),e("tr",null,[d[38]||(d[38]=e("td",null,[e("code",null,"acf_count_repeater(slug)")],-1)),e("td",null,m(f(o)("Count repeater rows","Count repeater rows")),1)]),e("tr",null,[d[39]||(d[39]=e("td",null,[e("code",null,"acf_group(slug)")],-1)),e("td",null,m(f(o)("Get group fields","Get group fields")),1)])])])])])])])])):F("",!0)]),_:1}))}}),vh=he(mh,[["__scopeId","data-v-59f955c5"]]),gh={class:"acfps-group-builder"},hh={class:"acfps-builder-title-bar"},bh={class:"mb-0"},yh={key:0,class:"spinner-border spinner-border-sm ml-2"},_h={key:1,class:"badge badge-warning ml-2",title:"Unsaved changes"},$h={class:"acfps-wizard-steps"},wh={class:"step-number"},xh={key:0,class:"material-icons"},kh={key:1},Ch={class:"step-label"},Sh=["title"],Th={class:"step-number"},Dh={key:0,class:"material-icons"},Ih={key:1},Eh={class:"step-label"},Mh=["title"],Rh={class:"step-label"},Fh={class:"acfps-builder-content"},Ah={class:"acfps-builder-layout"},Uh={class:"acfps-field-list-panel"},Lh={class:"acfps-field-config-panel"},Vh={class:"acfps-step-navigation"},Oh=le({__name:"GroupBuilder",setup(t){const s=He(),{t:l}=fe(),o=R("settings"),a=R(!1),i=z(()=>{const h=s.currentGroup;return h&&h.id!==void 0&&h.id!==null}),r=z(()=>{const h=s.currentGroup,v=h==null?void 0:h.locationRules;return Array.isArray(v)&&v.length>0}),c=z(()=>i.value),p=z(()=>i.value&&r.value),u=z(()=>({settings:{completed:i.value,current:o.value==="settings"},location:{completed:r.value,current:o.value==="location",locked:!c.value},fields:{completed:!1,current:o.value==="fields",locked:!p.value}}));async function n(){if(s.currentGroup&&(await s.saveGroup(),s.error)){console.warn("Cannot proceed to next step - save failed:",s.error);return}o.value==="settings"&&c.value?o.value="location":o.value==="location"&&p.value&&(o.value="fields")}function d(){o.value==="fields"?o.value="location":o.value==="location"&&(o.value="settings")}return ee(()=>s.currentGroup,(h,v)=>{h&&(!v||v.id!==h.id)&&(h.id&&r.value?o.value="fields":o.value="settings")},{immediate:!0}),ee(o,h=>{h==="location"&&!c.value?o.value="settings":h==="fields"&&!p.value&&(c.value?o.value="location":o.value="settings")}),(h,v)=>{var _;return g(),b("div",gh,[e("div",hh,[e("h5",bh,[v[6]||(v[6]=e("span",{class:"material-icons text-muted mr-2"},"folder",-1)),A(" "+m(((_=f(s).currentGroup)==null?void 0:_.title)||f(l)("addGroup"))+" ",1),f(s).saving?(g(),b("span",yh)):F("",!0),f(s).hasUnsavedChanges&&!f(s).saving?(g(),b("span",_h,[...v[5]||(v[5]=[e("span",{class:"material-icons",style:{"font-size":"14px","vertical-align":"middle"}},"warning",-1),A(" Not saved ",-1)])])):F("",!0)]),e("button",{class:"btn btn-outline-info btn-sm docs-btn",onClick:v[0]||(v[0]=w=>a.value=!0),title:"View front-office documentation"},[...v[7]||(v[7]=[e("span",{class:"material-icons"},"menu_book",-1),e("span",{class:"btn-text"},"Docs",-1)])])]),_e(vh,{show:a.value,onClose:v[1]||(v[1]=w=>a.value=!1)},null,8,["show"]),e("div",$h,[e("div",{class:ne(["wizard-step",{completed:u.value.settings.completed,active:u.value.settings.current}]),onClick:v[2]||(v[2]=w=>o.value="settings")},[e("div",wh,[u.value.settings.completed?(g(),b("span",xh,"check")):(g(),b("span",kh,"1"))]),e("div",Ch,m(f(l)("general")),1)],2),e("div",{class:ne(["wizard-connector",{completed:u.value.settings.completed}])},null,2),e("div",{class:ne(["wizard-step",{completed:u.value.location.completed,active:u.value.location.current,locked:u.value.location.locked}]),onClick:v[3]||(v[3]=w=>c.value&&(o.value="location")),title:u.value.location.locked?f(l)("completeGeneralSettingsFirst"):""},[e("div",Th,[u.value.location.completed?(g(),b("span",Dh,"check")):(g(),b("span",Ih,"2"))]),e("div",Eh,m(f(l)("location")),1)],10,Sh),e("div",{class:ne(["wizard-connector",{completed:u.value.location.completed}])},null,2),e("div",{class:ne(["wizard-step",{active:u.value.fields.current,locked:u.value.fields.locked}]),onClick:v[4]||(v[4]=w=>p.value&&(o.value="fields")),title:u.value.fields.locked?c.value?f(l)("defineEntityTypeFirst"):f(l)("completeGeneralSettingsFirst"):""},[v[8]||(v[8]=e("div",{class:"step-number"},"3",-1)),e("div",Rh,m(f(l)("fields")),1)],10,Mh)]),e("div",Fh,[o.value==="fields"?(g(),b(X,{key:0},[e("div",Ah,[e("div",Uh,[_e(bi)]),e("div",Lh,[_e(xv)])]),e("div",Vh,[e("button",{class:"btn btn-outline-secondary",onClick:d},[v[9]||(v[9]=e("span",{class:"material-icons"},"arrow_back",-1)),A(" "+m(f(l)("location")),1)]),v[10]||(v[10]=e("div",null,null,-1))])],64)):o.value==="settings"?(g(),ke(Qv,{key:1,onNextStep:n})):o.value==="location"?(g(),ke(Sg,{key:2,onNextStep:n,onPrevStep:d})):F("",!0)])])}}}),Nh=he(Oh,[["__scopeId","data-v-d0cd1edf"]]),Ph={class:"cpt-type-list"},Gh={class:"card"},Bh={class:"card-header d-flex justify-content-between align-items-center"},Hh={class:"card-body"},jh={key:0,class:"text-center"},zh={key:1,class:"alert alert-danger"},qh={key:2,class:"alert alert-info"},Yh={key:3,class:"table-responsive"},Wh={class:"table"},Xh={class:"material-icons"},Jh={class:"text-muted"},Qh={key:0,class:"badge badge-success"},Zh={key:1,class:"badge badge-secondary"},Kh={key:0,class:"badge badge-success"},eb={key:1,class:"badge badge-secondary"},tb={class:"btn-group"},lb=["onClick"],ob=["onClick"],sb=["href"],nb=["onClick"],ab=le({__name:"CptTypeList",setup(t){const s=ot(),l=R(!1),o=R(null);Ke(async()=>{l.value=!0,await s.fetchTypes(),await s.fetchTaxonomies(),l.value=!1});function a(r){s.currentType=r,s.viewMode="posts",s.fetchPostsByType(r.slug)}function i(r){confirm(`Delete ${r.name}? This will delete all posts.`)&&s.deleteType(r.id)}return(r,c)=>(g(),b("div",Ph,[e("div",Gh,[e("div",Bh,[c[2]||(c[2]=e("h3",{class:"card-header-title"},"Custom Post Types",-1)),e("button",{class:"btn btn-primary",onClick:c[0]||(c[0]=p=>f(s).createNewType())},[...c[1]||(c[1]=[e("i",{class:"material-icons"},"add",-1),A(" New CPT Type ",-1)])])]),e("div",Hh,[l.value?(g(),b("div",jh,[...c[3]||(c[3]=[e("div",{class:"spinner-border",role:"status"},null,-1)])])):o.value?(g(),b("div",zh,m(o.value),1)):f(s).sortedTypes.length===0?(g(),b("div",qh," No CPT types yet. Create your first one! ")):(g(),b("div",Yh,[e("table",Wh,[c[9]||(c[9]=e("thead",null,[e("tr",null,[e("th",null,"Icon"),e("th",null,"Name"),e("th",null,"Slug"),e("th",null,"URL Prefix"),e("th",null,"Archive"),e("th",null,"Status"),e("th",null,"Actions")])],-1)),e("tbody",null,[(g(!0),b(X,null,te(f(s).sortedTypes,p=>(g(),b("tr",{key:p.id},[e("td",null,[e("i",Xh,m(p.icon||"article"),1)]),e("td",null,[e("strong",null,m(p.name),1),c[4]||(c[4]=e("br",null,null,-1)),e("small",Jh,m(p.description),1)]),e("td",null,[e("code",null,m(p.slug),1)]),e("td",null,[e("code",null,"/"+m(p.url_prefix),1)]),e("td",null,[p.has_archive?(g(),b("span",Qh,"Enabled")):(g(),b("span",Zh,"Disabled"))]),e("td",null,[p.active?(g(),b("span",Kh,"Active")):(g(),b("span",eb,"Inactive"))]),e("td",null,[e("div",tb,[e("button",{class:"btn btn-sm btn-outline-secondary",onClick:u=>f(s).editType(p.id),title:"Edit"},[...c[5]||(c[5]=[e("i",{class:"material-icons"},"edit",-1)])],8,lb),e("button",{class:"btn btn-sm btn-outline-primary",onClick:u=>a(p),title:"Manage Posts"},[...c[6]||(c[6]=[e("i",{class:"material-icons"},"list",-1)])],8,ob),p.view_url?(g(),b("a",{key:0,href:p.view_url,target:"_blank",class:"btn btn-sm btn-outline-info",title:"View on Front"},[...c[7]||(c[7]=[e("i",{class:"material-icons"},"visibility",-1)])],8,sb)):F("",!0),e("button",{class:"btn btn-sm btn-outline-danger",onClick:u=>i(p),title:"Delete"},[...c[8]||(c[8]=[e("i",{class:"material-icons"},"delete",-1)])],8,nb)])])]))),128))])])]))])])]))}}),ib={class:"cpt-type-builder"},rb={class:"card"},db={class:"card-header"},ub={class:"card-header-title"},cb={class:"card-body"},fb={key:0,class:"alert alert-danger"},pb={class:"form-section"},mb={class:"form-group"},vb={class:"form-group"},gb={class:"form-group"},hb={class:"form-group"},bb={class:"form-section mt-4"},yb={class:"form-group"},_b={class:"form-text text-muted"},$b={class:"form-check"},wb={key:0,class:"form-group mt-2"},xb={class:"form-section mt-4"},kb={class:"form-group"},Cb={class:"form-group"},Sb={class:"form-section mt-4"},Tb={key:0,class:"acf-groups-list"},Db=["id","value"],Ib=["for"],Eb={key:1,class:"alert alert-info"},Mb={class:"form-section mt-4"},Rb={key:0,class:"taxonomies-list"},Fb=["id","value"],Ab=["for"],Ub={key:1,class:"alert alert-info"},Lb={class:"form-actions mt-4"},Vb=["disabled"],Ob={key:0},Nb={key:1},Pb=le({__name:"CptTypeBuilder",props:{typeId:{}},emits:["saved","cancel"],setup(t,{emit:s}){const l=t,o=s,a=ot(),i=He(),r=z(()=>!!l.typeId),c=R(!1),p=R([]),u=ct({name:"",slug:"",description:"",url_prefix:"",has_archive:!0,archive_slug:"",icon:"article",position:0,active:!0,acf_groups:[],taxonomies:[]}),n=ct({title_pattern:"{title} - {shop_name}",description_pattern:""});Ke(async()=>{if(await i.loadGroups(),p.value=i.groups,await a.fetchTaxonomies(),r.value||a.currentType){const v=a.currentType||(l.typeId?await a.fetchType(l.typeId):null);v&&(Object.assign(u,v),v.seo_config&&Object.assign(n,v.seo_config))}});function d(){var v;r.value||(u.slug=((v=u.name)==null?void 0:v.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,""))||"",u.url_prefix=u.slug)}async function h(){c.value=!0;try{const v={...u,seo_config:n};let _;r.value&&l.typeId?_=await a.updateType(l.typeId,v):_=await a.createType(v),_&&o("saved",_)}catch(v){a.error=v.message}finally{c.value=!1}}return(v,_)=>(g(),b("div",ib,[e("div",rb,[e("div",db,[e("h3",ub,m(r.value?"Edit CPT Type":"New CPT Type"),1)]),e("div",cb,[e("form",{onSubmit:Ce(h,["prevent"])},[f(a).error?(g(),b("div",fb,m(f(a).error),1)):F("",!0),e("div",pb,[_[18]||(_[18]=e("h4",null,"General Settings",-1)),e("div",mb,[_[12]||(_[12]=e("label",{for:"type_name"},"Name *",-1)),G(e("input",{id:"type_name","onUpdate:modelValue":_[0]||(_[0]=w=>u.name=w),type:"text",class:"form-control",required:"",onInput:d},null,544),[[q,u.name]])]),e("div",vb,[_[13]||(_[13]=e("label",{for:"type_slug"},"Slug *",-1)),G(e("input",{id:"type_slug","onUpdate:modelValue":_[1]||(_[1]=w=>u.slug=w),type:"text",class:"form-control",required:"",pattern:"[a-z0-9_-]+"},null,512),[[q,u.slug]]),_[14]||(_[14]=e("small",{class:"form-text text-muted"}," Lowercase letters, numbers, hyphens and underscores only ",-1))]),e("div",gb,[_[15]||(_[15]=e("label",{for:"type_description"},"Description",-1)),G(e("textarea",{id:"type_description","onUpdate:modelValue":_[2]||(_[2]=w=>u.description=w),class:"form-control",rows:"3"},null,512),[[q,u.description]])]),e("div",hb,[_[16]||(_[16]=e("label",{for:"type_icon"},"Icon",-1)),G(e("input",{id:"type_icon","onUpdate:modelValue":_[3]||(_[3]=w=>u.icon=w),type:"text",class:"form-control",placeholder:"article"},null,512),[[q,u.icon]]),_[17]||(_[17]=e("small",{class:"form-text text-muted"}," Material icon name (e.g., article, event, folder) ",-1))])]),e("div",bb,[_[22]||(_[22]=e("h4",null,"URL Settings",-1)),e("div",yb,[_[19]||(_[19]=e("label",{for:"url_prefix"},"URL Prefix *",-1)),G(e("input",{id:"url_prefix","onUpdate:modelValue":_[4]||(_[4]=w=>u.url_prefix=w),type:"text",class:"form-control",required:""},null,512),[[q,u.url_prefix]]),e("small",_b," Posts will be accessible at: /"+m(u.url_prefix)+"/post-slug ",1)]),e("div",$b,[G(e("input",{id:"has_archive","onUpdate:modelValue":_[5]||(_[5]=w=>u.has_archive=w),type:"checkbox",class:"form-check-input"},null,512),[[yt,u.has_archive]]),_[20]||(_[20]=e("label",{for:"has_archive",class:"form-check-label"}," Enable Archive Page ",-1))]),u.has_archive?(g(),b("div",wb,[_[21]||(_[21]=e("label",{for:"archive_slug"},"Archive Slug (optional)",-1)),G(e("input",{id:"archive_slug","onUpdate:modelValue":_[6]||(_[6]=w=>u.archive_slug=w),type:"text",class:"form-control",placeholder:"Same as URL prefix"},null,512),[[q,u.archive_slug]])])):F("",!0)]),e("div",xb,[_[25]||(_[25]=e("h4",null,"SEO Settings",-1)),e("div",kb,[_[23]||(_[23]=e("label",{for:"seo_title_pattern"},"Title Pattern",-1)),G(e("input",{id:"seo_title_pattern","onUpdate:modelValue":_[7]||(_[7]=w=>n.title_pattern=w),type:"text",class:"form-control",placeholder:"{title} - {shop_name}"},null,512),[[q,n.title_pattern]])]),e("div",Cb,[_[24]||(_[24]=e("label",{for:"seo_desc_pattern"},"Description Pattern",-1)),G(e("input",{id:"seo_desc_pattern","onUpdate:modelValue":_[8]||(_[8]=w=>n.description_pattern=w),type:"text",class:"form-control",placeholder:"{title} - Read more on {shop_name}"},null,512),[[q,n.description_pattern]])])]),e("div",Sb,[_[26]||(_[26]=e("h4",null,"ACF Groups",-1)),_[27]||(_[27]=e("p",{class:"text-muted"},"Select which ACF groups to display when editing posts of this type",-1)),p.value.length>0?(g(),b("div",Tb,[(g(!0),b(X,null,te(p.value,w=>(g(),b("div",{key:w.id,class:"form-check"},[G(e("input",{id:`group_${w.id}`,"onUpdate:modelValue":_[9]||(_[9]=$=>u.acf_groups=$),type:"checkbox",class:"form-check-input",value:w.id},null,8,Db),[[yt,u.acf_groups]]),e("label",{for:`group_${w.id}`,class:"form-check-label"},m(w.title),9,Ib)]))),128))])):(g(),b("div",Eb," No ACF groups available. Create ACF groups first. "))]),e("div",Mb,[_[28]||(_[28]=e("h4",null,"Taxonomies",-1)),_[29]||(_[29]=e("p",{class:"text-muted"},"Select which taxonomies to use with this post type",-1)),f(a).taxonomies.length>0?(g(),b("div",Rb,[(g(!0),b(X,null,te(f(a).taxonomies,w=>(g(),b("div",{key:w.id,class:"form-check"},[G(e("input",{id:`tax_${w.id}`,"onUpdate:modelValue":_[10]||(_[10]=$=>u.taxonomies=$),type:"checkbox",class:"form-check-input",value:w.id},null,8,Fb),[[yt,u.taxonomies]]),e("label",{for:`tax_${w.id}`,class:"form-check-label"},m(w.name),9,Ab)]))),128))])):(g(),b("div",Ub," No taxonomies available. Create taxonomies first. "))]),e("div",Lb,[e("button",{type:"submit",class:"btn btn-primary",disabled:c.value},[c.value?(g(),b("span",Ob,"Saving...")):(g(),b("span",Nb,m(r.value?"Update":"Create")+" Type",1))],8,Vb),e("button",{type:"button",class:"btn btn-secondary ml-2",onClick:_[11]||(_[11]=w=>v.$emit("cancel"))}," Cancel ")])],32)])])]))}}),Gb=he(Pb,[["__scopeId","data-v-ad17dcef"]]),Bb={class:"cpt-taxonomy-manager"},Hb={class:"card"},jb={class:"card-header d-flex justify-content-between align-items-center"},zb={class:"card-body"},qb={key:0,class:"alert alert-info"},Yb={key:1,class:"list-group"},Wb={key:0,class:"text-muted d-block"},Xb={class:"btn-group"},Jb=["onClick"],Qb=["onClick"],Zb={key:0,class:"modal",style:{display:"block"}},Kb={class:"modal-dialog"},e1={class:"modal-content"},t1={class:"modal-header"},l1={class:"modal-body"},o1={class:"form-group"},s1={class:"form-group"},n1={class:"form-group"},a1={class:"modal-footer"},i1=le({__name:"CptTaxonomyManager",setup(t){const s=ot(),l=R(!1),o=ct({name:"",slug:"",description:"",hierarchical:!0});function a(){o.slug=o.name.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,"")}async function i(){await s.createTaxonomy(o)&&(l.value=!1,o.name="",o.slug="",o.description="")}function r(p){s.manageTaxonomyTerms(p)}function c(p){confirm(`Delete taxonomy "${p.name}"?`)&&s.deleteTaxonomy(p.id)}return(p,u)=>(g(),b("div",Bb,[e("div",Hb,[e("div",jb,[u[7]||(u[7]=e("h3",{class:"card-header-title"},"Taxonomies",-1)),e("button",{class:"btn btn-primary btn-sm",onClick:u[0]||(u[0]=n=>l.value=!0)},[...u[6]||(u[6]=[e("i",{class:"material-icons"},"add",-1),A(" New Taxonomy ",-1)])])]),e("div",zb,[f(s).taxonomies.length===0?(g(),b("div",qb," No taxonomies yet. Create your first one! ")):(g(),b("div",Yb,[(g(!0),b(X,null,te(f(s).taxonomies,n=>(g(),b("div",{key:n.id,class:"list-group-item d-flex justify-content-between align-items-center"},[e("div",null,[e("strong",null,m(n.name),1),u[8]||(u[8]=e("br",null,null,-1)),e("code",null,m(n.slug),1),n.description?(g(),b("small",Wb,m(n.description),1)):F("",!0)]),e("div",Xb,[e("button",{class:"btn btn-sm btn-outline-secondary",onClick:d=>r(n),title:"Manage Terms"},[...u[9]||(u[9]=[e("i",{class:"material-icons"},"category",-1),A(" Terms ",-1)])],8,Jb),e("button",{class:"btn btn-sm btn-outline-danger",onClick:d=>c(n),title:"Delete"},[...u[10]||(u[10]=[e("i",{class:"material-icons"},"delete",-1)])],8,Qb)])]))),128))]))])]),l.value?(g(),b("div",Zb,[e("div",Kb,[e("div",e1,[e("div",t1,[u[12]||(u[12]=e("h5",{class:"modal-title"},"New Taxonomy",-1)),e("button",{type:"button",class:"close",onClick:u[1]||(u[1]=n=>l.value=!1)},[...u[11]||(u[11]=[e("span",null,"×",-1)])])]),e("div",l1,[e("div",o1,[u[13]||(u[13]=e("label",{for:"tax_name"},"Name *",-1)),G(e("input",{id:"tax_name","onUpdate:modelValue":u[2]||(u[2]=n=>o.name=n),type:"text",class:"form-control",required:"",onInput:a},null,544),[[q,o.name]])]),e("div",s1,[u[14]||(u[14]=e("label",{for:"tax_slug"},"Slug *",-1)),G(e("input",{id:"tax_slug","onUpdate:modelValue":u[3]||(u[3]=n=>o.slug=n),type:"text",class:"form-control",required:""},null,512),[[q,o.slug]])]),e("div",n1,[u[15]||(u[15]=e("label",{for:"tax_description"},"Description",-1)),G(e("textarea",{id:"tax_description","onUpdate:modelValue":u[4]||(u[4]=n=>o.description=n),class:"form-control",rows:"2"},null,512),[[q,o.description]])])]),e("div",a1,[e("button",{type:"button",class:"btn btn-secondary",onClick:u[5]||(u[5]=n=>l.value=!1)}," Cancel "),e("button",{type:"button",class:"btn btn-primary",onClick:i}," Create ")])])])])):F("",!0)]))}}),r1=he(i1,[["__scopeId","data-v-dc16f0eb"]]),d1={class:"cpt-term-manager"},u1={class:"card"},c1={class:"card-header d-flex justify-content-between align-items-center"},f1={class:"d-flex align-items-center"},p1={class:"card-header-title"},m1={class:"card-body"},v1={key:0,class:"text-center py-4"},g1={key:1,class:"alert alert-info"},h1={key:2,class:"table"},b1={class:"text-right"},y1=["onClick"],_1={key:0,class:"modal",style:{display:"block"}},$1={class:"modal-dialog"},w1={class:"modal-content"},x1={class:"modal-header"},k1={class:"modal-body"},C1={class:"form-group"},S1={class:"form-group"},T1={class:"form-group"},D1={class:"modal-footer"},I1=["disabled"],E1=le({__name:"CptTermManager",setup(t){const s=ot(),l=R(!1),o=R(!1),a=ct({name:"",slug:"",description:""});function i(){a.slug=a.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}async function r(){if(!s.currentTaxonomy)return;o.value=!0;const p=await s.createTerm(s.currentTaxonomy.id,a);o.value=!1,p&&(l.value=!1,a.name="",a.slug="",a.description="")}async function c(p){confirm(`Delete term "${p.name}"?`)&&await s.deleteTerm(p.id)}return(p,u)=>{var n;return g(),b("div",d1,[e("div",u1,[e("div",c1,[e("div",f1,[e("button",{class:"btn btn-sm btn-outline-secondary mr-3",onClick:u[0]||(u[0]=d=>f(s).backToTaxonomies())},[...u[7]||(u[7]=[e("i",{class:"material-icons"},"arrow_back",-1)])]),e("h3",p1,[u[8]||(u[8]=A(" Terms for: ",-1)),e("strong",null,m((n=f(s).currentTaxonomy)==null?void 0:n.name),1)])]),e("button",{class:"btn btn-primary btn-sm",onClick:u[1]||(u[1]=d=>l.value=!0)},[...u[9]||(u[9]=[e("i",{class:"material-icons"},"add",-1),A(" New Term ",-1)])])]),e("div",m1,[f(s).loading?(g(),b("div",v1,[...u[10]||(u[10]=[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"sr-only"},"Loading...")],-1)])])):f(s).terms.length===0?(g(),b("div",g1," No terms found for this taxonomy. ")):(g(),b("table",h1,[u[12]||(u[12]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Slug"),e("th",null,"Description"),e("th",{class:"text-right"},"Actions")])],-1)),e("tbody",null,[(g(!0),b(X,null,te(f(s).terms,d=>(g(),b("tr",{key:d.id},[e("td",null,[e("strong",null,m(d.name),1)]),e("td",null,[e("code",null,m(d.slug),1)]),e("td",null,m(d.description||"-"),1),e("td",b1,[e("button",{class:"btn btn-sm btn-outline-danger",onClick:h=>c(d),title:"Delete"},[...u[11]||(u[11]=[e("i",{class:"material-icons"},"delete",-1)])],8,y1)])]))),128))])]))])]),l.value?(g(),b("div",_1,[e("div",$1,[e("div",w1,[e("div",x1,[u[14]||(u[14]=e("h5",{class:"modal-title"},"New Term",-1)),e("button",{type:"button",class:"close",onClick:u[2]||(u[2]=d=>l.value=!1)},[...u[13]||(u[13]=[e("span",null,"×",-1)])])]),e("div",k1,[e("div",C1,[u[15]||(u[15]=e("label",{for:"term_name"},"Name *",-1)),G(e("input",{id:"term_name","onUpdate:modelValue":u[3]||(u[3]=d=>a.name=d),type:"text",class:"form-control",required:"",onInput:i},null,544),[[q,a.name]])]),e("div",S1,[u[16]||(u[16]=e("label",{for:"term_slug"},"Slug *",-1)),G(e("input",{id:"term_slug","onUpdate:modelValue":u[4]||(u[4]=d=>a.slug=d),type:"text",class:"form-control",required:""},null,512),[[q,a.slug]])]),e("div",T1,[u[17]||(u[17]=e("label",{for:"term_description"},"Description",-1)),G(e("textarea",{id:"term_description","onUpdate:modelValue":u[5]||(u[5]=d=>a.description=d),class:"form-control",rows:"2"},null,512),[[q,a.description]])])]),e("div",D1,[e("button",{type:"button",class:"btn btn-secondary",onClick:u[6]||(u[6]=d=>l.value=!1)}," Cancel "),e("button",{type:"button",class:"btn btn-primary",disabled:o.value,onClick:r},m(o.value?"Creating...":"Create"),9,I1)])])])])):F("",!0)])}}}),M1=he(E1,[["__scopeId","data-v-4098a3dc"]]),R1={class:"cpt-post-list"},F1={class:"card"},A1={class:"card-header d-flex justify-content-between align-items-center"},U1={class:"d-flex align-items-center"},L1={class:"card-header-title mb-0"},V1={class:"card-body"},O1={key:0,class:"text-center py-5"},N1={key:1,class:"alert alert-danger"},P1={key:2,class:"alert alert-info text-center"},G1={key:3,class:"table-responsive"},B1={class:"table table-hover"},H1={key:0,class:"badge badge-success"},j1={key:1,class:"badge badge-warning"},z1={key:2,class:"badge badge-secondary"},q1={class:"text-right"},Y1={class:"btn-group"},W1=["onClick"],X1=["href"],J1=["onClick"],Q1=le({__name:"CptPostList",setup(t){const s=ot();Ke(()=>{s.currentType&&s.fetchPostsByType(s.currentType.slug)});function l(){s.currentPost=null,s.viewMode="post-build"}function o(i){s.currentPost=i,s.viewMode="post-build"}function a(i){confirm(`Delete post "${i.title}"? This cannot be undone.`)&&s.deletePost(i.id,s.currentType.slug)}return(i,r)=>{var c,p,u;return g(),b("div",R1,[e("div",F1,[e("div",A1,[e("div",U1,[e("button",{class:"btn btn-outline-secondary btn-sm mr-2",onClick:r[0]||(r[0]=n=>f(s).goToList())},[...r[1]||(r[1]=[e("i",{class:"material-icons"},"arrow_back",-1)])]),e("h3",L1,m((c=f(s).currentType)==null?void 0:c.name)+" Posts ",1)]),e("button",{class:"btn btn-primary",onClick:l},[r[2]||(r[2]=e("i",{class:"material-icons"},"add",-1)),A(" Add New "+m((p=f(s).currentType)==null?void 0:p.name),1)])]),e("div",V1,[f(s).loadingPosts?(g(),b("div",O1,[...r[3]||(r[3]=[e("div",{class:"spinner-border text-primary",role:"status"},null,-1)])])):f(s).error?(g(),b("div",N1,m(f(s).error),1)):f(s).posts.length===0?(g(),b("div",P1," No posts found for "+m((u=f(s).currentType)==null?void 0:u.name)+". ",1)):(g(),b("div",G1,[e("table",B1,[r[7]||(r[7]=e("thead",null,[e("tr",null,[e("th",{style:{width:"50px"}},"ID"),e("th",null,"Title"),e("th",null,"Slug"),e("th",null,"Status"),e("th",{class:"text-right"},"Actions")])],-1)),e("tbody",null,[(g(!0),b(X,null,te(f(s).posts,n=>(g(),b("tr",{key:n.id},[e("td",null,m(n.id),1),e("td",null,[e("strong",null,m(n.title),1)]),e("td",null,[e("code",null,m(n.slug),1)]),e("td",null,[n.status==="published"?(g(),b("span",H1,"Published")):n.status==="draft"?(g(),b("span",j1,"Draft")):(g(),b("span",z1,m(n.status),1))]),e("td",q1,[e("div",Y1,[e("button",{class:"btn btn-sm btn-outline-secondary",title:"Edit",onClick:d=>o(n)},[...r[4]||(r[4]=[e("i",{class:"material-icons"},"edit",-1)])],8,W1),n.view_url?(g(),b("a",{key:0,href:n.view_url,target:"_blank",class:"btn btn-sm btn-outline-info",title:"View on Front"},[...r[5]||(r[5]=[e("i",{class:"material-icons"},"visibility",-1)])],8,X1)):F("",!0),e("button",{class:"btn btn-sm btn-outline-danger",onClick:d=>a(n),title:"Delete"},[...r[6]||(r[6]=[e("i",{class:"material-icons"},"delete",-1)])],8,J1)])])]))),128))])])]))])])])}}}),Z1={class:"cpt-post-builder"},K1={class:"card"},ey={class:"card-header d-flex justify-content-between align-items-center"},ty={class:"card-header-title mb-0"},ly={class:"card-body"},oy={key:0,class:"text-center py-5"},sy={class:"row"},ny={class:"col-md-9"},ay={class:"form-group"},iy={class:"form-group"},ry={class:"input-group"},dy={class:"input-group-prepend"},uy={class:"input-group-text"},cy={key:0,class:"acf-fields-section mt-4"},fy={class:"card-header font-weight-bold"},py={class:"card-body"},my={class:"card mt-4"},vy={class:"card-body"},gy={class:"form-group"},hy=["placeholder"],by={class:"form-group"},yy={class:"col-md-3"},_y={class:"card"},$y={class:"card-body"},wy={class:"form-group"},xy=["disabled"],ky={class:"card-header"},Cy={class:"card-body scrollable-checkboxes",style:{"max-height":"200px","overflow-y":"auto"}},Sy=["id","value"],Ty=["for"],Dy={key:0,class:"text-muted small"},Iy={class:"card-header"},Ey={class:"card-body"},My={class:"mb-2"},Ry={class:"mr-2"},Fy=["onClick"],Ay={class:"input-group input-group-sm"},Uy=["onUpdate:modelValue","placeholder","onInput"],Ly={key:0,class:"list-group mt-2 shadow-sm",style:{"max-height":"200px","overflow-y":"auto",position:"absolute","z-index":"1000",width:"85%"}},Vy=["onClick"],Oy=le({__name:"CptPostBuilder",props:{postId:{}},emits:["cancel","saved"],setup(t,{emit:s}){const l=t,o=s,a=ot(),{slugify:i}=mt(),r=z(()=>!!l.postId),c=R(!1),p=R(!1),u=R([]),n=R([]),d=R([]),h=R(null),v=R({title:"",slug:"",status:"draft",seo_title:"",seo_description:"",terms:[],relations:{},acf:{}}),_=z(()=>{var S;return(S=a.currentType)!=null&&S.taxonomies?a.taxonomies.filter(x=>{var M,T;return(T=(M=a.currentType)==null?void 0:M.taxonomies)==null?void 0:T.includes(x.id)}):[]});Ke(async()=>{var S;if(window.psLanguages?(d.value=window.psLanguages,h.value=d.value.find(x=>x.is_default)||d.value[0]):(h.value={id_lang:1,iso_code:"en",is_default:1},d.value=[h.value]),(S=a.currentType)!=null&&S.id&&(u.value=await a.fetchRelations(a.currentType.id)),r.value){c.value=!0;try{const x=await a.fetchPost(l.postId);x&&(v.value={title:x.title,slug:x.slug,status:x.status,seo_title:x.seo_title||"",seo_description:x.seo_description||"",terms:x.terms||[],relations:{},acf:x.acf_values||{}},x.acf_groups&&(n.value=x.acf_groups),x.relations&&Object.entries(x.relations).forEach(([M,T])=>{const y=parseInt(M);v.value.relations[y]=T.map(k=>k.id),I.value[y]=T}))}finally{c.value=!1}}a.taxonomies.length===0&&a.fetchTaxonomies()});const w=R({}),$=R({}),I=R({});async function D(S,x){const M=w.value[S];if(!M||M.length<2){$.value[S]=[];return}const T=await a.searchPosts(x,M),y=v.value.relations[S]||[];$.value[S]=T.filter(k=>!y.includes(k.id))}function C(S,x){v.value.relations[S]||(v.value.relations[S]=[]),I.value[S]||(I.value[S]=[]),v.value.relations[S].push(x.id),I.value[S].push(x),w.value[S]="",$.value[S]=[]}function E(S,x){v.value.relations[S]&&(v.value.relations[S]=v.value.relations[S].filter(M=>M!==x)),I.value[S]&&(I.value[S]=I.value[S].filter(M=>M.id!==x))}ee(_,S=>{S.forEach(x=>{x.id&&(!x.terms||x.terms.length)})},{immediate:!0});async function U(){!r.value&&v.value.title&&(v.value.slug=await i(v.value.title))}async function O(){p.value=!0;try{r.value?await a.updatePost(l.postId,a.currentType.slug,v.value):await a.createPost(a.currentType.slug,v.value),o("saved")}catch(S){console.error("Save failed",S)}finally{p.value=!1}}function L(){o("cancel")}return(S,x)=>{var M,T;return g(),b("div",Z1,[e("div",K1,[e("div",ey,[e("h3",ty,m(r.value?"Edit":"Add New")+" "+m((M=f(a).currentType)==null?void 0:M.name),1),e("button",{class:"btn btn-outline-secondary btn-sm",onClick:L}," Cancel ")]),e("div",ly,[c.value?(g(),b("div",oy,[...x[6]||(x[6]=[e("div",{class:"spinner-border text-primary",role:"status"},null,-1)])])):(g(),b("form",{key:1,onSubmit:Ce(O,["prevent"])},[e("div",sy,[e("div",ny,[e("div",ay,[x[7]||(x[7]=e("label",{class:"form-control-label"},"Title",-1)),G(e("input",{"onUpdate:modelValue":x[0]||(x[0]=y=>v.value.title=y),type:"text",class:"form-control",placeholder:"Enter title here",required:"",onInput:U},null,544),[[q,v.value.title]])]),e("div",iy,[x[8]||(x[8]=e("label",{class:"form-control-label"},"Permalink",-1)),e("div",ry,[e("div",dy,[e("span",uy,m((T=f(a).currentType)==null?void 0:T.url_prefix)+"/",1)]),G(e("input",{"onUpdate:modelValue":x[1]||(x[1]=y=>v.value.slug=y),type:"text",class:"form-control",required:""},null,512),[[q,v.value.slug]])])]),n.value.length>0?(g(),b("div",cy,[x[9]||(x[9]=e("h4",{class:"mb-3"},"Custom Fields",-1)),(g(!0),b(X,null,te(n.value,y=>(g(),b("div",{key:y.id,class:"card mb-3"},[e("div",fy,m(y.title||"Fields"),1),e("div",py,[(g(!0),b(X,null,te(y.fields,k=>(g(),ke(Fo,{key:k.id,field:k,"model-value":v.value.acf[k.slug],languages:d.value,"default-language":h.value,"onUpdate:modelValue":B=>v.value.acf[k.slug]=B},null,8,["field","model-value","languages","default-language","onUpdate:modelValue"]))),128))])]))),128))])):F("",!0),e("div",my,[x[12]||(x[12]=e("div",{class:"card-header"},"SEO Metadata",-1)),e("div",vy,[e("div",gy,[x[10]||(x[10]=e("label",{class:"form-control-label"},"SEO Title",-1)),G(e("input",{"onUpdate:modelValue":x[2]||(x[2]=y=>v.value.seo_title=y),type:"text",class:"form-control",placeholder:v.value.title},null,8,hy),[[q,v.value.seo_title]])]),e("div",by,[x[11]||(x[11]=e("label",{class:"form-control-label"},"SEO Description",-1)),G(e("textarea",{"onUpdate:modelValue":x[3]||(x[3]=y=>v.value.seo_description=y),class:"form-control",rows:"3"},null,512),[[q,v.value.seo_description]])])])])]),e("div",yy,[e("div",_y,[x[15]||(x[15]=e("div",{class:"card-header"},"Publish",-1)),e("div",$y,[e("div",wy,[x[14]||(x[14]=e("label",{class:"form-control-label"},"Status",-1)),G(e("select",{"onUpdate:modelValue":x[4]||(x[4]=y=>v.value.status=y),class:"form-control"},[...x[13]||(x[13]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Published",-1)])],512),[[ft,v.value.status]])]),e("button",{type:"submit",class:"btn btn-primary btn-block",disabled:p.value},m(p.value?"Saving...":r.value?"Update":"Publish"),9,xy)])]),(g(!0),b(X,null,te(_.value,y=>{var k;return g(),b("div",{key:y.id,class:"card mt-3"},[e("div",ky,m(y.name),1),e("div",Cy,[(g(!0),b(X,null,te(y.terms,B=>(g(),b("div",{key:B.id,class:"custom-control custom-checkbox"},[G(e("input",{id:"term-"+B.id,"onUpdate:modelValue":x[5]||(x[5]=oe=>v.value.terms=oe),type:"checkbox",class:"custom-control-input",value:B.id},null,8,Sy),[[yt,v.value.terms]]),e("label",{class:"custom-control-label",for:"term-"+B.id},m(B.name),9,Ty)]))),128)),(k=y.terms)!=null&&k.length?F("",!0):(g(),b("div",Dy," No terms found. "))])])}),128)),(g(!0),b(X,null,te(u.value,y=>{var k;return g(),b("div",{key:y.id,class:"card mt-3"},[e("div",Iy,m(y.name),1),e("div",Ey,[e("div",My,[(g(!0),b(X,null,te(I.value[y.id],B=>(g(),b("div",{key:B.id,class:"badge badge-primary mr-1 mb-1 p-2 d-inline-flex align-items-center"},[e("span",Ry,m(B.title),1),e("span",{class:"cursor-pointer font-weight-bold",onClick:oe=>E(y.id,B.id),style:{cursor:"pointer"}},"×",8,Fy)]))),128))]),e("div",Ay,[G(e("input",{"onUpdate:modelValue":B=>w.value[y.id]=B,type:"text",class:"form-control",placeholder:"Search "+(y.target_type_name||"posts")+"...",onInput:B=>D(y.id,y.target_type_slug)},null,40,Uy),[[q,w.value[y.id]]])]),(k=$.value[y.id])!=null&&k.length?(g(),b("div",Ly,[(g(!0),b(X,null,te($.value[y.id],B=>(g(),b("a",{key:B.id,href:"#",class:"list-group-item list-group-item-action py-2",onClick:Ce(oe=>C(y.id,B),["prevent"])},[e("small",null,m(B.title),1)],8,Vy))),128))])):F("",!0)])])}),128))])])],32))])])])}}}),Ny=he(Oy,[["__scopeId","data-v-39ef8422"]]),Py={class:"acfps-app"},Gy={class:"nav nav-tabs mb-4",role:"tablist"},By={key:0,class:"acfps-loading"},Hy={class:"spinner-border text-primary",role:"status"},jy={class:"sr-only"},zy={key:2,class:"cpt-content"},qy={class:"btn-group mb-3",role:"group"},Yy=le({__name:"App",setup(t){const s=He(),l=ot(),{t:o}=fe(),a=R("acf"),i=R("types");ee(()=>l.viewMode,u=>{u==="posts"?i.value="posts":u==="post-build"?i.value="post-build":u==="list"&&(i.value==="posts"||i.value==="post-build")&&(i.value="types")});function r(){const u=document.getElementById("acf-alerts-container");u&&(ee(()=>s.error,n=>{c(u)}),ee(()=>s.successMessage,n=>{c(u)}))}function c(u){var n,d;if(u.innerHTML="",s.error){const h=document.createElement("div");h.className="alert alert-danger alert-dismissible fade show",h.innerHTML=`
      ${s.error}
      <button type="button" class="close" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    `,(n=h.querySelector(".close"))==null||n.addEventListener("click",()=>{s.clearError(),h.remove()}),u.appendChild(h)}if(s.successMessage){const h=document.createElement("div");h.className="alert alert-success alert-dismissible fade show",h.innerHTML=`
      ${s.successMessage}
      <button type="button" class="close" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    `,(d=h.querySelector(".close"))==null||d.addEventListener("click",()=>{s.clearSuccess(),h.remove()}),u.appendChild(h),setTimeout(()=>{s.clearSuccess(),h.remove()},5e3)}}function p(){const u=document.querySelector('[id*="add-group"]'),n=document.querySelector('[id*="go-back"]'),d=document.querySelector('[id*="save-group"]'),h=document.querySelectorAll(".acf-toolbar-list-btn"),v=document.querySelectorAll(".acf-toolbar-edit-btn");u==null||u.addEventListener("click",_=>{_.preventDefault(),a.value==="acf"&&s.createNewGroup()}),n==null||n.addEventListener("click",_=>{_.preventDefault(),s.goToList()}),d==null||d.addEventListener("click",_=>{_.preventDefault(),s.saveGroup()}),ee(()=>s.viewMode,_=>{h.forEach(w=>{w.classList.toggle("d-none",_!=="list")}),v.forEach(w=>{w.classList.toggle("d-none",_!=="edit")})},{immediate:!0})}return Ke(()=>{s.loadGroups(),p(),r()}),(u,n)=>{var d,h;return g(),b("div",Py,[e("div",Gy,[e("button",{class:ne(["nav-link",{active:a.value==="acf"}]),onClick:n[0]||(n[0]=v=>a.value="acf"),type:"button"},[...n[8]||(n[8]=[e("i",{class:"material-icons"},"view_list",-1),A(" ACF Field Groups ",-1)])],2),e("button",{class:ne(["nav-link",{active:a.value==="cpt"}]),onClick:n[1]||(n[1]=v=>a.value="cpt"),type:"button"},[...n[9]||(n[9]=[e("i",{class:"material-icons"},"article",-1),A(" Custom Post Types ",-1)])],2)]),f(s).loading&&a.value==="acf"?(g(),b("div",By,[e("div",Hy,[e("span",jy,m(f(o)("loading")),1)])])):F("",!0),a.value==="acf"&&!f(s).loading?(g(),b(X,{key:1},[f(s).viewMode==="list"?(g(),ke(on,{key:0})):f(s).viewMode==="edit"?(g(),ke(Nh,{key:1})):F("",!0)],64)):F("",!0),a.value==="cpt"?(g(),b("div",zy,[e("div",qy,[e("button",{type:"button",class:ne(["btn btn-sm",i.value==="types"?"btn-primary":"btn-outline-secondary"]),onClick:n[2]||(n[2]=v=>i.value="types")},[...n[10]||(n[10]=[e("i",{class:"material-icons"},"article",-1),A(" Post Types ",-1)])],2),e("button",{type:"button",class:ne(["btn btn-sm",i.value==="taxonomies"?"btn-primary":"btn-outline-secondary"]),onClick:n[3]||(n[3]=v=>i.value="taxonomies")},[...n[11]||(n[11]=[e("i",{class:"material-icons"},"category",-1),A(" Taxonomies ",-1)])],2)]),i.value==="types"?(g(),b(X,{key:0},[f(l).viewMode==="list"?(g(),ke(ab,{key:0})):f(l).viewMode==="edit"?(g(),ke(Gb,{key:1,"type-id":(d=f(l).currentType)==null?void 0:d.id,onCancel:n[4]||(n[4]=v=>f(l).goToList()),onSaved:n[5]||(n[5]=v=>f(l).goToList())},null,8,["type-id"])):F("",!0)],64)):i.value==="taxonomies"?(g(),b(X,{key:1},[f(l).taxonomyViewMode==="list"?(g(),ke(r1,{key:0})):f(l).taxonomyViewMode==="terms"?(g(),ke(M1,{key:1})):F("",!0)],64)):i.value==="posts"?(g(),ke(Q1,{key:2})):i.value==="post-build"?(g(),ke(Ny,{key:3,"post-id":(h=f(l).currentPost)==null?void 0:h.id,onCancel:n[6]||(n[6]=v=>f(l).viewMode="posts"),onSaved:n[7]||(n[7]=v=>f(l).viewMode="posts")},null,8,["post-id"])):F("",!0)])):F("",!0)])}}}),Wy=he(Yy,[["__scopeId","data-v-9374b2b6"]]),_o=Ao(Wy),Xy=Uo();_o.use(Xy);const Pl=document.getElementById("acf-builder-app");Pl&&(_o.mount("#acf-builder-app"),Pl.classList.add("mounted"));
