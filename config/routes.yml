# WePresta ACF - Routes Symfony

# =========================================================================
# Builder Admin (Vue.js SPA)
# =========================================================================

wepresta_acf_builder:
    path: /modules/wepresta_acf/builder
    methods: [GET]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\BuilderController::index'
        _legacy_controller: AdminWeprestaAcfBuilder
        _legacy_link: AdminWeprestaAcfBuilder

wepresta_acf_configuration:
    path: /modules/wepresta_acf/configuration
    methods: [GET, POST]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\ConfigurationController::configuration'
        _legacy_controller: AdminWeprestaAcfConfiguration
        _legacy_link: AdminWeprestaAcfConfiguration

# =========================================================================
# API - Groups
# =========================================================================

wepresta_acf_api_groups_list:
    path: /api/groups
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::list'

wepresta_acf_api_groups_create:
    path: /api/groups
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::create'

wepresta_acf_api_groups_show:
    path: /api/groups/{id}
    methods: [GET]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::show'

wepresta_acf_api_groups_update:
    path: /api/groups/{id}
    methods: [PUT, PATCH]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::update'

wepresta_acf_api_groups_delete:
    path: /api/groups/{id}
    methods: [DELETE]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::delete'

wepresta_acf_api_groups_duplicate:
    path: /api/groups/{id}/duplicate
    methods: [POST]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::duplicate'

wepresta_acf_api_groups_global_values_get:
    path: /api/groups/{id}/global-values
    methods: [GET]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::getGlobalValues'

wepresta_acf_api_groups_global_values_save:
    path: /api/groups/{id}/global-values
    methods: [POST, PUT]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::saveGlobalValues'

# =========================================================================
# API - Fields
# =========================================================================

wepresta_acf_api_fields_create:
    path: /api/groups/{groupId}/fields
    methods: [POST]
    requirements:
        groupId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::create'

wepresta_acf_api_fields_update:
    path: /api/fields/{id}
    methods: [PUT, PATCH]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::update'

wepresta_acf_api_fields_delete:
    path: /api/fields/{id}
    methods: [DELETE]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::delete'

wepresta_acf_api_fields_reorder:
    path: /api/groups/{groupId}/fields/reorder
    methods: [POST]
    requirements:
        groupId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::reorder'

# =========================================================================
# API - Values
# =========================================================================

wepresta_acf_api_values_save:
    path: /api/values
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\ValueApiController::save'

wepresta_acf_api_values_get:
    path: /api/values/{productId}
    methods: [GET]
    requirements:
        productId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\ValueApiController::show'

# =========================================================================
# API - Utility
# =========================================================================

wepresta_acf_api_field_types:
    path: /api/field-types
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::fieldTypes'

wepresta_acf_api_field_types_grouped:
    path: /api/field-types/grouped
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::fieldTypesGrouped'

wepresta_acf_api_slugify:
    path: /api/slugify
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::slugify'

wepresta_acf_api_seed:
    path: /api/seed
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::seed'

wepresta_acf_api_force_upgrade:
    path: /api/force-upgrade
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::forceUpgrade'

wepresta_acf_api_upload_file:
    path: /api/upload-file
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::uploadFile'

# =========================================================================
# API - Sync
# =========================================================================

wepresta_acf_api_sync_status:
    path: /api/sync/status
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\SyncApiController::status'

wepresta_acf_api_sync_group_status:
    path: /api/sync/status/{groupId}
    methods: [GET]
    requirements:
        groupId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\SyncApiController::groupStatus'

wepresta_acf_api_sync_push:
    path: /api/sync/push/{groupId}
    methods: [POST]
    requirements:
        groupId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\SyncApiController::push'

wepresta_acf_api_sync_pull:
    path: /api/sync/pull/{slug}
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\SyncApiController::pull'

wepresta_acf_api_sync_push_all:
    path: /api/sync/push-all
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\SyncApiController::pushAll'

wepresta_acf_api_sync_pull_all:
    path: /api/sync/pull-all
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\SyncApiController::pullAll'

wepresta_acf_api_sync_export:
    path: /api/sync/export/{groupId}
    methods: [GET]
    requirements:
        groupId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\SyncApiController::export'

# =========================================================================
# API - Field Types Management
# =========================================================================

wepresta_acf_api_fieldtypes_list:
    path: /api/field-types/list
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::list'

wepresta_acf_api_fieldtypes_show:
    path: /api/field-types/{type}
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::show'

wepresta_acf_api_fieldtypes_upload:
    path: /api/field-types/upload
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::upload'

wepresta_acf_api_fieldtypes_delete:
    path: /api/field-types/{type}
    methods: [DELETE]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::remove'

wepresta_acf_api_fieldtypes_paths:
    path: /api/field-types/paths
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::paths'

# =========================================================================
# API - Relation Field Search
# =========================================================================

wepresta_acf_api_relation_search:
    path: /api/relation/search
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\RelationApiController::search'

# =========================================================================
# API - Front Hooks (Presentation)
# =========================================================================

wepresta_acf_api_front_hooks_all:
    path: /api/front-hooks
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FrontHooksController::getAllHooks'

wepresta_acf_api_front_hooks_entity:
    path: /api/front-hooks/{entityType}
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FrontHooksController::getHooksForEntity'

wepresta_acf_api_front_hooks_validate:
    path: /api/front-hooks/{entityType}/{hookName}/validate
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FrontHooksController::validateHook'
