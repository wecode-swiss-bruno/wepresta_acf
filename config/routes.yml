# WePresta ACF - Routes Symfony

# =========================================================================
# Builder Admin (Vue.js SPA)
# =========================================================================

wepresta_acf_builder:
    path: /modules/wepresta_acf/builder
    methods: [GET]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\BuilderController::index'
        _legacy_controller: AdminWeprestaAcfBuilder
        _legacy_link: AdminWeprestaAcfBuilder

wepresta_acf_configuration:
    path: /modules/wepresta_acf/configuration
    methods: [GET, POST]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\ConfigurationController::configuration'
        _legacy_controller: AdminWeprestaAcfConfiguration
        _legacy_link: AdminWeprestaAcfConfiguration

# =========================================================================
# Sync (Export/Import)
# =========================================================================

wepresta_acf_sync:
    path: /modules/wepresta_acf/sync
    methods: [GET, POST]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::index'
        _legacy_controller: AdminWeprestaAcfSync
        _legacy_link: AdminWeprestaAcfSync

wepresta_acf_sync_export:
    path: /modules/wepresta_acf/sync/export
    methods: [GET]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::export'
        _legacy_controller: AdminWeprestaAcfSync
        _legacy_link: AdminWeprestaAcfSync

wepresta_acf_sync_import:
    path: /modules/wepresta_acf/sync/import
    methods: [GET]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::import'
        _legacy_controller: AdminWeprestaAcfSync
        _legacy_link: AdminWeprestaAcfSync

wepresta_acf_api_export_all:
    path: /api/export/all
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::exportAll'

wepresta_acf_api_export_group:
    path: /api/export/group/{groupId}
    methods: [GET]
    requirements:
        groupId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::exportGroup'

wepresta_acf_api_import_validate:
    path: /api/import/validate
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::validateFile'

wepresta_acf_api_import:
    path: /api/import
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::importFile'

# =========================================================================
# API - Auto-Sync
# =========================================================================

wepresta_acf_api_auto_sync_toggle:
    path: /api/auto-sync/toggle
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::toggleAutoSync'

wepresta_acf_api_auto_sync_export_now:
    path: /api/auto-sync/export-now
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::exportNow'

wepresta_acf_api_auto_sync_import:
    path: /api/auto-sync/import
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::importFromSync'

wepresta_acf_api_auto_sync_dismiss:
    path: /api/auto-sync/dismiss
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::dismissSyncNotification'

wepresta_acf_api_auto_sync_now:
    path: /api/auto-sync/sync-now
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfSync
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\SyncController::syncNow'

# =========================================================================
# API - Groups
# =========================================================================

wepresta_acf_api_groups_list:
    path: /api/groups
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::list'

wepresta_acf_api_groups_create:
    path: /api/groups
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::create'

wepresta_acf_api_groups_show:
    path: /api/groups/{id}
    methods: [GET]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::show'

wepresta_acf_api_groups_update:
    path: /api/groups/{id}
    methods: [PUT, PATCH]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::update'

wepresta_acf_api_groups_delete:
    path: /api/groups/{id}
    methods: [DELETE]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::delete'

wepresta_acf_api_groups_duplicate:
    path: /api/groups/{id}/duplicate
    methods: [POST]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::duplicate'

wepresta_acf_api_groups_global_values_get:
    path: /api/groups/{id}/global-values
    methods: [GET]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::getGlobalValues'

wepresta_acf_api_groups_global_values_save:
    path: /api/groups/{id}/global-values
    methods: [POST, PUT]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::saveGlobalValues'

# =========================================================================
# API - Fields
# =========================================================================

wepresta_acf_api_fields_create:
    path: /api/groups/{groupId}/fields
    methods: [POST]
    requirements:
        groupId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::create'

wepresta_acf_api_fields_update:
    path: /api/fields/{id}
    methods: [PUT, PATCH]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::update'

wepresta_acf_api_fields_delete:
    path: /api/fields/{id}
    methods: [DELETE]
    requirements:
        id: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::delete'

wepresta_acf_api_fields_reorder:
    path: /api/groups/{groupId}/fields/reorder
    methods: [POST]
    requirements:
        groupId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::reorder'

# =========================================================================
# API - Values
# =========================================================================

wepresta_acf_api_values_save:
    path: /api/values
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\ValueApiController::save'

wepresta_acf_api_values_get:
    path: /api/values/{productId}
    methods: [GET]
    requirements:
        productId: \d+
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\ValueApiController::show'

# =========================================================================
# API - Utility
# =========================================================================

wepresta_acf_api_field_types:
    path: /api/field-types
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::fieldTypes'

wepresta_acf_api_field_types_grouped:
    path: /api/field-types/grouped
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::fieldTypesGrouped'

wepresta_acf_api_slugify:
    path: /api/slugify
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::slugify'

wepresta_acf_api_force_upgrade:
    path: /api/force-upgrade
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::forceUpgrade'

wepresta_acf_api_upload_file:
    path: /api/upload-file
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::uploadFile'

# =========================================================================
# API - Field Types Management
# =========================================================================

wepresta_acf_api_fieldtypes_list:
    path: /api/field-types/list
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::list'

wepresta_acf_api_fieldtypes_show:
    path: /api/field-types/{type}
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::show'

wepresta_acf_api_fieldtypes_upload:
    path: /api/field-types/upload
    methods: [POST]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::upload'

wepresta_acf_api_fieldtypes_delete:
    path: /api/field-types/{type}
    methods: [DELETE]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::remove'

wepresta_acf_api_fieldtypes_paths:
    path: /api/field-types/paths
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldTypeApiController::paths'

# =========================================================================
# API - Relation Field Search
# =========================================================================

wepresta_acf_api_relation_search:
    path: /api/relation/search
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\RelationApiController::search'

# =========================================================================
# API - Front Hooks (Presentation)
# =========================================================================

wepresta_acf_api_front_hooks_all:
    path: /api/front-hooks
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FrontHooksController::getAllHooks'

wepresta_acf_api_front_hooks_entity:
    path: /api/front-hooks/{entityType}
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FrontHooksController::getHooksForEntity'

wepresta_acf_api_front_hooks_validate:
    path: /api/front-hooks/{entityType}/{hookName}/validate
    methods: [GET]
    defaults:
        _legacy_controller: AdminWeprestaAcfBuilder
        _controller: 'WeprestaAcf\Infrastructure\Api\FrontHooksController::validateHook'
