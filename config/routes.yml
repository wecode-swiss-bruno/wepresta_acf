# WePresta ACF - Routes Symfony

# =========================================================================
# Builder Admin (Vue.js SPA)
# =========================================================================

wepresta_acf_builder:
    path: /modules/wepresta_acf/builder
    methods: [GET]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\BuilderController::index'
        _legacy_controller: AdminWeprestaAcfBuilder
        _legacy_link: AdminWeprestaAcfBuilder

wepresta_acf_configuration:
    path: /modules/wepresta_acf/configuration
    methods: [GET, POST]
    defaults:
        _controller: 'WeprestaAcf\Presentation\Controller\Admin\ConfigurationController::configuration'
        _legacy_controller: AdminWeprestaAcfConfiguration
        _legacy_link: AdminWeprestaAcfConfiguration

# =========================================================================
# API - Groups
# =========================================================================

wepresta_acf_api_groups_list:
    path: /modules/wepresta_acf/api/groups
    methods: [GET]
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::list'

wepresta_acf_api_groups_create:
    path: /modules/wepresta_acf/api/groups
    methods: [POST]
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::create'

wepresta_acf_api_groups_show:
    path: /modules/wepresta_acf/api/groups/{id}
    methods: [GET]
    requirements:
        id: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::show'

wepresta_acf_api_groups_update:
    path: /modules/wepresta_acf/api/groups/{id}
    methods: [PUT, PATCH]
    requirements:
        id: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::update'

wepresta_acf_api_groups_delete:
    path: /modules/wepresta_acf/api/groups/{id}
    methods: [DELETE]
    requirements:
        id: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::delete'

wepresta_acf_api_groups_duplicate:
    path: /modules/wepresta_acf/api/groups/{id}/duplicate
    methods: [POST]
    requirements:
        id: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\GroupApiController::duplicate'

# =========================================================================
# API - Fields
# =========================================================================

wepresta_acf_api_fields_create:
    path: /modules/wepresta_acf/api/groups/{groupId}/fields
    methods: [POST]
    requirements:
        groupId: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::create'

wepresta_acf_api_fields_update:
    path: /modules/wepresta_acf/api/fields/{id}
    methods: [PUT, PATCH]
    requirements:
        id: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::update'

wepresta_acf_api_fields_delete:
    path: /modules/wepresta_acf/api/fields/{id}
    methods: [DELETE]
    requirements:
        id: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::delete'

wepresta_acf_api_fields_reorder:
    path: /modules/wepresta_acf/api/groups/{groupId}/fields/reorder
    methods: [POST]
    requirements:
        groupId: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\FieldApiController::reorder'

# =========================================================================
# API - Values
# =========================================================================

wepresta_acf_api_values_save:
    path: /modules/wepresta_acf/api/values
    methods: [POST]
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\ValueApiController::save'

wepresta_acf_api_values_get:
    path: /modules/wepresta_acf/api/values/{productId}
    methods: [GET]
    requirements:
        productId: \d+
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\ValueApiController::show'

# =========================================================================
# API - Utility
# =========================================================================

wepresta_acf_api_field_types:
    path: /modules/wepresta_acf/api/field-types
    methods: [GET]
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::fieldTypes'

wepresta_acf_api_field_types_grouped:
    path: /modules/wepresta_acf/api/field-types/grouped
    methods: [GET]
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::fieldTypesGrouped'

wepresta_acf_api_slugify:
    path: /modules/wepresta_acf/api/slugify
    methods: [POST]
    defaults:
        _controller: 'WeprestaAcf\Infrastructure\Api\UtilityApiController::slugify'
